(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={callServer:function(){return n.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var s in r)Object.defineProperty(a,s,{enumerable:!0,get:r[s]});let n=e.r(132120),l=e.r(92245),i=e.r(235326)},515288,e=>{"use strict";var t=e.i(843476),a=e.i(975157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}function o({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>l,"CardFooter",()=>o,"CardHeader",()=>s,"CardTitle",()=>n])},677572,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(981140),s=e.i(30030),n=e.i(75830),l=e.i(820783),i=e.i(610772),o=e.i(248425),c=e.i(30207),d=e.i(369340),u=e.i(586318),m="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[f,b,p]=(0,n.createCollection)(h),[g,v]=(0,s.createContextScope)(h,[p]),[j,N]=g(h),w=a.forwardRef((e,a)=>(0,t.jsx)(f.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(f.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(y,{...e,ref:a})})}));w.displayName=h;var y=a.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:n,orientation:i,loop:f=!1,dir:p,currentTabStopId:g,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:N,onEntryFocus:w,preventScrollOnEntryFocus:y=!1,...C}=e,S=a.useRef(null),T=(0,l.useComposedRefs)(s,S),E=(0,u.useDirection)(p),[I,k]=(0,d.useControllableState)({prop:g,defaultProp:v??null,onChange:N,caller:h}),[F,A]=a.useState(!1),M=(0,c.useCallbackRef)(w),D=b(n),P=a.useRef(!1),[L,U]=a.useState(0);return a.useEffect(()=>{let e=S.current;if(e)return e.addEventListener(m,M),()=>e.removeEventListener(m,M)},[M]),(0,t.jsx)(j,{scope:n,orientation:i,dir:E,loop:f,currentTabStopId:I,onItemFocus:a.useCallback(e=>k(e),[k]),onItemShiftTab:a.useCallback(()=>A(!0),[]),onFocusableItemAdd:a.useCallback(()=>U(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>U(e=>e-1),[]),children:(0,t.jsx)(o.Primitive.div,{tabIndex:F||0===L?-1:0,"data-orientation":i,...C,ref:T,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{P.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!P.current;if(e.target===e.currentTarget&&t&&!F){let t=new CustomEvent(m,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=D().filter(e=>e.focusable);R([e.find(e=>e.active),e.find(e=>e.id===I),...e].filter(Boolean).map(e=>e.ref.current),y)}}P.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>A(!1))})})}),C="RovingFocusGroupItem",S=a.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:n,focusable:l=!0,active:c=!1,tabStopId:d,children:u,...m}=e,x=(0,i.useId)(),h=d||x,p=N(C,n),g=p.currentTabStopId===h,v=b(n),{onFocusableItemAdd:j,onFocusableItemRemove:w,currentTabStopId:y}=p;return a.useEffect(()=>{if(l)return j(),()=>w()},[l,j,w]),(0,t.jsx)(f.ItemSlot,{scope:n,id:h,focusable:l,active:c,children:(0,t.jsx)(o.Primitive.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...m,ref:s,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{l?p.onItemFocus(h):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,a){var r;let s=(r=e.key,"rtl"!==a?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return T[s]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=v().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var a,r;"prev"===t&&s.reverse();let n=s.indexOf(e.currentTarget);s=p.loop?(a=s,r=n+1,a.map((e,t)=>a[(r+t)%a.length])):s.slice(n+1)}setTimeout(()=>R(s))}}),children:"function"==typeof u?u({isCurrentTabStop:g,hasTabStop:null!=y}):u})})});S.displayName=C;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R(e,t=!1){let a=document.activeElement;for(let r of e)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}var E=e.i(934620),I=e=>{var t;let r,s,{present:n,children:i}=e,o=function(e){var t,r;let[s,n]=a.useState(),l=a.useRef(null),i=a.useRef(e),o=a.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>r[e][t]??e,t));return a.useEffect(()=>{let e=k(l.current);o.current="mounted"===c?e:"none"},[c]),(0,E.useLayoutEffect)(()=>{let t=l.current,a=i.current;if(a!==e){let r=o.current,s=k(t);e?d("MOUNT"):"none"===s||t?.display==="none"?d("UNMOUNT"):a&&r!==s?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),(0,E.useLayoutEffect)(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,a=a=>{let r=k(l.current).includes(a.animationName);if(a.target===s&&r&&(d("ANIMATION_END"),!i.current)){let a=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=a)})}},r=e=>{e.target===s&&(o.current=k(l.current))};return s.addEventListener("animationstart",r),s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",r),s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)}}d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:a.useCallback(e=>{l.current=e?getComputedStyle(e):null,n(e)},[])}}(n),c="function"==typeof i?i({present:o.isPresent}):a.Children.only(i),d=(0,l.useComposedRefs)(o.ref,(t=c,(s=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof i||o.isPresent?a.cloneElement(c,{ref:d}):null};function k(e){return e?.animationName||"none"}I.displayName="Presence";var F="Tabs",[A,M]=(0,s.createContextScope)(F,[v]),D=v(),[P,L]=A(F),U=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:s,onValueChange:n,defaultValue:l,orientation:c="horizontal",dir:m,activationMode:x="automatic",...h}=e,f=(0,u.useDirection)(m),[b,p]=(0,d.useControllableState)({prop:s,onChange:n,defaultProp:l??"",caller:F});return(0,t.jsx)(P,{scope:r,baseId:(0,i.useId)(),value:b,onValueChange:p,orientation:c,dir:f,activationMode:x,children:(0,t.jsx)(o.Primitive.div,{dir:f,"data-orientation":c,...h,ref:a})})});U.displayName=F;var O="TabsList",_=a.forwardRef((e,a)=>{let{__scopeTabs:r,loop:s=!0,...n}=e,l=L(O,r),i=D(r);return(0,t.jsx)(w,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:s,children:(0,t.jsx)(o.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:a})})});_.displayName=O;var B="TabsTrigger",H=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:n,disabled:l=!1,...i}=e,c=L(B,s),d=D(s),u=K(c.baseId,n),m=J(c.baseId,n),x=n===c.value;return(0,t.jsx)(S,{asChild:!0,...d,focusable:!l,active:x,children:(0,t.jsx)(o.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:u,...i,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||l||!e||c.onValueChange(n)})})})});H.displayName=B;var V="TabsContent",z=a.forwardRef((e,r)=>{let{__scopeTabs:s,value:n,forceMount:l,children:i,...c}=e,d=L(V,s),u=K(d.baseId,n),m=J(d.baseId,n),x=n===d.value,h=a.useRef(x);return a.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(I,{present:l||x,children:({present:a})=>(0,t.jsx)(o.Primitive.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:m,tabIndex:0,...c,ref:r,style:{...e.style,animationDuration:h.current?"0s":void 0},children:a&&i})})});function K(e,t){return`${e}-trigger-${t}`}function J(e,t){return`${e}-content-${t}`}z.displayName=V;var $=e.i(975157);function q({className:e,...a}){return(0,t.jsx)(U,{"data-slot":"tabs",className:(0,$.cn)("flex flex-col gap-2",e),...a})}function G({className:e,...a}){return(0,t.jsx)(_,{"data-slot":"tabs-list",className:(0,$.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...a})}function W({className:e,...a}){return(0,t.jsx)(H,{"data-slot":"tabs-trigger",className:(0,$.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function Q({className:e,...a}){return(0,t.jsx)(z,{"data-slot":"tabs-content",className:(0,$.cn)("flex-1 outline-none",e),...a})}e.s(["Tabs",()=>q,"TabsContent",()=>Q,"TabsList",()=>G,"TabsTrigger",()=>W],677572)},761911,e=>{"use strict";let t=(0,e.i(475254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],761911)},533419,673706,e=>{"use strict";var t=e.i(95187),a=(0,t.createServerReference)("006ad6e8e003f89a027444fd113582beae825336b2",t.callServer,void 0,t.findSourceMapURL,"getSubjectsForUserProgram");e.s(["getSubjectsForUserProgram",()=>a],533419);var r=(0,t.createServerReference)("40777a4971dddae39d37a8460620f8507bc8c24490",t.callServer,void 0,t.findSourceMapURL,"getChaptersForSubject");e.s(["getChaptersForSubject",()=>r],673706)},410710,e=>{"use strict";var t=e.i(95187),a=(0,t.createServerReference)("7e436d76fae84b2adc9acd9af9d6625a080aa95db8",t.callServer,void 0,t.findSourceMapURL,"generateQuizAction");e.s(["generateQuizAction",()=>a])},337342,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(618566),s=e.i(519455),n=e.i(793479),l=e.i(515288),i=e.i(967489),o=e.i(677572),c=e.i(846696),d=e.i(736121),u=e.i(761911);let m=(0,e.i(475254).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var x=e.i(531278),h=e.i(533419),f=e.i(673706),b=e.i(410710);function p(){let e=(0,r.useRouter)(),[p,g]=(0,a.useState)(""),[v,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)([]),[y,C]=(0,a.useState)([]),[S,T]=(0,a.useState)(""),[R,E]=(0,a.useState)("");(0,a.useEffect)(()=>{(0,h.getSubjectsForUserProgram)().then(e=>{e&&e.subjects&&w(e.subjects)}).catch(console.error)},[]),(0,a.useEffect)(()=>{S?(0,f.getChaptersForSubject)(parseInt(S)).then(e=>{e&&e.chapters&&(C(e.chapters),E(""))}).catch(console.error):(C([]),E(""))},[S]);let I=async()=>{if(!S||!R)return void c.toast.error("Please select a subject and chapter");j(!0);try{c.toast.info("Preparing battle...");let t=await (0,b.generateQuizAction)(parseInt(S),parseInt(R),"medium",5,["MCQ"],!1),a=await fetch("/api/battle/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quizId:t.id})}),r=await a.json();if(!a.ok)throw Error(r.error);c.toast.success("Battle created! Waiting for opponent..."),e.push(`/app/practice/battle/${r.battle.id}`)}catch(e){console.error(e),e.message?.includes("Not enough questions")?c.toast.error("Not enough questions available for this chapter. Please select a different chapter or contact admin."):c.toast.error(e.message||"Failed to create battle")}finally{j(!1)}},k=async()=>{if(6!==p.length)return void c.toast.error("Please enter a valid 6-digit code");j(!0);try{let t=await fetch("/api/battle/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:p})}),a=await t.json();if(!t.ok)throw Error(a.error);c.toast.success("Joined battle!"),e.push(`/app/practice/battle/${a.battle.id}`)}catch(e){c.toast.error(e.message||"Failed to join battle")}finally{j(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-purple-500/30 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-indigo-900/40 via-slate-950 to-slate-950 pointer-events-none"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))] opacity-20 pointer-events-none"}),(0,t.jsxs)("div",{className:"container max-w-5xl mx-auto py-4 md:py-12 px-4 relative z-10",children:[(0,t.jsxs)("div",{className:"text-center mb-4 md:mb-16 space-y-2 md:space-y-6 animate-in slide-in-from-top-4 fade-in duration-700",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center p-2 md:p-4 bg-indigo-500/10 rounded-3xl mb-2 md:mb-4 border border-indigo-500/20 shadow-[0_0_30px_rgba(99,102,241,0.2)]",children:(0,t.jsx)(d.Swords,{className:"h-6 w-6 md:h-12 md:w-12 text-indigo-400"})}),(0,t.jsx)("h1",{className:"text-2xl md:text-5xl lg:text-6xl font-black tracking-tight bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent drop-shadow-sm",children:"BATTLE ARENA"}),(0,t.jsx)("p",{className:"text-sm md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed px-4",children:"Challenge your friends to a realtime quiz battle. Prove your mastery and climb the leaderboard!"})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsxs)(o.Tabs,{defaultValue:"create",className:"w-full",children:[(0,t.jsxs)(o.TabsList,{className:"grid w-full grid-cols-2 bg-slate-900/50 p-1 mb-6 h-14 rounded-2xl border border-slate-800",children:[(0,t.jsx)(o.TabsTrigger,{value:"create",className:"rounded-xl text-base font-bold text-slate-200 data-[state=active]:bg-gradient-to-r data-[state=active]:from-yellow-500 data-[state=active]:to-orange-600 data-[state=active]:text-white h-full transition-all",children:"Create"}),(0,t.jsx)(o.TabsTrigger,{value:"join",className:"rounded-xl text-base font-bold text-slate-200 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-cyan-600 data-[state=active]:text-white h-full transition-all",children:"Join"})]}),(0,t.jsx)(o.TabsContent,{value:"create",className:"mt-0 focus-visible:ring-0",children:(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-3xl blur opacity-20 group-hover:opacity-50 transition duration-500"}),(0,t.jsxs)(l.Card,{className:"relative h-full bg-slate-900/80 border-slate-800 hover:border-yellow-500/50 transition-all duration-300 backdrop-blur-xl",children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-3 text-xl text-white",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-500/10 rounded-xl",children:(0,t.jsx)(m,{className:"h-5 w-5 text-yellow-500"})}),"Create Battle"]}),(0,t.jsx)(l.CardDescription,{className:"text-slate-400",children:"Start a new match and invite friends"})]}),(0,t.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Subject"}),(0,t.jsxs)(i.Select,{value:S,onValueChange:T,children:[(0,t.jsx)(i.SelectTrigger,{className:"bg-slate-950/50 border-slate-700 text-slate-100 h-12",children:(0,t.jsx)(i.SelectValue,{placeholder:"Select Subject"})}),(0,t.jsx)(i.SelectContent,{className:"bg-slate-900 border-slate-800 text-slate-100",children:N.map(e=>(0,t.jsx)(i.SelectItem,{value:e.id.toString(),className:"focus:bg-slate-800 focus:text-white",children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Chapter"}),(0,t.jsxs)(i.Select,{value:R,onValueChange:E,disabled:!S||0===y.length,children:[(0,t.jsx)(i.SelectTrigger,{className:"bg-slate-950/50 border-slate-700 text-slate-100 h-12 disabled:opacity-50",children:(0,t.jsx)(i.SelectValue,{placeholder:"Select Chapter"})}),(0,t.jsx)(i.SelectContent,{className:"bg-slate-900 border-slate-800 text-slate-100",children:y.map(e=>(0,t.jsxs)(i.SelectItem,{value:e.id.toString(),className:"focus:bg-slate-800 focus:text-white",children:[e.chapter_number?`Ch ${e.chapter_number}: `:"",e.title]},e.id))})]})]}),(0,t.jsx)(s.Button,{className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-400 hover:to-orange-500 text-white shadow-lg shadow-orange-500/20 transition-all hover:scale-[1.02] active:scale-[0.98]",onClick:I,disabled:v||!S||!R,children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Creating..."]}):"Create Battle"})]})]})]})}),(0,t.jsx)(o.TabsContent,{value:"join",className:"mt-0 focus-visible:ring-0",children:(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-3xl blur opacity-20 group-hover:opacity-50 transition duration-500"}),(0,t.jsxs)(l.Card,{className:"relative h-full bg-slate-900/80 border-slate-800 hover:border-blue-500/50 transition-all duration-300 backdrop-blur-xl",children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-3 text-xl text-white",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/10 rounded-xl",children:(0,t.jsx)(u.Users,{className:"h-5 w-5 text-blue-500"})}),"Join Battle"]}),(0,t.jsx)(l.CardDescription,{className:"text-slate-400",children:"Enter a code to join an existing match"})]}),(0,t.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Battle Code"}),(0,t.jsx)(n.Input,{placeholder:"123456",className:"text-center text-3xl tracking-[0.5em] uppercase h-16 bg-slate-950/50 border-slate-700 text-white placeholder:text-slate-700 font-mono",maxLength:6,value:p,onChange:e=>g(e.target.value.replace(/\D/g,""))})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)(s.Button,{className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white shadow-lg shadow-blue-500/20 transition-all hover:scale-[1.02] active:scale-[0.98]",onClick:k,disabled:v||6!==p.length,children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Joining..."]}):"Join Battle"})})]})]})]})})]})}),(0,t.jsxs)("div",{className:"hidden md:grid md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-3xl blur opacity-20 group-hover:opacity-50 transition duration-500"}),(0,t.jsxs)(l.Card,{className:"relative h-full bg-slate-900/80 border-slate-800 hover:border-yellow-500/50 transition-all duration-300 backdrop-blur-xl",children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-3 text-2xl text-white",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-500/10 rounded-xl",children:(0,t.jsx)(m,{className:"h-6 w-6 text-yellow-500"})}),"Create Battle"]}),(0,t.jsx)(l.CardDescription,{className:"text-slate-400 text-base",children:"Start a new match and invite friends"})]}),(0,t.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Subject"}),(0,t.jsxs)(i.Select,{value:S,onValueChange:T,children:[(0,t.jsx)(i.SelectTrigger,{className:"bg-slate-950/50 border-slate-700 text-slate-100 h-12",children:(0,t.jsx)(i.SelectValue,{placeholder:"Select Subject"})}),(0,t.jsx)(i.SelectContent,{className:"bg-slate-900 border-slate-800 text-slate-100",children:N.map(e=>(0,t.jsx)(i.SelectItem,{value:e.id.toString(),className:"focus:bg-slate-800 focus:text-white",children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Chapter"}),(0,t.jsxs)(i.Select,{value:R,onValueChange:E,disabled:!S||0===y.length,children:[(0,t.jsx)(i.SelectTrigger,{className:"bg-slate-950/50 border-slate-700 text-slate-100 h-12 disabled:opacity-50",children:(0,t.jsx)(i.SelectValue,{placeholder:"Select Chapter"})}),(0,t.jsx)(i.SelectContent,{className:"bg-slate-900 border-slate-800 text-slate-100",children:y.map(e=>(0,t.jsxs)(i.SelectItem,{value:e.id.toString(),className:"focus:bg-slate-800 focus:text-white",children:[e.chapter_number?`Ch ${e.chapter_number}: `:"",e.title]},e.id))})]})]}),(0,t.jsx)(s.Button,{className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-400 hover:to-orange-500 text-white shadow-lg shadow-orange-500/20 transition-all hover:scale-[1.02] active:scale-[0.98]",onClick:I,disabled:v||!S||!R,children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Creating..."]}):"Create Battle"})]})]})]}),(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-3xl blur opacity-20 group-hover:opacity-50 transition duration-500"}),(0,t.jsxs)(l.Card,{className:"relative h-full bg-slate-900/80 border-slate-800 hover:border-blue-500/50 transition-all duration-300 backdrop-blur-xl",children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-3 text-2xl text-white",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/10 rounded-xl",children:(0,t.jsx)(u.Users,{className:"h-6 w-6 text-blue-500"})}),"Join Battle"]}),(0,t.jsx)(l.CardDescription,{className:"text-slate-400 text-base",children:"Enter a code to join an existing match"})]}),(0,t.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Battle Code"}),(0,t.jsx)(n.Input,{placeholder:"123456",className:"text-center text-3xl tracking-[0.5em] uppercase h-16 bg-slate-950/50 border-slate-700 text-white placeholder:text-slate-700 font-mono",maxLength:6,value:p,onChange:e=>g(e.target.value.replace(/\D/g,""))})]}),(0,t.jsx)("div",{className:"pt-8",children:(0,t.jsx)(s.Button,{className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white shadow-lg shadow-blue-500/20 transition-all hover:scale-[1.02] active:scale-[0.98]",onClick:k,disabled:v||6!==p.length,children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Joining..."]}):"Join Battle"})})]})]})]})]})]})]})}e.s(["BattleLobby",()=>p],337342)}]);