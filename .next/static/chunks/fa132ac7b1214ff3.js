(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,655900,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],655900)},871689,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},337822,e=>{"use strict";var t,r=e.i(843476),n=e.i(271645),o=e.i(981140),a=e.i(820783),s=e.i(30030),i=e.i(248425),l=e.i(30207),d=e.i(126083),u="dismissableLayer.update",c=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p=n.forwardRef((e,s)=>{let{disableOutsidePointerEvents:p=!1,onEscapeKeyDown:f,onPointerDownOutside:x,onFocusOutside:v,onInteractOutside:g,onDismiss:w,...b}=e,y=n.useContext(c),[j,N]=n.useState(null),C=j?.ownerDocument??globalThis?.document,[,E]=n.useState({}),P=(0,a.useComposedRefs)(s,e=>N(e)),k=Array.from(y.layers),[R]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),O=k.indexOf(R),A=j?k.indexOf(j):-1,S=y.layersWithOutsidePointerEventsDisabled.size>0,M=A>=O,D=function(e,t=globalThis?.document){let r=(0,l.useCallbackRef)(e),o=n.useRef(!1),a=n.useRef(()=>{});return n.useEffect(()=>{let e=e=>{if(e.target&&!o.current){let n=function(){m("dismissableLayer.pointerDownOutside",r,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=n,t.addEventListener("click",a.current,{once:!0})):n()}else t.removeEventListener("click",a.current);o.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>o.current=!0}}(e=>{let t=e.target,r=[...y.branches].some(e=>e.contains(t));M&&!r&&(x?.(e),g?.(e),e.defaultPrevented||w?.())},C),L=function(e,t=globalThis?.document){let r=(0,l.useCallbackRef)(e),o=n.useRef(!1);return n.useEffect(()=>{let e=e=>{e.target&&!o.current&&m("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}(e=>{let t=e.target;![...y.branches].some(e=>e.contains(t))&&(v?.(e),g?.(e),e.defaultPrevented||w?.())},C);return(0,d.useEscapeKeydown)(e=>{A===y.layers.size-1&&(f?.(e),!e.defaultPrevented&&w&&(e.preventDefault(),w()))},C),n.useEffect(()=>{if(j)return p&&(0===y.layersWithOutsidePointerEventsDisabled.size&&(t=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(j)),y.layers.add(j),h(),()=>{p&&1===y.layersWithOutsidePointerEventsDisabled.size&&(C.body.style.pointerEvents=t)}},[j,C,p,y]),n.useEffect(()=>()=>{j&&(y.layers.delete(j),y.layersWithOutsidePointerEventsDisabled.delete(j),h())},[j,y]),n.useEffect(()=>{let e=()=>E({});return document.addEventListener(u,e),()=>document.removeEventListener(u,e)},[]),(0,r.jsx)(i.Primitive.div,{...b,ref:P,style:{pointerEvents:S?M?"auto":"none":void 0,...e.style},onFocusCapture:(0,o.composeEventHandlers)(e.onFocusCapture,L.onFocusCapture),onBlurCapture:(0,o.composeEventHandlers)(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:(0,o.composeEventHandlers)(e.onPointerDownCapture,D.onPointerDownCapture)})});function h(){let e=new CustomEvent(u);document.dispatchEvent(e)}function m(e,t,r,{discrete:n}){let o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?(0,i.dispatchDiscreteCustomEvent)(o,a):o.dispatchEvent(a)}p.displayName="DismissableLayer",n.forwardRef((e,t)=>{let o=n.useContext(c),s=n.useRef(null),l=(0,a.useComposedRefs)(t,s);return n.useEffect(()=>{let e=s.current;if(e)return o.branches.add(e),()=>{o.branches.delete(e)}},[o.branches]),(0,r.jsx)(i.Primitive.div,{...e,ref:l})}).displayName="DismissableLayerBranch";var f=e.i(303536),x=e.i(765491),v=e.i(610772),g=e.i(258950),w=e.i(953760),b=e.i(553289),y=e.i(934620),j=e.i(635804),N="Popper",[C,E]=(0,s.createContextScope)(N),[P,k]=C(N),R=e=>{let{__scopePopper:t,children:o}=e,[a,s]=n.useState(null);return(0,r.jsx)(P,{scope:t,anchor:a,onAnchorChange:s,children:o})};R.displayName=N;var O="PopperAnchor",A=n.forwardRef((e,t)=>{let{__scopePopper:o,virtualRef:s,...l}=e,d=k(O,o),u=n.useRef(null),c=(0,a.useComposedRefs)(t,u);return n.useEffect(()=>{d.onAnchorChange(s?.current||u.current)}),s?null:(0,r.jsx)(i.Primitive.div,{...l,ref:c})});A.displayName=O;var S="PopperContent",[M,D]=C(S),L=n.forwardRef((e,t)=>{let{__scopePopper:o,side:s="bottom",sideOffset:d=0,align:u="center",alignOffset:c=0,arrowPadding:p=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:f=0,sticky:x="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:N,...C}=e,E=k(S,o),[P,R]=n.useState(null),O=(0,a.useComposedRefs)(t,e=>R(e)),[A,D]=n.useState(null),L=(0,j.useSize)(A),T=L?.width??0,z=L?.height??0,F="number"==typeof f?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(m)?m:[m],U=H.length>0,B={padding:F,boundary:H.filter(_),altBoundary:U},{refs:W,floatingStyles:V,placement:K,isPositioned:X,middlewareData:Y}=(0,g.useFloating)({strategy:"fixed",placement:s+("center"!==u?"-"+u:""),whileElementsMounted:(...e)=>(0,w.autoUpdate)(...e,{animationFrame:"always"===b}),elements:{reference:E.anchor},middleware:[(0,g.offset)({mainAxis:d+z,alignmentAxis:c}),h&&(0,g.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?(0,g.limitShift)():void 0,...B}),h&&(0,g.flip)({...B}),(0,g.size)({...B,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:o,height:a}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${n}px`),s.setProperty("--radix-popper-anchor-width",`${o}px`),s.setProperty("--radix-popper-anchor-height",`${a}px`)}}),A&&(0,g.arrow)({element:A,padding:p}),I({arrowWidth:T,arrowHeight:z}),v&&(0,g.hide)({strategy:"referenceHidden",...B})]}),[q,G]=$(K),Z=(0,l.useCallbackRef)(N);(0,y.useLayoutEffect)(()=>{X&&Z?.()},[X,Z]);let J=Y.arrow?.x,Q=Y.arrow?.y,ee=Y.arrow?.centerOffset!==0,[et,er]=n.useState();return(0,y.useLayoutEffect)(()=>{P&&er(window.getComputedStyle(P).zIndex)},[P]),(0,r.jsx)("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:X?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,r.jsx)(M,{scope:o,placedSide:q,onArrowChange:D,arrowX:J,arrowY:Q,shouldHideArrow:ee,children:(0,r.jsx)(i.Primitive.div,{"data-side":q,"data-align":G,...C,ref:O,style:{...C.style,animation:X?void 0:"none"}})})})});L.displayName=S;var T="PopperArrow",z={top:"bottom",right:"left",bottom:"top",left:"right"},F=n.forwardRef(function(e,t){let{__scopePopper:n,...o}=e,a=D(T,n),s=z[a.placedSide];return(0,r.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,r.jsx)(b.Root,{...o,ref:t,style:{...o.style,display:"block"}})})});function _(e){return null!==e}F.displayName=T;var I=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:o}=t,a=o.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,i=a?0:e.arrowHeight,[l,d]=$(r),u={start:"0%",center:"50%",end:"100%"}[d],c=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+i/2,h="",m="";return"bottom"===l?(h=a?u:`${c}px`,m=`${-i}px`):"top"===l?(h=a?u:`${c}px`,m=`${n.floating.height+i}px`):"right"===l?(h=`${-i}px`,m=a?u:`${p}px`):"left"===l&&(h=`${n.floating.width+i}px`,m=a?u:`${p}px`),{data:{x:h,y:m}}}});function $(e){let[t,r="center"]=e.split("-");return[t,r]}var H=e.i(774606),U=e=>{var t;let r,o,{present:s,children:i}=e,l=function(e){var t,r;let[o,a]=n.useState(),s=n.useRef(null),i=n.useRef(e),l=n.useRef("none"),[d,u]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=B(s.current);l.current="mounted"===d?e:"none"},[d]),(0,y.useLayoutEffect)(()=>{let t=s.current,r=i.current;if(r!==e){let n=l.current,o=B(t);e?u("MOUNT"):"none"===o||t?.display==="none"?u("UNMOUNT"):r&&n!==o?u("ANIMATION_OUT"):u("UNMOUNT"),i.current=e}},[e,u]),(0,y.useLayoutEffect)(()=>{if(o){let e,t=o.ownerDocument.defaultView??window,r=r=>{let n=B(s.current).includes(r.animationName);if(r.target===o&&n&&(u("ANIMATION_END"),!i.current)){let r=o.style.animationFillMode;o.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===o.style.animationFillMode&&(o.style.animationFillMode=r)})}},n=e=>{e.target===o&&(l.current=B(s.current))};return o.addEventListener("animationstart",n),o.addEventListener("animationcancel",r),o.addEventListener("animationend",r),()=>{t.clearTimeout(e),o.removeEventListener("animationstart",n),o.removeEventListener("animationcancel",r),o.removeEventListener("animationend",r)}}u("ANIMATION_END")},[o,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:n.useCallback(e=>{s.current=e?getComputedStyle(e):null,a(e)},[])}}(s),d="function"==typeof i?i({present:l.isPresent}):n.Children.only(i),u=(0,a.useComposedRefs)(l.ref,(t=d,(o=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(o=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof i||l.isPresent?n.cloneElement(d,{ref:u}):null};function B(e){return e?.animationName||"none"}U.displayName="Presence";var W=e.i(991918),V=e.i(369340),K=e.i(186312),X=e.i(985369),Y="Popover",[q,G]=(0,s.createContextScope)(Y,[E]),Z=E(),[J,Q]=q(Y),ee=e=>{let{__scopePopover:t,children:o,open:a,defaultOpen:s,onOpenChange:i,modal:l=!1}=e,d=Z(t),u=n.useRef(null),[c,p]=n.useState(!1),[h,m]=(0,V.useControllableState)({prop:a,defaultProp:s??!1,onChange:i,caller:Y});return(0,r.jsx)(R,{...d,children:(0,r.jsx)(J,{scope:t,contentId:(0,v.useId)(),triggerRef:u,open:h,onOpenChange:m,onOpenToggle:n.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:c,onCustomAnchorAdd:n.useCallback(()=>p(!0),[]),onCustomAnchorRemove:n.useCallback(()=>p(!1),[]),modal:l,children:o})})};ee.displayName=Y;var et="PopoverAnchor";n.forwardRef((e,t)=>{let{__scopePopover:o,...a}=e,s=Q(et,o),i=Z(o),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=s;return n.useEffect(()=>(l(),()=>d()),[l,d]),(0,r.jsx)(A,{...i,...a,ref:t})}).displayName=et;var er="PopoverTrigger",en=n.forwardRef((e,t)=>{let{__scopePopover:n,...s}=e,l=Q(er,n),d=Z(n),u=(0,a.useComposedRefs)(t,l.triggerRef),c=(0,r.jsx)(i.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":ef(l.open),...s,ref:u,onClick:(0,o.composeEventHandlers)(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?c:(0,r.jsx)(A,{asChild:!0,...d,children:c})});en.displayName=er;var eo="PopoverPortal",[ea,es]=q(eo,{forceMount:void 0}),ei=e=>{let{__scopePopover:t,forceMount:n,children:o,container:a}=e,s=Q(eo,t);return(0,r.jsx)(ea,{scope:t,forceMount:n,children:(0,r.jsx)(U,{present:n||s.open,children:(0,r.jsx)(H.Portal,{asChild:!0,container:a,children:o})})})};ei.displayName=eo;var el="PopoverContent",ed=n.forwardRef((e,t)=>{let n=es(el,e.__scopePopover),{forceMount:o=n.forceMount,...a}=e,s=Q(el,e.__scopePopover);return(0,r.jsx)(U,{present:o||s.open,children:s.modal?(0,r.jsx)(ec,{...a,ref:t}):(0,r.jsx)(ep,{...a,ref:t})})});ed.displayName=el;var eu=(0,W.createSlot)("PopoverContent.RemoveScroll"),ec=n.forwardRef((e,t)=>{let s=Q(el,e.__scopePopover),i=n.useRef(null),l=(0,a.useComposedRefs)(t,i),d=n.useRef(!1);return n.useEffect(()=>{let e=i.current;if(e)return(0,K.hideOthers)(e)},[]),(0,r.jsx)(X.RemoveScroll,{as:eu,allowPinchZoom:!0,children:(0,r.jsx)(eh,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),d.current||s.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;d.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,o.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),ep=n.forwardRef((e,t)=>{let o=Q(el,e.__scopePopover),a=n.useRef(!1),s=n.useRef(!1);return(0,r.jsx)(eh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||o.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let r=t.target;o.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),eh=n.forwardRef((e,t)=>{let{__scopePopover:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:c,...h}=e,m=Q(el,n),v=Z(n);return(0,f.useFocusGuards)(),(0,r.jsx)(x.FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:(0,r.jsx)(p,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:(0,r.jsx)(L,{"data-state":ef(m.open),role:"dialog",id:m.contentId,...v,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),em="PopoverClose";function ef(e){return e?"open":"closed"}n.forwardRef((e,t)=>{let{__scopePopover:n,...a}=e,s=Q(em,n);return(0,r.jsx)(i.Primitive.button,{type:"button",...a,ref:t,onClick:(0,o.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})}).displayName=em,n.forwardRef((e,t)=>{let{__scopePopover:n,...o}=e,a=Z(n);return(0,r.jsx)(F,{...a,...o,ref:t})}).displayName="PopoverArrow";var ex=e.i(975157);function ev({...e}){return(0,r.jsx)(ee,{"data-slot":"popover",...e})}function eg({...e}){return(0,r.jsx)(en,{"data-slot":"popover-trigger",...e})}function ew({className:e,align:t="center",sideOffset:n=4,...o}){return(0,r.jsx)(ei,{children:(0,r.jsx)(ed,{"data-slot":"popover-content",align:t,sideOffset:n,className:(0,ex.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...o})})}e.s(["Popover",()=>ev,"PopoverContent",()=>ew,"PopoverTrigger",()=>eg],337822)},367240,e=>{"use strict";let t=(0,e.i(475254).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],367240)},618432,e=>{"use strict";var t=e.i(843476),r=e.i(271645),n=e.i(519455),o=e.i(793479),a=e.i(337822),s=e.i(871689),i=e.i(555436),l=e.i(37727),d=e.i(655900),u=e.i(475254);let c=(0,u.default)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),p=(0,u.default)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var h=e.i(367240);let m=(0,u.default)("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),f=(0,u.default)("minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);function x({pages:e}){let[u,x]=(0,r.useState)(""),[v,g]=(0,r.useState)(!1),[w,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(1),[N,C]=(0,r.useState)(!1),E=(0,r.useRef)(null),P=(0,r.useRef)(new Map),k=[...e].sort((e,t)=>e.page_number-t.page_number),R=(()=>{if(!u.trim())return[];let e=u.toLowerCase(),t=[];return k.forEach((r,n)=>{if(!r.text_items)return;let o=0,a="";r.text_items.forEach(t=>{let r=t.text.toLowerCase(),n=(r.match(RegExp(e,"g"))||[]).length;if(n>0&&(o+=n,!a)){let n=r.indexOf(e),o=Math.max(0,n-40),s=Math.min(t.text.length,n+e.length+40);a=t.text.substring(o,s)}}),o>0&&t.push({pageIndex:n,pageNumber:r.page_number,snippet:a,matchCount:o})}),t})();return((0,r.useEffect)(()=>{let e=()=>{E.current&&b(E.current.scrollTop>300)},t=E.current;return t?.addEventListener("scroll",e),()=>t?.removeEventListener("scroll",e)},[]),e&&0!==e.length)?(0,t.jsxs)("div",{ref:E,className:`relative bg-gray-100 dark:bg-black overflow-y-auto ${N?"h-screen w-screen":"h-[85vh]"}`,children:[(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>window.history.back(),className:"fixed top-4 left-4 z-50 h-10 w-10 rounded-full bg-black/60 hover:bg-black/80 text-white backdrop-blur-sm",children:(0,t.jsx)(s.ArrowLeft,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"flex items-start justify-center p-4",children:(0,t.jsx)("div",{className:"transition-transform duration-200 ease-out origin-top",style:{transform:`scale(${y})`,transformOrigin:"top center"},children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto space-y-2",children:k.map((e,r)=>(0,t.jsx)("div",{ref:e=>{e&&P.current.set(r,e)},children:(0,t.jsx)("div",{className:"relative bg-white shadow-lg",children:e.image_url?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:e.image_url,alt:`Page ${e.page_number}`,className:"w-full h-auto select-none",draggable:!1}),e.text_items&&(0,t.jsx)("div",{className:"absolute inset-0 w-full h-full select-text pointer-events-none",children:e.text_items.map((e,r)=>(0,t.jsx)("span",{style:{position:"absolute",left:`${100*e.bbox[0]}%`,top:`${100*e.bbox[1]}%`,width:`${100*e.bbox[2]}%`,height:`${100*e.bbox[3]}%`,fontSize:"1.8cqw",lineHeight:1,color:"transparent",cursor:"text",whiteSpace:"pre-wrap",overflow:"hidden",pointerEvents:"auto"},className:"selection:bg-blue-400/40 selection:text-transparent",children:e.text},r))})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-96 bg-muted border-2 border-dashed",children:(0,t.jsxs)("div",{className:"text-center p-6",children:[(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:"Image not available"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground/70 mt-1",children:["Page ",e.page_number]})]})})})},e.id))})})}),(0,t.jsxs)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-black/60 backdrop-blur-md p-2 rounded-full shadow-xl z-50",children:[(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:()=>{j(e=>Math.max(e-.25,.5))},children:(0,t.jsx)(p,{className:"h-4 w-4"})}),(0,t.jsxs)("span",{className:"text-white text-xs w-12 text-center",children:[Math.round(100*y),"%"]}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:()=>{j(e=>Math.min(e+.25,3))},children:(0,t.jsx)(c,{className:"h-4 w-4"})}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:()=>{j(1)},children:(0,t.jsx)(h.RotateCcw,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"w-px h-4 bg-white/20 mx-1"}),(0,t.jsxs)(a.Popover,{open:v,onOpenChange:g,children:[(0,t.jsx)(a.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full relative",children:[(0,t.jsx)(i.Search,{className:"h-4 w-4"}),R.length>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:R.length})]})}),(0,t.jsxs)(a.PopoverContent,{className:"w-80 p-0",align:"end",children:[(0,t.jsx)("div",{className:"p-3 border-b",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(o.Input,{placeholder:"Search in this chapter...",value:u,onChange:e=>x(e.target.value),className:"pl-8 pr-8"}),u&&(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-6 w-6",onClick:()=>{x("")},children:(0,t.jsx)(l.X,{className:"h-3 w-3"})})]})}),(0,t.jsxs)("div",{className:"max-h-80 overflow-y-auto",children:[0===R.length&&u&&(0,t.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No results found"}),0===R.length&&!u&&(0,t.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Search across all pages"}),R.map((e,r)=>(0,t.jsxs)("button",{onClick:()=>{let t;(t=P.current.get(e.pageIndex))&&t.scrollIntoView({behavior:"smooth",block:"start"}),g(!1)},className:"w-full text-left p-3 hover:bg-muted/50 border-b last:border-b-0 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Page ",e.pageNumber]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.matchCount," ",1===e.matchCount?"match":"matches"]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:["...",e.snippet,"..."]})]},r))]})]})]}),(0,t.jsx)("div",{className:"w-px h-4 bg-white/20 mx-1"}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),C(!1)):(E.current?.requestFullscreen(),C(!0))},children:N?(0,t.jsx)(f,{className:"h-4 w-4"}):(0,t.jsx)(m,{className:"h-4 w-4"})})]}),w&&(0,t.jsx)(n.Button,{onClick:()=>{E.current?.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-20 right-6 z-50 h-12 w-12 rounded-full shadow-2xl bg-indigo-600 hover:bg-indigo-700 text-white",size:"icon",children:(0,t.jsx)(d.ChevronUp,{className:"h-5 w-5"})})]}):(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No pages available for this chapter."})}e.s(["ChapterPagesViewer",()=>x],618432)}]);