module.exports=[709254,(e,t,r)=>{"use strict";var a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={},l={RequestCookies:()=>m,ResponseCookies:()=>g,parseCookie:()=>c,parseSetCookie:()=>f,stringifyCookie:()=>d};for(var u in l)a(o,u,{get:l[u],enumerable:!0});function d(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),a=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?a:`${a}; ${r.join("; ")}`}function c(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[a,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(a,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function f(e){if(!e)return;let[[t,r],...a]=c(e),{domain:i,expires:n,httponly:s,maxage:o,path:l,samesite:u,secure:d,partitioned:f,priority:m}=Object.fromEntries(a.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var g,y,v={name:t,value:decodeURIComponent(r),domain:i,...n&&{expires:new Date(n)},...s&&{httpOnly:!0},..."string"==typeof o&&{maxAge:Number(o)},path:l,...u&&{sameSite:p.includes(g=(g=u).toLowerCase())?g:void 0},...d&&{secure:!0},...m&&{priority:h.includes(y=(y=m).toLowerCase())?y:void 0},...f&&{partitioned:!0}};let e={};for(let t in v)v[t]&&(e[t]=v[t]);return e}}t.exports=((e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of n(t))s.call(e,l)||l===r||a(e,l,{get:()=>t[l],enumerable:!(o=i(t,l))||o.enumerable});return e})(a({},"__esModule",{value:!0}),o);var p=["strict","lax","none"],h=["low","medium","high"],m=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,r]of c(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===a).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,a=this._parsed;return a.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(a).map(([e,t])=>d(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>d(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},g=class{constructor(e){var t,r,a;this._parsed=new Map,this._headers=e;const i=null!=(a=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?a:[];for(const e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,a,i,n,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,n=!1;l();)if(","===(r=e.charAt(o))){for(a=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(n=!0,o=i,s.push(e.substring(t,a)),t=o):o=a+1}else o+=1;(!n||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(i)){const t=f(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===a)}has(e){return this._parsed.has(e)}set(...e){let[t,r,a]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...a})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=d(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(d).join("; ")}}},80317,e=>{"use strict";function t(e){return Symbol.for(e)}var r,a,i,n,s,o,l,u,d,c,f,p,h,m=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,a){var i=new e(r._currentContext);return i._currentContext.set(t,a),i},r.deleteValue=function(t){var a=new e(r._currentContext);return a._currentContext.delete(t),a}},g=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},y=function(e,t,r){if(r||2==arguments.length)for(var a,i=0,n=t.length;i<n;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},v=function(){function e(){}return e.prototype.active=function(){return m},e.prototype.with=function(e,t,r){for(var a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return t.call.apply(t,y([r],g(a),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),b="object"==typeof globalThis?globalThis:e.g,_="1.9.0",w=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,E=function(e){var t=new Set([e]),r=new Set,a=e.match(w);if(!a)return function(){return!1};var i={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(null!=i.prerelease)return function(t){return t===e};function n(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var a=e.match(w);if(!a)return n(e);var s={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(null!=s.prerelease||i.major!==s.major)return n(e);if(0===i.major)return i.minor===s.minor&&i.patch<=s.patch?(t.add(e),!0):n(e);return i.minor<=s.minor?(t.add(e),!0):n(e)}}(_),S=Symbol.for("opentelemetry.js.api."+_.split(".")[0]);function R(e,t,r,a){void 0===a&&(a=!1);var i,n=b[S]=null!=(i=b[S])?i:{version:_};if(!a&&n[e]){var s=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(n.version!==_){var s=Error("@opentelemetry/api: Registration of version v"+n.version+" for "+e+" does not match previously registered API v"+_);return r.error(s.stack||s.message),!1}return n[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+_+"."),!0}function T(e){var t,r,a=null==(t=b[S])?void 0:t.version;if(a&&E(a))return null==(r=b[S])?void 0:r[e]}function O(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+_+".");var r=b[S];r&&delete r[e]}var P=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},x=function(e,t,r){if(r||2==arguments.length)for(var a,i=0,n=t.length;i<n;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},I=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("verbose",this._namespace,e)},e}();function A(e,t,r){var a=T("diag");if(a)return r.unshift(t),a[e].apply(a,x([],P(r),!1))}(l=r||(r={}))[l.NONE=0]="NONE",l[l.ERROR=30]="ERROR",l[l.WARN=50]="WARN",l[l.INFO=60]="INFO",l[l.DEBUG=70]="DEBUG",l[l.VERBOSE=80]="VERBOSE",l[l.ALL=9999]="ALL";var k=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},C=function(e,t,r){if(r||2==arguments.length)for(var a,i=0,n=t.length;i<n;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},D=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=T("diag");if(a)return a[e].apply(a,C([],k(t),!1))}}var t=this;t.setLogger=function(e,a){if(void 0===a&&(a={logLevel:r.INFO}),e===t){var i,n,s,o=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(i=o.stack)?i:o.message),!1}"number"==typeof a&&(a={logLevel:a});var l=T("diag"),u=function(e,t){function a(r,a){var i=t[r];return"function"==typeof i&&e>=a?i.bind(t):function(){}}return e<r.NONE?e=r.NONE:e>r.ALL&&(e=r.ALL),t=t||{},{error:a("error",r.ERROR),warn:a("warn",r.WARN),info:a("info",r.INFO),debug:a("debug",r.DEBUG),verbose:a("verbose",r.VERBOSE)}}(null!=(n=a.logLevel)?n:r.INFO,e);if(l&&!a.suppressOverrideMessage){var d=null!=(s=Error().stack)?s:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+d),u.warn("Current logger will overwrite one already registered from "+d)}return R("diag",u,t,!0)},t.disable=function(){O("diag",t)},t.createComponentLogger=function(e){return new I(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),N=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},q=function(e,t,r){if(r||2==arguments.length)for(var a,i=0,n=t.length;i<n;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},U="context",L=new v,j=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return R(U,e,D.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var a,i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];return(a=this._getContextManager()).with.apply(a,q([e,t,r],N(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return T(U)||L},e.prototype.disable=function(){this._getContextManager().disable(),O(U,D.instance())},e}(),M=j.getInstance(),V=D.instance(),F=(u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(){function e(){}return e.prototype.createGauge=function(e,t){return ee},e.prototype.createHistogram=function(e,t){return et},e.prototype.createCounter=function(e,t){return Z},e.prototype.createUpDownCounter=function(e,t){return er},e.prototype.createObservableGauge=function(e,t){return ei},e.prototype.createObservableCounter=function(e,t){return ea},e.prototype.createObservableUpDownCounter=function(e,t){return en},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),G=function(){},B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.add=function(e,t){},t}(G),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.add=function(e,t){},t}(G),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.record=function(e,t){},t}(G),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.record=function(e,t){},t}(G),K=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t}(K),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t}(K),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t}(K),Y=new $,Z=new B,ee=new J,et=new H,er=new W,ea=new z,ei=new Q,en=new X;function es(){return Y}var eo=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return Y},e}()),el="metrics",eu=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return R(el,e,D.instance())},e.prototype.getMeterProvider=function(){return T(el)||eo},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){O(el,D.instance())},e})().getInstance(),ed=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),ec={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},ef={set:function(e,t,r){null!=e&&(e[t]=r)}},ep=t("OpenTelemetry Baggage Key");function eh(e){return e.getValue(ep)||void 0}function em(){return eh(j.getInstance().active())}function eg(e,t){return e.setValue(ep,t)}function ey(e){return e.deleteValue(ep)}var ev=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},eb=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},e_=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=ev(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var a=new e(this._entries);return a._entries.set(t,r),a},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var n=new e(this._entries);try{for(var s=eb(a),o=s.next();!o.done;o=s.next()){var l=o.value;n._entries.delete(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return n},e.prototype.clear=function(){return new e},e}(),ew=Symbol("BaggageEntryMetadata"),eE=D.instance();function eS(e){return void 0===e&&(e={}),new e_(new Map(Object.entries(e)))}function eR(e){return"string"!=typeof e&&(eE.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:ew,toString:function(){return e}}}var eT="propagation",eO=new ed,eP=(function(){function e(){this.createBaggage=eS,this.getBaggage=eh,this.getActiveBaggage=em,this.setBaggage=eg,this.deleteBaggage=ey}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return R(eT,e,D.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=ef),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=ec),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){O(eT,D.instance())},e.prototype._getGlobalPropagator=function(){return T(eT)||eO},e})().getInstance();(d=a||(a={}))[d.NONE=0]="NONE",d[d.SAMPLED=1]="SAMPLED";var ex="0000000000000000",eI="00000000000000000000000000000000",eA={traceId:eI,spanId:ex,traceFlags:a.NONE},ek=function(){function e(e){void 0===e&&(e=eA),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),eC=t("OpenTelemetry Context Key SPAN");function eD(e){return e.getValue(eC)||void 0}function eN(){return eD(j.getInstance().active())}function eq(e,t){return e.setValue(eC,t)}function eU(e){return e.deleteValue(eC)}function eL(e,t){return eq(e,new ek(t))}function ej(e){var t;return null==(t=eD(e))?void 0:t.spanContext()}var eM=/^([0-9a-f]{32})$/i,eV=/^[0-9a-f]{16}$/i;function eF(e){return eM.test(e)&&e!==eI}function e$(e){return eV.test(e)&&e!==ex}function eG(e){return eF(e.traceId)&&e$(e.spanId)}function eB(e){return new ek(e)}var eW=j.getInstance(),eJ=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=eW.active()),null==t?void 0:t.root)return new ek;var a,i=r&&ej(r);return"object"==typeof(a=i)&&"string"==typeof a.spanId&&"string"==typeof a.traceId&&"number"==typeof a.traceFlags&&eG(i)?new ek(i):new ek},e.prototype.startActiveSpan=function(e,t,r,a){if(!(arguments.length<2)){2==arguments.length?s=t:3==arguments.length?(i=t,s=r):(i=t,n=r,s=a);var i,n,s,o=null!=n?n:eW.active(),l=this.startSpan(e,i,o),u=eq(o,l);return eW.with(u,s,void 0,l)}},e}(),eH=new eJ,eK=function(){function e(e,t,r,a){this._provider=e,this.name=t,this.version=r,this.options=a}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,a){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):eH},e}(),ez=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new eJ},e}()),eQ=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var a;return null!=(a=this.getDelegateTracer(e,t,r))?a:new eK(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:ez},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var a;return null==(a=this._delegate)?void 0:a.getTracer(e,t,r)},e}(),eX="trace",eY=(function(){function e(){this._proxyTracerProvider=new eQ,this.wrapSpanContext=eB,this.isSpanContextValid=eG,this.deleteSpan=eU,this.getSpan=eD,this.getActiveSpan=eN,this.getSpanContext=ej,this.setSpan=eq,this.setSpanContext=eL}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=R(eX,this._proxyTracerProvider,D.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return T(eX)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){O(eX,D.instance()),this._proxyTracerProvider=new eQ},e})().getInstance();let eZ={context:M,diag:V,metrics:eu,propagation:eP,trace:eY};e.s(["default",0,eZ],494528),e.i(494528);var e0=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],e1=function(){for(var e=0;e<e0.length;e++)this[e0[e].n]=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var a=console[e];if("function"!=typeof a&&(a=console.log),"function"==typeof a)return a.apply(console,t)}}}(e0[e].c)};(c=i||(i={}))[c.INT=0]="INT",c[c.DOUBLE=1]="DOUBLE",(f=n||(n={}))[f.NOT_RECORD=0]="NOT_RECORD",f[f.RECORD=1]="RECORD",f[f.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",(p=s||(s={}))[p.INTERNAL=0]="INTERNAL",p[p.SERVER=1]="SERVER",p[p.CLIENT=2]="CLIENT",p[p.PRODUCER=3]="PRODUCER",p[p.CONSUMER=4]="CONSUMER",(h=o||(o={}))[h.UNSET=0]="UNSET",h[h.OK=1]="OK",h[h.ERROR=2]="ERROR";var e2="[_0-9a-z-*/]",e4=RegExp("^(?:[a-z]"+e2+"{0,255}|"+("[a-z0-9]"+e2+"{0,240}@[a-z]")+e2+"{0,13})$"),e5=/^[ -~]{0,255}[!-~]$/,e6=/,|=/,e9=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+"="+e.get(r)),t},[]).join(",")},e.prototype._parse=function(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce(function(e,t){var r=t.trim(),a=r.indexOf("=");if(-1!==a){var i=r.slice(0,a),n=r.slice(a+1,t.length);e4.test(i)&&e5.test(n)&&!e6.test(n)&&e.set(i,n)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function e3(e){return new e9(e)}e.s(["DiagConsoleLogger",()=>e1,"DiagLogLevel",()=>r,"INVALID_SPANID",()=>ex,"INVALID_SPAN_CONTEXT",()=>eA,"INVALID_TRACEID",()=>eI,"ProxyTracer",()=>eK,"ProxyTracerProvider",()=>eQ,"ROOT_CONTEXT",()=>m,"SamplingDecision",()=>n,"SpanKind",()=>s,"SpanStatusCode",()=>o,"TraceFlags",()=>a,"ValueType",()=>i,"baggageEntryMetadataFromString",()=>eR,"context",()=>M,"createContextKey",()=>t,"createNoopMeter",()=>es,"createTraceState",()=>e3,"default",0,eZ,"defaultTextMapGetter",()=>ec,"defaultTextMapSetter",()=>ef,"diag",()=>V,"isSpanContextValid",()=>eG,"isValidSpanId",()=>e$,"isValidTraceId",()=>eF,"metrics",()=>eu,"propagation",()=>eP,"trace",()=>eY],80317)},331387,(e,t,r)=>{(()=>{"use strict";let r,a,i,n,s;var o,l,u,d,c,f,p,h,m,g,y,v,b,_,w,E,S={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let a=r(223),i=r(172),n=r(930),s="context",o=new a.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(s,e,n.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...a){return this._getContextManager().with(e,t,r,...a)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(s)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(s,n.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let a=r(56),i=r(912),n=r(957),s=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,s.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:n.DiagLogLevel.INFO})=>{var a,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(a=e.stack)?a:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,s.getGlobal)("diag"),d=(0,i.createLogLevelDiagLogger)(null!=(o=r.logLevel)?o:n.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!=(l=Error().stack)?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),d.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",d,t,!0)},t.disable=()=>{(0,s.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new a.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let a=r(660),i=r(172),n=r(930),s="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(s,e,n.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(s)||a.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(s,n.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let a=r(172),i=r(874),n=r(194),s=r(277),o=r(369),l=r(930),u="propagation",d=new i.NoopTextMapPropagator;class c{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalPropagator(e){return(0,a.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=n.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=n.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,a.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,a.getGlobal)(u)||d}}t.PropagationAPI=c},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let a=r(172),i=r(846),n=r(139),s=r(607),o=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,a.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,a.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,a.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let a=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function n(e){return e.getValue(i)||void 0}t.getBaggage=n,t.getActiveBaggage=function(){return n(a.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let a=new r(this._entries);return a._entries.set(e,t),a}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let a=r(930),i=r(993),n=r(830),s=a.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let a=r(780);t.NoopContextManager=class{active(){return a.ROOT_CONTEXT}with(e,t,r,...a){return t.call(r,...a)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,a)=>{let i=new r(t._currentContext);return i._currentContext.set(e,a),i},t.deleteValue=e=>{let a=new r(t._currentContext);return a._currentContext.delete(e),a}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let a=r(172);function i(e,t,r){let i=(0,a.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let a=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,a){let i=t[r];return"function"==typeof i&&e>=a?i.bind(t):function(){}}return e<a.DiagLogLevel.NONE?e=a.DiagLogLevel.NONE:e>a.DiagLogLevel.ALL&&(e=a.DiagLogLevel.ALL),t=t||{},{error:r("error",a.DiagLogLevel.ERROR),warn:r("warn",a.DiagLogLevel.WARN),info:r("info",a.DiagLogLevel.INFO),debug:r("debug",a.DiagLogLevel.DEBUG),verbose:r("verbose",a.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let a=r(200),i=r(521),n=r(130),s=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${s}`),l=a._globalThis;t.registerGlobal=function(e,t,r,a=!1){var n;let s=l[o]=null!=(n=l[o])?n:{version:i.VERSION};if(!a&&s[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(s.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let a=null==(t=l[o])?void 0:t.version;if(a&&(0,n.isCompatible)(a))return null==(r=l[o])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let a=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(e){let t=new Set([e]),r=new Set,a=e.match(i);if(!a)return()=>!1;let n={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(null!=n.prerelease)return function(t){return t===e};function s(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let a=e.match(i);if(!a)return s(e);let o={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(null!=o.prerelease||n.major!==o.major)return s(e);if(0===n.major)return n.minor===o.minor&&n.patch<=o.patch?(t.add(e),!0):s(e);return n.minor<=o.minor?(t.add(e),!0):s(e)}}t._makeCompatibilityCheck=n,t.isCompatible=n(a.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class a{}t.NoopMetric=a;class i extends a{add(e,t){}}t.NoopCounterMetric=i;class n extends a{add(e,t){}}t.NoopUpDownCounterMetric=n;class s extends a{record(e,t){}}t.NoopHistogramMetric=s;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class u extends o{}t.NoopObservableGaugeMetric=u;class d extends o{}t.NoopObservableUpDownCounterMetric=d,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new s,t.NOOP_UP_DOWN_COUNTER_METRIC=new n,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new d,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let a=r(102);class i{getMeter(e,t,r){return a.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let a=r(476);t.NonRecordingSpan=class{constructor(e=a.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let a=r(491),i=r(607),n=r(403),s=r(139),o=a.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=o.active()){var a;if(null==t?void 0:t.root)return new n.NonRecordingSpan;let l=r&&(0,i.getSpanContext)(r);return"object"==typeof(a=l)&&"string"==typeof a.spanId&&"string"==typeof a.traceId&&"number"==typeof a.traceFlags&&(0,s.isSpanContextValid)(l)?new n.NonRecordingSpan(l):new n.NonRecordingSpan}startActiveSpan(e,t,r,a){let n,s,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(n=t,l=r):(n=t,s=r,l=a);let u=null!=s?s:o.active(),d=this.startSpan(e,n,u),c=(0,i.setSpan)(u,d);return o.with(c,l,void 0,d)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let a=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new a.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let a=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,a){this._provider=e,this.name=t,this.version=r,this.options=a}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,a){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):a}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let a=r(125),i=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var i;return null!=(i=this.getDelegateTracer(e,t,r))?i:new a.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var a;return null==(a=this._delegate)?void 0:a.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let a=r(780),i=r(403),n=r(491),s=(0,a.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(s)||void 0}function l(e,t){return e.setValue(s,t)}t.getSpan=o,t.getActiveSpan=function(){return o(n.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(s)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=o(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let a=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let n=r.slice(0,i),s=r.slice(i+1,t.length);(0,a.validateKey)(n)&&(0,a.validateValue)(s)&&e.set(n,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",a=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,n=RegExp(`^(?:${a}|${i})$`),s=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return n.test(e)},t.validateValue=function(e){return s.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let a=r(325);t.createTraceState=function(e){return new a.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let a=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:a.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let a=r(476),i=r(403),n=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function o(e){return n.test(e)&&e!==a.INVALID_TRACEID}function l(e){return s.test(e)&&e!==a.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},R={};function T(e){var t=R[e];if(void 0!==t)return t.exports;var r=R[e]={exports:{}},a=!0;try{S[e].call(r.exports,r,r.exports,T),a=!1}finally{a&&delete R[e]}return r.exports}T.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.trace=O.propagation=O.metrics=O.diag=O.context=O.INVALID_SPAN_CONTEXT=O.INVALID_TRACEID=O.INVALID_SPANID=O.isValidSpanId=O.isValidTraceId=O.isSpanContextValid=O.createTraceState=O.TraceFlags=O.SpanStatusCode=O.SpanKind=O.SamplingDecision=O.ProxyTracerProvider=O.ProxyTracer=O.defaultTextMapSetter=O.defaultTextMapGetter=O.ValueType=O.createNoopMeter=O.DiagLogLevel=O.DiagConsoleLogger=O.ROOT_CONTEXT=O.createContextKey=O.baggageEntryMetadataFromString=void 0,o=T(369),Object.defineProperty(O,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return o.baggageEntryMetadataFromString}}),l=T(780),Object.defineProperty(O,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty(O,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}}),u=T(972),Object.defineProperty(O,"DiagConsoleLogger",{enumerable:!0,get:function(){return u.DiagConsoleLogger}}),d=T(957),Object.defineProperty(O,"DiagLogLevel",{enumerable:!0,get:function(){return d.DiagLogLevel}}),c=T(102),Object.defineProperty(O,"createNoopMeter",{enumerable:!0,get:function(){return c.createNoopMeter}}),f=T(901),Object.defineProperty(O,"ValueType",{enumerable:!0,get:function(){return f.ValueType}}),p=T(194),Object.defineProperty(O,"defaultTextMapGetter",{enumerable:!0,get:function(){return p.defaultTextMapGetter}}),Object.defineProperty(O,"defaultTextMapSetter",{enumerable:!0,get:function(){return p.defaultTextMapSetter}}),h=T(125),Object.defineProperty(O,"ProxyTracer",{enumerable:!0,get:function(){return h.ProxyTracer}}),m=T(846),Object.defineProperty(O,"ProxyTracerProvider",{enumerable:!0,get:function(){return m.ProxyTracerProvider}}),g=T(996),Object.defineProperty(O,"SamplingDecision",{enumerable:!0,get:function(){return g.SamplingDecision}}),y=T(357),Object.defineProperty(O,"SpanKind",{enumerable:!0,get:function(){return y.SpanKind}}),v=T(847),Object.defineProperty(O,"SpanStatusCode",{enumerable:!0,get:function(){return v.SpanStatusCode}}),b=T(475),Object.defineProperty(O,"TraceFlags",{enumerable:!0,get:function(){return b.TraceFlags}}),_=T(98),Object.defineProperty(O,"createTraceState",{enumerable:!0,get:function(){return _.createTraceState}}),w=T(139),Object.defineProperty(O,"isSpanContextValid",{enumerable:!0,get:function(){return w.isSpanContextValid}}),Object.defineProperty(O,"isValidTraceId",{enumerable:!0,get:function(){return w.isValidTraceId}}),Object.defineProperty(O,"isValidSpanId",{enumerable:!0,get:function(){return w.isValidSpanId}}),E=T(476),Object.defineProperty(O,"INVALID_SPANID",{enumerable:!0,get:function(){return E.INVALID_SPANID}}),Object.defineProperty(O,"INVALID_TRACEID",{enumerable:!0,get:function(){return E.INVALID_TRACEID}}),Object.defineProperty(O,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return E.INVALID_SPAN_CONTEXT}}),r=T(67),Object.defineProperty(O,"context",{enumerable:!0,get:function(){return r.context}}),a=T(506),Object.defineProperty(O,"diag",{enumerable:!0,get:function(){return a.diag}}),i=T(886),Object.defineProperty(O,"metrics",{enumerable:!0,get:function(){return i.metrics}}),n=T(939),Object.defineProperty(O,"propagation",{enumerable:!0,get:function(){return n.propagation}}),s=T(845),Object.defineProperty(O,"trace",{enumerable:!0,get:function(){return s.trace}}),O.default={context:r.context,diag:a.diag,metrics:i.metrics,propagation:n.propagation,trace:s.trace},t.exports=O})()},262712,(e,t,r)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,r,a,i,n={};n.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},n=t.split(a),s=(r||{}).decode||e,o=0;o<n.length;o++){var l=n[o],u=l.indexOf("=");if(!(u<0)){var d=l.substr(0,u).trim(),c=l.substr(++u,l.length).trim();'"'==c[0]&&(c=c.slice(1,-1)),void 0==i[d]&&(i[d]=function(e,t){try{return t(e)}catch(t){return e}}(c,s))}}return i},n.serialize=function(e,t,a){var n=a||{},s=n.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var o=s(t);if(o&&!i.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(n.domain){if(!i.test(n.domain))throw TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l},e=decodeURIComponent,r=encodeURIComponent,a=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=n})()},447413,(e,t,r)=>{(()=>{"use strict";let e,r,a,i,n;var s={993:e=>{var t=Object.prototype.hasOwnProperty,r="~";function a(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(e,t,a,n,s){if("function"!=typeof a)throw TypeError("The listener must be a function");var o=new i(a,n||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,a,i=[];if(0===this._eventsCount)return i;for(a in e=this._events)t.call(e,a)&&i.push(r?a.slice(1):a);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var i=0,n=a.length,s=Array(n);i<n;i++)s[i]=a[i].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,i,n,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,u,d=this._events[o],c=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),c){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,a),!0;case 4:return d.fn.call(d.context,t,a,i),!0;case 5:return d.fn.call(d.context,t,a,i,n),!0;case 6:return d.fn.call(d.context,t,a,i,n,s),!0}for(u=1,l=Array(c-1);u<c;u++)l[u-1]=arguments[u];d.fn.apply(d.context,l)}else{var f,p=d.length;for(u=0;u<p;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),c){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,a);break;case 4:d[u].fn.call(d[u].context,t,a,i);break;default:if(!l)for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];d[u].fn.apply(d[u].context,l)}}return!0},o.prototype.on=function(e,t,r){return n(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return n(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,a,i){var n=r?r+e:e;if(!this._events[n])return this;if(!t)return s(this,n),this;var o=this._events[n];if(o.fn)o.fn!==t||i&&!o.once||a&&o.context!==a||s(this,n);else{for(var l=0,u=[],d=o.length;l<d;l++)(o[l].fn!==t||i&&!o[l].once||a&&o[l].context!==a)&&u.push(o[l]);u.length?this._events[n]=1===u.length?u[0]:u:s(this,n)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},213:e=>{e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let a=0,i=e.length;for(;i>0;){let n=i/2|0,s=a+n;0>=r(e[s],t)?(a=++s,i-=n+1):i=n}return a}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let a=r(574);t.default=class{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);let i=a.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},816:(e,t,r)=>{let a=r(213);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}let n=(e,t,r)=>new Promise((n,s)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void n(e);let o=setTimeout(()=>{if("function"==typeof r){try{n(r())}catch(e){s(e)}return}let a="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,o=r instanceof Error?r:new i(a);"function"==typeof e.cancel&&e.cancel(),s(o)},t);a(e.then(n,s),()=>{clearTimeout(o)})});e.exports=n,e.exports.default=n,e.exports.TimeoutError=i}},o={};function l(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}},a=!0;try{s[e](r,r.exports,l),a=!1}finally{a&&delete o[e]}return r.exports}l.ab="/ROOT/node_modules/next/dist/compiled/p-queue/";var u={};Object.defineProperty(u,"__esModule",{value:!0}),e=l(993),r=l(816),a=l(821),i=()=>{},n=new r.TimeoutError,u.default=class extends e{constructor(e){var t,r,n,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:a.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(r=null==(t=e.intervalCap)?void 0:t.toString())?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(s=null==(n=e.interval)?void 0:n.toString())?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((a,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let s=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&i(n)});a(await s)}catch(e){i(e)}this._next()};this._queue.enqueue(s,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}},t.exports=u})()},951187,(e,t,r)=>{t.exports=e.x("next/dist/server/lib/incremental-cache/tags-manifest.external.js",()=>require("next/dist/server/lib/incremental-cache/tags-manifest.external.js"))},22947,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={getTestReqInfo:function(){return l},withRequest:function(){return o}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=new(e.r(478500)).AsyncLocalStorage;function s(e,t){let r=t.header(e,"next-test-proxy-port");if(!r)return;let a=t.url(e);return{url:a,proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function o(e,t,r){let a=s(e,t);return a?n.run(a,r):r()}function l(e,t){let r=n.getStore();return r||(e&&t?s(e,t):void 0)}},49883,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={handleFetch:function(){return l},interceptFetch:function(){return u},reader:function(){return s}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(22947),s={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function o(e,t){let{url:r,method:a,headers:i,body:n,cache:s,credentials:o,integrity:l,mode:u,redirect:d,referrer:c,referrerPolicy:f}=t;return{testData:e,api:"fetch",request:{url:r,method:a,headers:[...Array.from(i),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:n?Buffer.from(await t.arrayBuffer()).toString("base64"):null,cache:s,credentials:o,integrity:l,mode:u,redirect:d,referrer:c,referrerPolicy:f}}}async function l(e,t){let r=(0,n.getTestReqInfo)(t,s);if(!r)return e(t);let{testData:a,proxyPort:i}=r,l=await o(a,t),u=await e(`http://localhost:${i}`,{method:"POST",body:JSON.stringify(l),next:{internal:!0}});if(!u.ok)throw Object.defineProperty(Error(`Proxy request failed: ${u.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let d=await u.json(),{api:c}=d;switch(c){case"continue":return e(t);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${t.method} ${t.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":return function(e){let{status:t,headers:r,body:a}=e.response;return new Response(a?Buffer.from(a,"base64"):null,{status:t,headers:new Headers(r)})}(d);default:return c}}function u(t){return e.g.fetch=function(e,r){var a;return(null==r||null==(a=r.next)?void 0:a.internal)?t(e,r):l(t,new Request(e,r))},()=>{e.g.fetch=t}}},376532,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={interceptTestApis:function(){return o},wrapRequestHandler:function(){return l}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(22947),s=e.r(49883);function o(){return(0,s.interceptFetch)(e.g.fetch)}function l(e){return(t,r)=>(0,n.withRequest)(t,s.reader,()=>e(t,r))}},512953,(e,t,r)=>{"use strict";function a(e,t,r){if(e){for(let a of(r&&(r=r.toLowerCase()),e))if(t===a.domain?.split(":",1)[0].toLowerCase()||r===a.defaultLocale.toLowerCase()||a.locales?.some(e=>e.toLowerCase()===r))return a}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"detectDomainLocale",{enumerable:!0,get:function(){return a}})},157520,(e,t,r)=>{"use strict";function a(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeTrailingSlash",{enumerable:!0,get:function(){return a}})},952799,(e,t,r)=>{"use strict";function a(e){let t=e.indexOf("#"),r=e.indexOf("?"),a=r>-1&&(t<0||r<t);return a||t>-1?{pathname:e.substring(0,a?r:t),query:a?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return a}})},511959,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return i}});let a=e.r(952799);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:n}=(0,a.parsePath)(e);return`${t}${r}${i}${n}`}},130652,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathSuffix",{enumerable:!0,get:function(){return i}});let a=e.r(952799);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:n}=(0,a.parsePath)(e);return`${r}${t}${i}${n}`}},886984,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let a=e.r(952799);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,a.parsePath)(e);return r===t||r.startsWith(t+"/")}},399256,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addLocale",{enumerable:!0,get:function(){return n}});let a=e.r(511959),i=e.r(886984);function n(e,t,r,n){if(!t||t===r)return e;let s=e.toLowerCase();return!n&&((0,i.pathHasPrefix)(s,"/api")||(0,i.pathHasPrefix)(s,`/${t.toLowerCase()}`))?e:(0,a.addPathPrefix)(e,`/${t}`)}},16107,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let a=e.r(157520),i=e.r(511959),n=e.r(130652),s=e.r(399256);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,a.removeTrailingSlash)(t)),e.buildId&&(t=(0,n.addPathSuffix)((0,i.addPathPrefix)(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,n.addPathSuffix)(t,"/"):(0,a.removeTrailingSlash)(t)}},26729,(e,t,r)=>{"use strict";function a(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getHostname",{enumerable:!0,get:function(){return a}})},996045,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"normalizeLocalePath",{enumerable:!0,get:function(){return i}});let a=new WeakMap;function i(e,t){let r;if(!t)return{pathname:e};let i=a.get(t);i||(i=t.map(e=>e.toLowerCase()),a.set(t,i));let n=e.split("/",2);if(!n[1])return{pathname:e};let s=n[1].toLowerCase(),o=i.indexOf(s);return o<0?{pathname:e}:(r=t[o],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}},92624,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removePathPrefix",{enumerable:!0,get:function(){return i}});let a=e.r(886984);function i(e,t){if(!(0,a.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}},107657,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let a=e.r(996045),i=e.r(92624),n=e.r(886984);function s(e,t){let{basePath:r,i18n:s,trailingSlash:o}=t.nextConfig??{},l={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):o};r&&(0,n.pathHasPrefix)(l.pathname,r)&&(l.pathname=(0,i.removePathPrefix)(l.pathname,r),l.basePath=r);let u=l.pathname;if(l.pathname.startsWith("/_next/data/")&&l.pathname.endsWith(".json")){let e=l.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");l.buildId=e[0],u="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(l.pathname=u)}if(s){let e=t.i18nProvider?t.i18nProvider.analyze(l.pathname):(0,a.normalizeLocalePath)(l.pathname,s.locales);l.locale=e.detectedLocale,l.pathname=e.pathname??l.pathname,!e.detectedLocale&&l.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(u):(0,a.normalizeLocalePath)(u,s.locales)).detectedLocale&&(l.locale=e.detectedLocale)}return l}},761400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextURL",{enumerable:!0,get:function(){return d}});let a=e.r(512953),i=e.r(16107),n=e.r(26729),s=e.r(107657),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let u=Symbol("NextURLInternal");class d{constructor(e,t,r){let a,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(a=t,i=r||{}):i=r||t||{},this[u]={url:l(e,a??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,o;let l=(0,s.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),d=(0,n.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(d):(0,a.detectDomainLocale)(null==(t=this[u].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,d);let c=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[u].options.nextConfig)||null==(i=o.i18n)?void 0:i.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=c,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??c,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new d(String(this),this[u].options)}}},430009,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={ACTION_SUFFIX:function(){return y},APP_DIR_ALIAS:function(){return M},CACHE_ONE_YEAR:function(){return I},DOT_NEXT_ALIAS:function(){return L},ESLINT_DEFAULT_DIRS:function(){return en},GSP_NO_RETURNED_VALUE:function(){return Z},GSSP_COMPONENT_MEMBER_ERROR:function(){return er},GSSP_NO_RETURNED_VALUE:function(){return ee},HTML_CONTENT_TYPE_HEADER:function(){return s},INFINITE_CACHE:function(){return A},INSTRUMENTATION_HOOK_FILENAME:function(){return q},JSON_CONTENT_TYPE_HEADER:function(){return o},MATCHED_PATH_HEADER:function(){return d},MIDDLEWARE_FILENAME:function(){return k},MIDDLEWARE_LOCATION_REGEXP:function(){return C},NEXT_BODY_SUFFIX:function(){return _},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return x},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return E},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return S},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return P},NEXT_CACHE_TAGS_HEADER:function(){return w},NEXT_CACHE_TAG_MAX_ITEMS:function(){return T},NEXT_CACHE_TAG_MAX_LENGTH:function(){return O},NEXT_DATA_SUFFIX:function(){return v},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return u},NEXT_META_SUFFIX:function(){return b},NEXT_QUERY_PARAM_PREFIX:function(){return l},NEXT_RESUME_HEADER:function(){return R},NON_STANDARD_NODE_ENV:function(){return ea},PAGES_DIR_ALIAS:function(){return U},PRERENDER_REVALIDATE_HEADER:function(){return c},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return f},PROXY_FILENAME:function(){return D},PROXY_LOCATION_REGEXP:function(){return N},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return H},ROOT_DIR_ALIAS:function(){return j},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return J},RSC_ACTION_ENCRYPTION_ALIAS:function(){return W},RSC_ACTION_PROXY_ALIAS:function(){return $},RSC_ACTION_VALIDATE_ALIAS:function(){return F},RSC_CACHE_WRAPPER_ALIAS:function(){return G},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return B},RSC_MOD_REF_PROXY_ALIAS:function(){return V},RSC_PREFETCH_SUFFIX:function(){return p},RSC_SEGMENTS_DIR_SUFFIX:function(){return h},RSC_SEGMENT_SUFFIX:function(){return m},RSC_SUFFIX:function(){return g},SERVER_PROPS_EXPORT_ERROR:function(){return Y},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return z},SERVER_PROPS_SSG_CONFLICT:function(){return Q},SERVER_RUNTIME:function(){return es},SSG_FALLBACK_EXPORT_ERROR:function(){return ei},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return K},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return X},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return n},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return et},WEBPACK_LAYERS:function(){return eu},WEBPACK_RESOURCE_QUERIES:function(){return ed},WEB_SOCKET_MAX_RECONNECTIONS:function(){return eo}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n="text/plain",s="text/html; charset=utf-8",o="application/json; charset=utf-8",l="nxtP",u="nxtI",d="x-matched-path",c="x-prerender-revalidate",f="x-prerender-revalidate-if-generated",p=".prefetch.rsc",h=".segments",m=".segment.rsc",g=".rsc",y=".action",v=".json",b=".meta",_=".body",w="x-next-cache-tags",E="x-next-revalidated-tags",S="x-next-revalidate-tag-token",R="next-resume",T=128,O=256,P=1024,x="_N_T_",I=31536e3,A=0xfffffffe,k="middleware",C=`(?:src/)?${k}`,D="proxy",N=`(?:src/)?${D}`,q="instrumentation",U="private-next-pages",L="private-dot-next",j="private-next-root-dir",M="private-next-app-dir",V="private-next-rsc-mod-ref-proxy",F="private-next-rsc-action-validate",$="private-next-rsc-server-reference",G="private-next-rsc-cache-wrapper",B="private-next-rsc-track-dynamic-import",W="private-next-rsc-action-encryption",J="private-next-rsc-action-client-wrapper",H="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",K="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",z="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",Q="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",X="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",Y="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Z="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",ee="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",et="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",er="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",ea='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ei="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",en=["app","pages","components","lib","src"],es={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},eo=12,el={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},eu={...el,GROUP:{builtinReact:[el.reactServerComponents,el.actionBrowser],serverOnly:[el.reactServerComponents,el.actionBrowser,el.instrument,el.middleware],neutralTarget:[el.apiNode,el.apiEdge],clientOnly:[el.serverSideRendering,el.appPagesBrowser],bundled:[el.reactServerComponents,el.actionBrowser,el.serverSideRendering,el.appPagesBrowser,el.shared,el.instrument,el.middleware],appPages:[el.reactServerComponents,el.serverSideRendering,el.appPagesBrowser,el.actionBrowser]}},ed={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},341296,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={fromNodeOutgoingHttpHeaders:function(){return s},normalizeNextQueryParam:function(){return d},splitCookiesString:function(){return o},toNodeOutgoingHttpHeaders:function(){return l},validateURL:function(){return u}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(430009);function s(e){let t=new Headers;for(let[r,a]of Object.entries(e))for(let e of Array.isArray(a)?a:[a])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function o(e){var t,r,a,i,n,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,n=!1;l();)if(","===(r=e.charAt(o))){for(a=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(n=!0,o=i,s.push(e.substring(t,a)),t=o):o=a+1}else o+=1;(!n||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function l(e){let t={},r=[];if(e)for(let[a,i]of e.entries())"set-cookie"===a.toLowerCase()?(r.push(...o(i)),t[a]=1===r.length?r[0]:r):t[a]=i;return t}function u(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function d(e){for(let t of[n.NEXT_QUERY_PARAM_PREFIX,n.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},243241,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={PageSignatureError:function(){return n},RemovedPageError:function(){return s},RemovedUAError:function(){return o}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});class n extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class s extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class o extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},507417,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies},stringifyCookie:function(){return n.stringifyCookie}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(709254)},775447,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={INTERNALS:function(){return u},NextRequest:function(){return d}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(761400),s=e.r(341296),o=e.r(243241),l=e.r(507417),u=Symbol("internal request");class d extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);(0,s.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const a=new n.NextURL(r,{headers:(0,s.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[u]={cookies:new l.RequestCookies(this.headers),nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[u].cookies}get nextUrl(){return this[u].nextUrl}get page(){throw new o.RemovedPageError}get ua(){throw new o.RemovedUAError}get url(){return this[u].url}}},508126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return a}});class a{static get(e,t,r){let a=Reflect.get(e,t,r);return"function"==typeof a?a.bind(e):a}static set(e,t,r,a){return Reflect.set(e,t,r,a)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},909052,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextResponse",{enumerable:!0,get:function(){return c}});let a=e.r(507417),i=e.r(761400),n=e.r(341296),s=e.r(508126),o=e.r(507417),l=Symbol("internal response"),u=new Set([301,302,303,307,308]);function d(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[a,i]of e.request.headers)t.set("x-middleware-request-"+a,i),r.push(a);t.set("x-middleware-override-headers",r.join(","))}}class c extends Response{constructor(e,t={}){super(e,t);const r=this.headers,u=new Proxy(new o.ResponseCookies(r),{get(e,i,n){switch(i){case"delete":case"set":return(...n)=>{let s=Reflect.apply(e[i],e,n),l=new Headers(r);return s instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",s.getAll().map(e=>(0,a.stringifyCookie)(e)).join(",")),d(t,l),s};default:return s.ReflectAdapter.get(e,i,n)}}});this[l]={cookies:u,url:t.url?new i.NextURL(t.url,{headers:(0,n.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new c(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let a="object"==typeof t?t:{},i=new Headers(null==a?void 0:a.headers);return i.set("Location",(0,n.validateURL)(e)),new c(null,{...a,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,n.validateURL)(e)),d(t,r),new c(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),d(e,t),new c(null,{...e,headers:t})}}},302075,(e,t,r)=>{"use strict";function a(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageResponse",{enumerable:!0,get:function(){return a}})},506992,(e,t,r)=>{var a={226:function(t,r){!function(a,i){"use strict";var n="function",s="undefined",o="object",l="string",u="major",d="model",c="name",f="type",p="vendor",h="version",m="architecture",g="console",y="mobile",v="tablet",b="smarttv",_="wearable",w="embedded",E="Amazon",S="Apple",R="ASUS",T="BlackBerry",O="Browser",P="Chrome",x="Firefox",I="Google",A="Huawei",k="Microsoft",C="Motorola",D="Opera",N="Samsung",q="Sharp",U="Sony",L="Xiaomi",j="Zebra",M="Facebook",V="Chromium OS",F="Mac OS",$=function(e,t){var r={};for(var a in e)t[a]&&t[a].length%2==0?r[a]=t[a].concat(e[a]):r[a]=e[a];return r},G=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},B=function(e,t){return typeof e===l&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},H=function(e,t){for(var r,a,i,s,l,u,d=0;d<t.length&&!l;){var c=t[d],f=t[d+1];for(r=a=0;r<c.length&&!l&&c[r];)if(l=c[r++].exec(e))for(i=0;i<f.length;i++)u=l[++a],typeof(s=f[i])===o&&s.length>0?2===s.length?typeof s[1]==n?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==n||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):void 0:this[s[0]]=u?s[1].call(this,u,s[2]):void 0:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):void 0):this[s]=u||void 0;d+=2}},K=function(e,t){for(var r in t)if(typeof t[r]===o&&t[r].length>0){for(var a=0;a<t[r].length;a++)if(B(t[r][a],e))return"?"===r?void 0:r}else if(B(t[r],e))return"?"===r?void 0:r;return e},z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,h],[/opios[\/ ]+([\w\.]+)/i],[h,[c,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[h,[c,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[c,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[c,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[h,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[c,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+O],h],[/\bfocus\/([\w\.]+)/i],[h,[c,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[c,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[c,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[c,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[h,[c,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+O],h],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[c,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,M],h],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[c,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[c,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[c,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[c,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,P+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[c,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[h,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[c,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[c,h],[/(cobalt)\/([\w\.]+)/i],[c,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,W]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,N],[f,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,N],[f,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,S],[f,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,S],[f,v]],[/(macintosh);/i],[d,[p,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,q],[f,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,A],[f,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,A],[f,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,L],[f,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,L],[f,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[f,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[f,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[f,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,C],[f,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,C],[f,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,"LG"],[f,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,"LG"],[f,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[f,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[f,y]],[/(pixel c)\b/i],[d,[p,I],[f,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,I],[f,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,U],[f,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,U],[f,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[f,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,E],[f,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,E],[f,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[f,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,T],[f,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,R],[f,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,R],[f,y]],[/(nexus 9)/i],[d,[p,"HTC"],[f,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[f,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[f,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[f,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[f,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[f,v]],[/(surface duo)/i],[d,[p,k],[f,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[f,y]],[/(u304aa)/i],[d,[p,"AT&T"],[f,y]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[f,y]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[f,v]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[f,v]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[f,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[f,v]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[f,v]],[/\b(k88) b/i],[d,[p,"ZTE"],[f,v]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[f,y]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[f,y]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[f,v]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[f,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[f,v]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[f,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[f,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[f,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[f,y]],[/\b(ph-1) /i],[d,[p,"Essential"],[f,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[f,v]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[f,v]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[f,v]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[f,v]],[/(sprint) (\w+)/i],[p,d,[f,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,k],[f,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,j],[f,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,j],[f,y]],[/smart-tv.+(samsung)/i],[p,[f,b]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,N],[f,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,"LG"],[f,b]],[/(apple) ?tv/i],[p,[d,S+" TV"],[f,b]],[/crkey/i],[[d,P+"cast"],[p,I],[f,b]],[/droid.+aft(\w)( bui|\))/i],[d,[p,E],[f,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,q],[f,b]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,U],[f,b]],[/(mitv-\w{5}) bui/i],[d,[p,L],[f,b]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[f,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,J],[d,J],[f,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[f,g]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[d,[p,U],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,k],[f,g]],[/((pebble))app/i],[p,d,[f,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,S],[f,_]],[/droid.+; (glass) \d/i],[d,[p,I],[f,_]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,j],[f,_]],[/(quest( 2| pro)?)/i],[d,[p,M],[f,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[f,w]],[/(aeobc)\b/i],[d,[p,E],[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[f,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[c,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[c,[h,K,z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[c,"Windows"],[h,K,z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,F],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,h],[/\(bb(10);/i],[h,[c,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[c,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[c,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[c,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[c,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[c,V],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,h],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[c,h]]},X=function(e,t){if(typeof e===o&&(t=e,e=void 0),!(this instanceof X))return new X(e,t).getResult();var r=typeof a!==s&&a.navigator?a.navigator:void 0,i=e||(r&&r.userAgent?r.userAgent:""),g=r&&r.userAgentData?r.userAgentData:void 0,b=t?$(Q,t):Q,_=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[c]=void 0,t[h]=void 0,H.call(t,i,b.browser),t[u]=typeof(e=t[h])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,_&&r&&r.brave&&typeof r.brave.isBrave==n&&(t[c]="Brave"),t},this.getCPU=function(){var e={};return e[m]=void 0,H.call(e,i,b.cpu),e},this.getDevice=function(){var e={};return e[p]=void 0,e[d]=void 0,e[f]=void 0,H.call(e,i,b.device),_&&!e[f]&&g&&g.mobile&&(e[f]=y),_&&"Macintosh"==e[d]&&r&&typeof r.standalone!==s&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[f]=v),e},this.getEngine=function(){var e={};return e[c]=void 0,e[h]=void 0,H.call(e,i,b.engine),e},this.getOS=function(){var e={};return e[c]=void 0,e[h]=void 0,H.call(e,i,b.os),_&&!e[c]&&g&&"Unknown"!=g.platform&&(e[c]=g.platform.replace(/chrome os/i,V).replace(/macos/i,F)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===l&&e.length>350?J(e,350):e,this},this.setUA(i),this};if(X.VERSION="1.0.35",X.BROWSER=G([c,h,u]),X.CPU=G([m]),X.DEVICE=G([d,p,f,g,y,b,v,_,w]),X.ENGINE=X.OS=G([c,h]),typeof r!==s)t.exports&&(r=t.exports=X),r.UAParser=X;else if(typeof define===n&&define.amd)e.r,void 0!==X&&e.v(X);else typeof a!==s&&(a.UAParser=X);var Y=typeof a!==s&&(a.jQuery||a.Zepto);if(Y&&!Y.ua){var Z=new X;Y.ua=Z.getResult(),Y.ua.get=function(){return Z.getUA()},Y.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var r in t)Y.ua[r]=t[r]}}}(this)}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},s=!0;try{a[e].call(r.exports,r,r.exports,n),s=!1}finally{s&&delete i[e]}return r.exports}n.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",t.exports=n(226)},660567,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a,i={isBot:function(){return o},userAgent:function(){return u},userAgentFromString:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=(a=e.r(506992))&&a.__esModule?a:{default:a};function o(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function l(e){return{...(0,s.default)(e),isBot:void 0!==e&&o(e)}}function u({headers:e}){return l(e.get("user-agent")||void 0)}},698214,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"URLPattern",{enumerable:!0,get:function(){return a}});let a="undefined"==typeof URLPattern?void 0:URLPattern},698521,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"after",{enumerable:!0,get:function(){return i}});let a=e.r(556704);function i(e){let t=a.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},603368,(e,t,r)=>{"use strict";var a,i;Object.defineProperty(r,"__esModule",{value:!0}),a=e.r(698521),i=r,Object.keys(a).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(i,e,{enumerable:!0,get:function(){return a[e]}})})},339622,(e,t,r)=>{"use strict";t.exports=e.r(918622)},549518,(e,t,r)=>{"use strict";t.exports=e.r(339622).vendored["react-rsc"].React},777753,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DynamicServerError:function(){return s},isDynamicServerError:function(){return o}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n="DYNAMIC_SERVER_USAGE";class s extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=n}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},680773,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={StaticGenBailoutError:function(){return s},isStaticGenBailoutError:function(){return o}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n="NEXT_STATIC_GEN_BAILOUT";class s extends Error{constructor(...e){super(...e),this.code=n}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},537138,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={isHangingPromiseRejectionError:function(){return n},makeDevtoolsIOAwarePromise:function(){return c},makeHangingPromise:function(){return u}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}let s="HANGING_PROMISE_REJECTION";class o extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=s}}let l=new WeakMap;function u(e,t,r){if(e.aborted)return Promise.reject(new o(t,r));{let a=new Promise((a,i)=>{let n=i.bind(null,new o(t,r)),s=l.get(e);if(s)s.push(n);else{let t=[n];l.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return a.catch(d),a}}function d(){}function c(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},313332,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={METADATA_BOUNDARY_NAME:function(){return n},OUTLET_BOUNDARY_NAME:function(){return o},ROOT_LAYOUT_BOUNDARY_NAME:function(){return l},VIEWPORT_BOUNDARY_NAME:function(){return s}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n="__next_metadata_boundary__",s="__next_viewport_boundary__",o="__next_outlet_boundary__",l="__next_root_layout_boundary__"},818697,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={atLeastOneTask:function(){return o},scheduleImmediate:function(){return s},scheduleOnNextTick:function(){return n},waitAtLeastOneReactRenderTask:function(){return l}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},s=e=>{setImmediate(e)};function o(){return new Promise(e=>s(e))}function l(){return new Promise(e=>setImmediate(e))}},939491,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={BailoutToCSRError:function(){return s},isBailoutToCSRError:function(){return o}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n="BAILOUT_TO_CLIENT_SIDE_RENDERING";class s extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=n}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}},635121,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"InvariantError",{enumerable:!0,get:function(){return a}});class a extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}},745470,(e,t,r)=>{"use strict";function a(){let e,t,r=new Promise((r,a)=>{e=r,t=a});return{resolve:e,reject:t,promise:r}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createPromiseWithResolvers",{enumerable:!0,get:function(){return a}})},998771,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a,i={RenderStage:function(){return l},StagedRenderingController:function(){return u}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(635121),o=e.r(745470);var l=((a={})[a.Static=1]="Static",a[a.Runtime=2]="Runtime",a[a.Dynamic=3]="Dynamic",a);class u{constructor(e=null){this.abortSignal=e,this.currentStage=1,this.runtimeStagePromise=(0,o.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,o.createPromiseWithResolvers)(),e&&e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<2&&(this.runtimeStagePromise.promise.catch(d),this.runtimeStagePromise.reject(t)),this.currentStage<3&&(this.dynamicStagePromise.promise.catch(d),this.dynamicStagePromise.reject(t))},{once:!0})}advanceStage(e){!(this.currentStage>=e)&&(this.currentStage=e,e>=2&&this.runtimeStagePromise.resolve(),e>=3&&this.dynamicStagePromise.resolve())}getStagePromise(e){switch(e){case 2:return this.runtimeStagePromise.promise;case 3:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new s.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,r){var a,i,n;let s,o=(a=this.getStagePromise(e),i=t,n=r,s=new Promise((e,t)=>{a.then(e.bind(null,n),t)}),void 0!==i&&(s.displayName=i),s);return this.abortSignal&&o.catch(d),o}}function d(){}},521401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a,i,n={Postpone:function(){return I},PreludeState:function(){return X},abortAndThrowOnSynchronousRequestDataAccess:function(){return x},abortOnSynchronousPlatformIOAccess:function(){return O},accessedDynamicData:function(){return L},annotateDynamicAccess:function(){return $},consumeDynamicAccess:function(){return j},createDynamicTrackingState:function(){return b},createDynamicValidationState:function(){return _},createHangingInputAbortSignal:function(){return F},createRenderInBrowserAbortSignal:function(){return V},delayUntilRuntimeStage:function(){return ee},formatDynamicAPIAccesses:function(){return M},getFirstDynamicReason:function(){return w},isDynamicPostpone:function(){return C},isPrerenderInterruptedError:function(){return U},logDisallowedDynamicError:function(){return Y},markCurrentScopeAsDynamic:function(){return E},postponeWithTracking:function(){return A},throwIfDisallowedDynamic:function(){return Z},throwToInterruptStaticGeneration:function(){return S},trackAllowedDynamicAccess:function(){return Q},trackDynamicDataInDynamicRender:function(){return R},trackSynchronousPlatformIOAccessInDev:function(){return P},useDynamicRouteParams:function(){return G},useDynamicSearchParams:function(){return B}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let o=(a=e.r(549518))&&a.__esModule?a:{default:a},l=e.r(777753),u=e.r(680773),d=e.r(832319),c=e.r(556704),f=e.r(537138),p=e.r(313332),h=e.r(818697),m=e.r(939491),g=e.r(635121),y=e.r(998771),v="function"==typeof o.default.unstable_postpone;function b(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function _(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function w(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function E(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new u.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return A(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let a=Object.defineProperty(new l.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=a.stack,a}}}function S(e,t,r){let a=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=a.stack,a}function R(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function T(e,t,r){let a=q(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(a);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function O(e,t,r,a){let i=a.dynamicTracking;T(e,t,a),i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}function P(e){e.stagedRendering&&e.stagedRendering.advanceStage(y.RenderStage.Dynamic)}function x(e,t,r,a){if(!1===a.controller.signal.aborted){T(e,t,a);let i=a.dynamicTracking;i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}throw q(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function I({reason:e,route:t}){let r=d.workUnitAsyncStorage.getStore();A(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function A(e,t,r){(function(){if(!v)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),o.default.unstable_postpone(k(e,t))}function k(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function C(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&D(e.message)}function D(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===D(k("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let N="NEXT_PRERENDER_INTERRUPTED";function q(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=N,t}function U(e){return"object"==typeof e&&null!==e&&e.digest===N&&"name"in e&&"message"in e&&e instanceof Error}function L(e){return e.length>0}function j(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function M(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function V(){let e=new AbortController;return e.abort(Object.defineProperty(new m.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function F(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,d.getRuntimeStagePromise)(e);r?r.then(()=>(0,h.scheduleOnNextTick)(()=>t.abort())):(0,h.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function $(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function G(e){let t=c.workAsyncStorage.getStore(),r=d.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let a=r.fallbackRouteParams;a&&a.size>0&&o.default.use((0,f.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let a=r.fallbackRouteParams;if(a&&a.size>0)return A(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function B(e){let t=c.workAsyncStorage.getStore(),r=d.workUnitAsyncStorage.getStore();if(t)switch(!r&&(0,d.throwForMissingRequestStore)(e),r.type){case"prerender-client":o.default.use((0,f.makeHangingPromise)(r.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new m.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let W=/\n\s+at Suspense \(<anonymous>\)/,J=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${p.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),H=RegExp(`\\n\\s+at ${p.METADATA_BOUNDARY_NAME}[\\n\\s]`),K=RegExp(`\\n\\s+at ${p.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),z=RegExp(`\\n\\s+at ${p.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function Q(e,t,r,a){if(!z.test(t)){if(H.test(t)){r.hasDynamicMetadata=!0;return}if(K.test(t)){r.hasDynamicViewport=!0;return}if(J.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(W.test(t)){r.hasAllowedDynamic=!0;return}else{var i,n;let s;if(a.syncDynamicErrorWithStack)return void r.dynamicErrors.push(a.syncDynamicErrorWithStack);let o=(i=`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,n=t,(s=Object.defineProperty(Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})).stack=s.name+": "+i+n,s);return void r.dynamicErrors.push(o)}}}var X=((i={})[i.Full=0]="Full",i[i.Empty=1]="Empty",i[i.Errored=2]="Errored",i);function Y(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function Z(e,t,r,a){if(a.syncDynamicErrorWithStack)throw Y(e,a.syncDynamicErrorWithStack),new u.StaticGenBailoutError;if(0!==t){if(r.hasSuspenseAboveBody)return;let a=r.dynamicErrors;if(a.length>0){for(let t=0;t<a.length;t++)Y(e,a[t]);throw new u.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new u.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new u.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new u.StaticGenBailoutError}function ee(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},519048,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={isRequestAPICallableInsideAfter:function(){return u},throwForSearchParamsAccessInUseCache:function(){return l},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return o}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(680773),s=e.r(324725);function o(e,t){throw Object.defineProperty(new n.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function l(e,t){let r=Object.defineProperty(Error(`Route ${e.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(r,t),e.invalidDynamicUsageError??=r,r}function u(){let e=s.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},44822,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"connection",{enumerable:!0,get:function(){return u}});let a=e.r(556704),i=e.r(832319),n=e.r(521401),s=e.r(680773),o=e.r(537138),l=e.r(519048);function u(){let e=a.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside \`after()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but \`after()\` executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E827",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(e.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E847",enumerable:!1,configurable:!0});if(t)switch(t.type){case"cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E841",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,u),e.invalidDynamicUsageError??=t,t}case"private-cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E837",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,u),e.invalidDynamicUsageError??=t,t}case"unstable-cache":throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside a function cached with \`unstable_cache()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E840",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,o.makeHangingPromise)(t.renderSignal,e.route,"`connection()`");case"prerender-ppr":return(0,n.postponeWithTracking)(e.route,"connection",t.dynamicTracking);case"prerender-legacy":return(0,n.throwToInterruptStaticGeneration)("connection",e,t);case"request":return(0,n.trackDynamicDataInDynamicRender)(t),Promise.resolve(void 0)}}(0,i.throwForMissingRequestStore)("connection")}e.r(998771)},955207,(e,t,r)=>{let a={NextRequest:e.r(775447).NextRequest,NextResponse:e.r(909052).NextResponse,ImageResponse:e.r(302075).ImageResponse,userAgentFromString:e.r(660567).userAgentFromString,userAgent:e.r(660567).userAgent,URLPattern:e.r(698214).URLPattern,after:e.r(603368).after,connection:e.r(44822).connection};t.exports=a,r.NextRequest=a.NextRequest,r.NextResponse=a.NextResponse,r.ImageResponse=a.ImageResponse,r.userAgentFromString=a.userAgentFromString,r.userAgent=a.userAgent,r.URLPattern=a.URLPattern,r.after=a.after,r.connection=a.connection},949987,(e,t,r)=>{t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},224090,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799);r.default=(e,t)=>(0,a.createHash)(e).update(t).digest()},191826,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.concatKdf=r.lengthAndInput=r.uint32be=r.uint64be=r.p2s=r.concat=r.decoder=r.encoder=void 0;let a=e.r(224090);function i(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}function n(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function s(e){let t=new Uint8Array(4);return n(t,e),t}r.encoder=new TextEncoder,r.decoder=new TextDecoder,r.concat=i,r.p2s=function(e,t){return i(r.encoder.encode(e),new Uint8Array([0]),t)},r.uint64be=function(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return n(r,t,0),n(r,e%0x100000000,4),r},r.uint32be=s,r.lengthAndInput=function(e){return i(s(e.length),e)},r.concatKdf=async function(e,t,r){let i=Math.ceil((t>>3)/32),n=new Uint8Array(32*i);for(let t=0;t<i;t++){let i=new Uint8Array(4+e.length+r.length);i.set(s(t+1)),i.set(e,4),i.set(r,4+e.length),n.set(await (0,a.default)("sha256",i),32*t)}return n.slice(0,t>>3)}},745973,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=r.encodeBase64=r.decodeBase64=void 0;let a=e.r(500874),i=e.r(191826);a.Buffer.isEncoding("base64url")?r.encode=e=>a.Buffer.from(e).toString("base64url"):r.encode=e=>a.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),r.decodeBase64=e=>a.Buffer.from(e,"base64"),r.encodeBase64=e=>a.Buffer.from(e).toString("base64"),r.decode=e=>{let t;return a.Buffer.from(((t=e)instanceof Uint8Array&&(t=i.decoder.decode(t)),t),"base64")}},471699,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWSSignatureVerificationFailed=r.JWKSTimeout=r.JWKSMultipleMatchingKeys=r.JWKSNoMatchingKey=r.JWKSInvalid=r.JWKInvalid=r.JWTInvalid=r.JWSInvalid=r.JWEInvalid=r.JWEDecompressionFailed=r.JWEDecryptionFailed=r.JOSENotSupported=r.JOSEAlgNotAllowed=r.JWTExpired=r.JWTClaimValidationFailed=r.JOSEError=void 0;class a extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null==(t=Error.captureStackTrace)||t.call(Error,this,this.constructor)}}r.JOSEError=a,r.JWTClaimValidationFailed=class extends a{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}},r.JWTExpired=class extends a{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}},r.JOSEAlgNotAllowed=class extends a{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}},r.JOSENotSupported=class extends a{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}},r.JWEDecryptionFailed=class extends a{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}},r.JWEDecompressionFailed=class extends a{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}},r.JWEInvalid=class extends a{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}},r.JWSInvalid=class extends a{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}},r.JWTInvalid=class extends a{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}},r.JWKInvalid=class extends a{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}},r.JWKSInvalid=class extends a{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}},r.JWKSNoMatchingKey=class extends a{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}},r.JWKSMultipleMatchingKeys=class extends a{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}},r.JWKSTimeout=class extends a{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}},r.JWSSignatureVerificationFailed=class extends a{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}},330058,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e.r(254799);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a.randomFillSync}})},833978,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bitLength=void 0;let a=e.r(471699),i=e.r(330058);function n(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new a.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}r.bitLength=n,r.default=e=>(0,i.default)(new Uint8Array(n(e)>>3))},580187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(471699),i=e.r(833978);r.default=(e,t)=>{if(t.length<<3!==(0,i.bitLength)(e))throw new a.JWEInvalid("Invalid Initialization Vector length")}},942565,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799),i=e.r(224361);r.default=i.types.isKeyObject?e=>i.types.isKeyObject(e):e=>null!=e&&e instanceof a.KeyObject},129555,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(471699),i=e.r(942565);r.default=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new a.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new a.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if((0,i.default)(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new a.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")}},607743,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e.r(254799).timingSafeEqual},320560,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799),i=e.r(191826);r.default=function(e,t,r,n,s,o){let l=(0,i.concat)(e,t,r,(0,i.uint64be)(e.length<<3)),u=(0,a.createHmac)(`sha${n}`,s);return u.update(l),u.digest().slice(0,o>>3)}},416084,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isCryptoKey=void 0;let a=e.r(254799),i=e.r(224361);r.default=a.webcrypto,r.isCryptoKey=i.types.isCryptoKey?e=>i.types.isCryptoKey(e):e=>!1},956080,(e,t,r)=>{"use strict";function a(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function i(e,t){return e.name===t}function n(e){return parseInt(e.name.slice(4),10)}function s(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}Object.defineProperty(r,"__esModule",{value:!0}),r.checkEncCryptoKey=r.checkSigCryptoKey=void 0,r.checkSigCryptoKey=function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!i(e.algorithm,"HMAC"))throw a("HMAC");let r=parseInt(t.slice(2),10);if(n(e.algorithm.hash)!==r)throw a(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!i(e.algorithm,"RSASSA-PKCS1-v1_5"))throw a("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(n(e.algorithm.hash)!==r)throw a(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!i(e.algorithm,"RSA-PSS"))throw a("RSA-PSS");let r=parseInt(t.slice(2),10);if(n(e.algorithm.hash)!==r)throw a(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw a("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!i(e.algorithm,"ECDSA"))throw a("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw a(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}s(e,r)},r.checkEncCryptoKey=function(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!i(e.algorithm,"AES-GCM"))throw a("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw a(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!i(e.algorithm,"AES-KW"))throw a("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw a(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw a("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!i(e.algorithm,"PBKDF2"))throw a("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!i(e.algorithm,"RSA-OAEP"))throw a("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(n(e.algorithm.hash)!==r)throw a(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}s(e,r)}},935980,(e,t,r)=>{"use strict";function a(e,t,...r){if(r.length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}Object.defineProperty(r,"__esModule",{value:!0}),r.withAlg=void 0,r.default=(e,...t)=>a("Key must be ",e,...t),r.withAlg=function(e,t,...r){return a(`Key for the ${e} algorithm must be `,t,...r)}},217790,(e,t,r)=>{"use strict";let a;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(254799);r.default=e=>(a||(a=new Set((0,i.getCiphers)())),a.has(e))},94413,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.types=void 0;let a=e.r(416084),i=e.r(942565);r.default=e=>(0,i.default)(e)||(0,a.isCryptoKey)(e);let n=["KeyObject"];r.types=n,(globalThis.CryptoKey||(null===a.default||void 0===a.default?void 0:a.default.CryptoKey))&&n.push("CryptoKey")},461868,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799),i=e.r(580187),n=e.r(129555),s=e.r(191826),o=e.r(471699),l=e.r(607743),u=e.r(320560),d=e.r(416084),c=e.r(956080),f=e.r(942565),p=e.r(935980),h=e.r(217790),m=e.r(94413);r.default=(e,t,r,g,y,v)=>{let b;if((0,d.isCryptoKey)(t))(0,c.checkEncCryptoKey)(t,e,"decrypt"),b=a.KeyObject.from(t);else if(t instanceof Uint8Array||(0,f.default)(t))b=t;else throw TypeError((0,p.default)(t,...m.types,"Uint8Array"));switch((0,n.default)(e,b),(0,i.default)(e,g),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,i,n,d){let c,p,m=parseInt(e.slice(1,4),10);(0,f.default)(t)&&(t=t.export());let g=t.subarray(m>>3),y=t.subarray(0,m>>3),v=parseInt(e.slice(-3),10),b=`aes-${m}-cbc`;if(!(0,h.default)(b))throw new o.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let _=(0,u.default)(d,i,r,v,y,m);try{c=(0,l.default)(n,_)}catch{}if(!c)throw new o.JWEDecryptionFailed;try{let e=(0,a.createDecipheriv)(b,g,i);p=(0,s.concat)(e.update(r),e.final())}catch{}if(!p)throw new o.JWEDecryptionFailed;return p}(e,b,r,g,y,v);case"A128GCM":case"A192GCM":case"A256GCM":var _=b;let w=parseInt(e.slice(1,4),10),E=`aes-${w}-gcm`;if(!(0,h.default)(E))throw new o.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,a.createDecipheriv)(E,_,g,{authTagLength:16});e.setAuthTag(y),v.byteLength&&e.setAAD(v,{plaintextLength:r.length});let t=e.update(r);return e.final(),t}catch{throw new o.JWEDecryptionFailed}default:throw new o.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},794179,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deflate=r.inflate=void 0;let a=e.r(224361),i=e.r(406461),n=e.r(471699),s=(0,a.promisify)(i.inflateRaw),o=(0,a.promisify)(i.deflateRaw);r.inflate=e=>s(e,{maxOutputLength:25e4}).catch(()=>{throw new n.JWEDecompressionFailed}),r.deflate=e=>o(e)},279571,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}},94002,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},862252,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unwrap=r.wrap=void 0;let a=e.r(500874),i=e.r(254799),n=e.r(471699),s=e.r(191826),o=e.r(416084),l=e.r(956080),u=e.r(942565),d=e.r(935980),c=e.r(217790),f=e.r(94413);function p(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function h(e,t,r){if((0,u.default)(e))return e;if(e instanceof Uint8Array)return(0,i.createSecretKey)(e);if((0,o.isCryptoKey)(e))return(0,l.checkEncCryptoKey)(e,t,r),i.KeyObject.from(e);throw TypeError((0,d.default)(e,...f.types,"Uint8Array"))}r.wrap=(e,t,r)=>{let o=parseInt(e.slice(1,4),10),l=`aes${o}-wrap`;if(!(0,c.default)(l))throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let u=h(t,e,"wrapKey");p(u,e);let d=(0,i.createCipheriv)(l,u,a.Buffer.alloc(8,166));return(0,s.concat)(d.update(r),d.final())},r.unwrap=(e,t,r)=>{let o=parseInt(e.slice(1,4),10),l=`aes${o}-wrap`;if(!(0,c.default)(l))throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let u=h(t,e,"unwrapKey");p(u,e);let d=(0,i.createDecipheriv)(l,u,a.Buffer.alloc(8,166));return(0,s.concat)(d.update(r),d.final())}},151935,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setCurve=r.weakMap=void 0;let a=e.r(500874),i=e.r(254799),n=e.r(471699),s=e.r(416084),o=e.r(942565),l=e.r(935980),u=e.r(94413),d=a.Buffer.from([42,134,72,206,61,3,1,7]),c=a.Buffer.from([43,129,4,0,34]),f=a.Buffer.from([43,129,4,0,35]),p=a.Buffer.from([43,129,4,0,10]);r.weakMap=new WeakMap;let h=(e,t)=>{var a;let m;if((0,s.isCryptoKey)(e))m=i.KeyObject.from(e);else if((0,o.default)(e))m=e;else throw TypeError((0,l.default)(e,...u.types));if("secret"===m.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(m.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${m.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${m.asymmetricKeyType.slice(1)}`;case"ec":{if(r.weakMap.has(m))return r.weakMap.get(m);let e=null==(a=m.asymmetricKeyDetails)?void 0:a.namedCurve;if(e||"private"!==m.type){if(!e){let t=m.export({format:"der",type:"spki"}),r=t[1]<128?14:15,a=t[r],i=t.slice(r+1,r+1+a);if(i.equals(d))e="prime256v1";else if(i.equals(c))e="secp384r1";else if(i.equals(f))e="secp521r1";else if(i.equals(p))e="secp256k1";else throw new n.JOSENotSupported("Unsupported key curve for this operation")}}else e=h((0,i.createPublicKey)(m),!0);if(t)return e;let s=(e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new n.JOSENotSupported("Unsupported key curve for this operation")}})(e);return r.weakMap.set(m,s),s}default:throw TypeError("Invalid asymmetric key type for this operation")}};r.setCurve=function(e,t){r.weakMap.set(e,t)},r.default=h},355622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ecdhAllowed=r.generateEpk=r.deriveKey=void 0;let a=e.r(254799),i=e.r(224361),n=e.r(151935),s=e.r(191826),o=e.r(471699),l=e.r(416084),u=e.r(956080),d=e.r(942565),c=e.r(935980),f=e.r(94413),p=(0,i.promisify)(a.generateKeyPair);r.deriveKey=async function(e,t,r,i,n=new Uint8Array(0),o=new Uint8Array(0)){let p,h;if((0,l.isCryptoKey)(e))(0,u.checkEncCryptoKey)(e,"ECDH"),p=a.KeyObject.from(e);else if((0,d.default)(e))p=e;else throw TypeError((0,c.default)(e,...f.types));if((0,l.isCryptoKey)(t))(0,u.checkEncCryptoKey)(t,"ECDH","deriveBits"),h=a.KeyObject.from(t);else if((0,d.default)(t))h=t;else throw TypeError((0,c.default)(t,...f.types));let m=(0,s.concat)((0,s.lengthAndInput)(s.encoder.encode(r)),(0,s.lengthAndInput)(n),(0,s.lengthAndInput)(o),(0,s.uint32be)(i)),g=(0,a.diffieHellman)({privateKey:h,publicKey:p});return(0,s.concatKdf)(g,i,m)},r.generateEpk=async function(e){let t;if((0,l.isCryptoKey)(e))t=a.KeyObject.from(e);else if((0,d.default)(e))t=e;else throw TypeError((0,c.default)(e,...f.types));switch(t.asymmetricKeyType){case"x25519":return p("x25519");case"x448":return p("x448");case"ec":return p("ec",{namedCurve:(0,n.default)(t)});default:throw new o.JOSENotSupported("Invalid or unsupported EPK")}},r.ecdhAllowed=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,n.default)(e))},605714,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(471699);r.default=function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new a.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}},380827,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;let a=e.r(224361),i=e.r(254799),n=e.r(330058),s=e.r(191826),o=e.r(745973),l=e.r(862252),u=e.r(605714),d=e.r(416084),c=e.r(956080),f=e.r(942565),p=e.r(935980),h=e.r(94413),m=(0,a.promisify)(i.pbkdf2);function g(e,t){if((0,f.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,d.isCryptoKey)(e))return(0,c.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),i.KeyObject.from(e).export();throw TypeError((0,p.default)(e,...h.types,"Uint8Array"))}r.encrypt=async(e,t,r,a=2048,i=(0,n.default)(new Uint8Array(16)))=>{(0,u.default)(i);let d=(0,s.p2s)(e,i),c=parseInt(e.slice(13,16),10)>>3,f=g(t,e),p=await m(f,d,a,c,`sha${e.slice(8,11)}`);return{encryptedKey:await (0,l.wrap)(e.slice(-6),p,r),p2c:a,p2s:(0,o.encode)(i)}},r.decrypt=async(e,t,r,a,i)=>{(0,u.default)(i);let n=(0,s.p2s)(e,i),o=parseInt(e.slice(13,16),10)>>3,d=g(t,e),c=await m(d,n,a,o,`sha${e.slice(8,11)}`);return(0,l.unwrap)(e.slice(-6),c,r)}},345740,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setModulusLength=r.weakMap=void 0,r.weakMap=new WeakMap;let a=(e,t)=>{let r=e.readUInt8(1);if((128&r)==0)return 0===t?r:a(e.subarray(2+r),t-1);let i=127&r;r=0;for(let t=0;t<i;t++)r<<=8,r|=e.readUInt8(2+t);return 0===t?r:a(e.subarray(2+r),t-1)};r.setModulusLength=(e,t)=>{r.weakMap.set(e,t)},r.default=(e,t)=>{if(2048>(e=>{var t,i,n,s;let o;if(r.weakMap.has(e))return r.weakMap.get(e);let l=null!=(i=null==(t=e.asymmetricKeyDetails)?void 0:t.modulusLength)?i:(n=e.export({format:"der",type:"pkcs1"}),s=+("private"===e.type),((128&(o=n.readUInt8(1)))==0?a(n.subarray(2),s):a(n.subarray(2+(127&o)),s))-1<<3);return r.weakMap.set(e,l),l})(e))throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},416816,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;let a=e.r(254799),i=e.r(345740),n=e.r(416084),s=e.r(956080),o=e.r(942565),l=e.r(935980),u=e.r(94413),d=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,i.default)(e,t)},c=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return a.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return a.constants.RSA_PKCS1_PADDING;default:return}},f=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function p(e,t,...r){if((0,o.default)(e))return e;if((0,n.isCryptoKey)(e))return(0,s.checkEncCryptoKey)(e,t,...r),a.KeyObject.from(e);throw TypeError((0,l.default)(e,...u.types))}r.encrypt=(e,t,r)=>{let i=c(e),n=f(e),s=p(t,e,"wrapKey","encrypt");return d(s,e),(0,a.publicEncrypt)({key:s,oaepHash:n,padding:i},r)},r.decrypt=(e,t,r)=>{let i=c(e),n=f(e),s=p(t,e,"unwrapKey","decrypt");return d(s,e),(0,a.privateDecrypt)({key:s,oaepHash:n,padding:i},r)}},304288,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bitLength=void 0;let a=e.r(471699),i=e.r(330058);function n(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new a.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}r.bitLength=n,r.default=e=>(0,i.default)(new Uint8Array(n(e)>>3))},76295,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromX509=r.fromSPKI=r.fromPKCS8=r.toPKCS8=r.toSPKI=void 0;let a=e.r(254799),i=e.r(500874),n=e.r(416084),s=e.r(942565),o=e.r(935980),l=e.r(94413),u=(e,t,r)=>{let i;if((0,n.isCryptoKey)(r)){if(!r.extractable)throw TypeError("CryptoKey is not extractable");i=a.KeyObject.from(r)}else if((0,s.default)(r))i=r;else throw TypeError((0,o.default)(r,...l.types));if(i.type!==e)throw TypeError(`key is not a ${e} key`);return i.export({format:"pem",type:t})};r.toSPKI=e=>u("public","spki",e),r.toPKCS8=e=>u("private","pkcs8",e),r.fromPKCS8=e=>(0,a.createPrivateKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"}),r.fromSPKI=e=>(0,a.createPublicKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"}),r.fromX509=e=>(0,a.createPublicKey)({key:e,type:"spki",format:"pem"})},657536,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(500874),i=e.r(471699),n=a.Buffer.from([0]),s=a.Buffer.from([2]),o=a.Buffer.from([3]),l=a.Buffer.from([48]),u=a.Buffer.from([4]),d=e=>{if(e<128)return a.Buffer.from([e]);let t=a.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;0===t[r];)r++;return t[r-1]=128|5-r,t.slice(r-1)},c=new Map([["P-256",a.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",a.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",a.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",a.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",a.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",a.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",a.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",a.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",a.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);r.default=class{constructor(){this.length=0,this.elements=[]}oidFor(e){let t=c.get(e);if(!t)throw new i.JOSENotSupported("Invalid or unsupported OID");this.elements.push(t),this.length+=t.length}zero(){this.elements.push(s,a.Buffer.from([1]),n),this.length+=3}one(){this.elements.push(s,a.Buffer.from([1]),a.Buffer.from([1])),this.length+=3}unsignedInteger(e){if(128&e[0]){let t=d(e.length+1);this.elements.push(s,t,n,e),this.length+=2+t.length+e.length}else{let t=0;for(;0===e[t]&&(128&e[t+1])==0;)t++;let r=d(e.length-t);this.elements.push(s,d(e.length-t),e.slice(t)),this.length+=1+r.length+e.length-t}}octStr(e){let t=d(e.length);this.elements.push(u,d(e.length),e),this.length+=1+t.length+e.length}bitStr(e){let t=d(e.length+1);this.elements.push(o,d(e.length+1),n,e),this.length+=1+t.length+e.length+1}add(e){this.elements.push(e),this.length+=e.length}end(e=l){let t=d(this.length);return a.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}}},43435,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwkImport=r.jwkExport=r.rsaPssParams=r.oneShotCallback=void 0;let[a,i]=process.versions.node.split(".").map(e=>parseInt(e,10));r.oneShotCallback=a>=16||15===a&&i>=13,r.rsaPssParams=!("electron"in process.versions)&&(a>=17||16===a&&i>=9),r.jwkExport=a>=16||15===a&&i>=9,r.jwkImport=a>=16||15===a&&i>=12},951901,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(500874),i=e.r(254799),n=e.r(745973),s=e.r(471699),o=e.r(151935),l=e.r(345740),u=e.r(657536),d=e.r(43435);r.default=e=>{if(d.jwkImport&&"oct"!==e.kty)return e.d?(0,i.createPrivateKey)({format:"jwk",key:e}):(0,i.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,i.createSecretKey)((0,n.decode)(e.k));case"RSA":{let t=new u.default,r=void 0!==e.d,n=a.Buffer.from(e.n,"base64"),s=a.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(n),t.unsignedInteger(s),t.unsignedInteger(a.Buffer.from(e.d,"base64")),t.unsignedInteger(a.Buffer.from(e.p,"base64")),t.unsignedInteger(a.Buffer.from(e.q,"base64")),t.unsignedInteger(a.Buffer.from(e.dp,"base64")),t.unsignedInteger(a.Buffer.from(e.dq,"base64")),t.unsignedInteger(a.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(n),t.unsignedInteger(s));let o={key:t.end(),format:"der",type:"pkcs1"},d=r?(0,i.createPrivateKey)(o):(0,i.createPublicKey)(o);return(0,l.setModulusLength)(d,n.length<<3),d}case"EC":{let t=new u.default,r=void 0!==e.d,n=a.Buffer.concat([a.Buffer.alloc(1,4),a.Buffer.from(e.x,"base64"),a.Buffer.from(e.y,"base64")]);if(r){t.zero();let r=new u.default;r.oidFor("ecPublicKey"),r.oidFor(e.crv),t.add(r.end());let s=new u.default;s.one(),s.octStr(a.Buffer.from(e.d,"base64"));let l=new u.default;l.bitStr(n);let d=l.end(a.Buffer.from([161]));s.add(d);let c=s.end(),f=new u.default;f.add(c);let p=f.end(a.Buffer.from([4]));t.add(p);let h=t.end(),m=(0,i.createPrivateKey)({key:h,format:"der",type:"pkcs8"});return(0,o.setCurve)(m,e.crv),m}let s=new u.default;s.oidFor("ecPublicKey"),s.oidFor(e.crv),t.add(s.end()),t.bitStr(n);let l=t.end(),d=(0,i.createPublicKey)({key:l,format:"der",type:"spki"});return(0,o.setCurve)(d,e.crv),d}case"OKP":{let t=new u.default;if(void 0!==e.d){t.zero();let r=new u.default;r.oidFor(e.crv),t.add(r.end());let n=new u.default;n.octStr(a.Buffer.from(e.d,"base64"));let s=n.end(a.Buffer.from([4]));t.add(s);let o=t.end();return(0,i.createPrivateKey)({key:o,format:"der",type:"pkcs8"})}let r=new u.default;r.oidFor(e.crv),t.add(r.end()),t.bitStr(a.Buffer.from(e.x,"base64"));let n=t.end();return(0,i.createPublicKey)({key:n,format:"der",type:"spki"})}default:throw new s.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}}},246967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.importJWK=r.importPKCS8=r.importX509=r.importSPKI=void 0;let a=e.r(745973),i=e.r(76295),n=e.r(951901),s=e.r(471699),o=e.r(94002);r.importSPKI=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return(0,i.fromSPKI)(e,t,r)},r.importX509=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return(0,i.fromX509)(e,t,r)},r.importPKCS8=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,i.fromPKCS8)(e,t,r)},r.importJWK=async function(e,t,r){var i;if(!(0,o.default)(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=r||(r=!0!==e.ext),r)return(0,n.default)({...e,alg:t,ext:null!=(i=e.ext)&&i});return(0,a.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new s.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,n.default)({...e,alg:t});default:throw new s.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},318402,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(935980),i=e.r(94413);r.default=(e,t,r)=>{if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)){if(!(t instanceof Uint8Array)){if(!(0,i.default)(t))throw TypeError((0,a.withAlg)(e,t,...i.types,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${i.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}}else{if(!(0,i.default)(t))throw TypeError((0,a.withAlg)(e,t,...i.types));if("secret"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)}}},270766,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799),i=e.r(580187),n=e.r(129555),s=e.r(191826),o=e.r(320560),l=e.r(416084),u=e.r(956080),d=e.r(942565),c=e.r(935980),f=e.r(471699),p=e.r(217790),h=e.r(94413);r.default=(e,t,r,m,g)=>{let y;if((0,l.isCryptoKey)(r))(0,u.checkEncCryptoKey)(r,e,"encrypt"),y=a.KeyObject.from(r);else if(r instanceof Uint8Array||(0,d.default)(r))y=r;else throw TypeError((0,c.default)(r,...h.types,"Uint8Array"));switch((0,n.default)(e,y),(0,i.default)(e,m),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,i,n){let l=parseInt(e.slice(1,4),10);(0,d.default)(r)&&(r=r.export());let u=r.subarray(l>>3),c=r.subarray(0,l>>3),h=`aes-${l}-cbc`;if(!(0,p.default)(h))throw new f.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let m=(0,a.createCipheriv)(h,u,i),g=(0,s.concat)(m.update(t),m.final()),y=parseInt(e.slice(-3),10),v=(0,o.default)(n,i,g,y,c,l);return{ciphertext:g,tag:v}}(e,t,y,m,g);case"A128GCM":case"A192GCM":case"A256GCM":var v=y;let b=parseInt(e.slice(1,4),10),_=`aes-${b}-gcm`;if(!(0,p.default)(_))throw new f.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let w=(0,a.createCipheriv)(_,v,m,{authTagLength:16});g.byteLength&&w.setAAD(g,{plaintextLength:t.length});let E=w.update(t);return w.final(),{ciphertext:E,tag:w.getAuthTag()};default:throw new f.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},493570,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unwrap=r.wrap=void 0;let a=e.r(270766),i=e.r(461868),n=e.r(833978),s=e.r(745973);r.wrap=async function(e,t,r,i){let o=e.slice(0,7);i||(i=(0,n.default)(o));let{ciphertext:l,tag:u}=await (0,a.default)(o,r,t,i,new Uint8Array(0));return{encryptedKey:l,iv:(0,s.encode)(i),tag:(0,s.encode)(u)}},r.unwrap=async function(e,t,r,a,n){let s=e.slice(0,7);return(0,i.default)(s,t,r,a,n,new Uint8Array(0))}},47055,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(862252),i=e.r(355622),n=e.r(380827),s=e.r(416816),o=e.r(745973),l=e.r(471699),u=e.r(304288),d=e.r(246967),c=e.r(318402),f=e.r(94002),p=e.r(493570);r.default=async function(e,t,r,h,m){switch((0,c.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let n,s;if(!(0,f.default)(h.epk))throw new l.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!i.ecdhAllowed(t))throw new l.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let c=await (0,d.importJWK)(h.epk,e);if(void 0!==h.apu){if("string"!=typeof h.apu)throw new l.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{n=(0,o.decode)(h.apu)}catch{throw new l.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==h.apv){if("string"!=typeof h.apv)throw new l.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{s=(0,o.decode)(h.apv)}catch{throw new l.JWEInvalid("Failed to base64url decode the apv")}}let p=await i.deriveKey(c,t,"ECDH-ES"===e?h.enc:e,"ECDH-ES"===e?(0,u.bitLength)(h.enc):parseInt(e.slice(-5,-2),10),n,s);if("ECDH-ES"===e)return p;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,a.unwrap)(e.slice(-6),p,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,s.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof h.p2c)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let i=(null==m?void 0:m.maxPBES2Count)||1e4;if(h.p2c>i)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof h.p2s)throw new l.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=(0,o.decode)(h.p2s)}catch{throw new l.JWEInvalid("Failed to base64url decode the p2s")}return(0,n.decrypt)(e,t,r,h.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,a.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let a,i;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof h.iv)throw new l.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof h.tag)throw new l.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');try{a=(0,o.decode)(h.iv)}catch{throw new l.JWEInvalid("Failed to base64url decode the iv")}try{i=(0,o.decode)(h.tag)}catch{throw new l.JWEInvalid("Failed to base64url decode the tag")}return(0,p.unwrap)(e,t,r,a,i)}default:throw new l.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},951649,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(471699);r.default=function(e,t,r,i,n){let s;if(void 0!==n.crit&&void 0===i.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let o of(s=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!s.has(o))throw new a.JOSENotSupported(`Extension Header Parameter "${o}" is not recognized`);if(void 0===n[o])throw new e(`Extension Header Parameter "${o}" is missing`);if(s.get(o)&&void 0===i[o])throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(i.crit)}},690947,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},614980,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flattenedDecrypt=void 0;let a=e.r(745973),i=e.r(461868),n=e.r(794179),s=e.r(471699),o=e.r(279571),l=e.r(94002),u=e.r(47055),d=e.r(191826),c=e.r(304288),f=e.r(951649),p=e.r(690947);r.flattenedDecrypt=async function(e,t,r){var h;let m,g,y,v,b,_,w;if(!(0,l.default)(e))throw new s.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new s.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new s.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new s.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new s.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new s.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new s.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new s.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,l.default)(e.header))throw new s.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,l.default)(e.unprotected))throw new s.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=(0,a.decode)(e.protected);m=JSON.parse(d.decoder.decode(t))}catch{throw new s.JWEInvalid("JWE Protected Header is invalid")}if(!(0,o.default)(m,e.header,e.unprotected))throw new s.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let E={...m,...e.header,...e.unprotected};if((0,f.default)(s.JWEInvalid,new Map,null==r?void 0:r.crit,m,E),void 0!==E.zip){if(!m||!m.zip)throw new s.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==E.zip)throw new s.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:S,enc:R}=E;if("string"!=typeof S||!S)throw new s.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof R||!R)throw new s.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let T=r&&(0,p.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),O=r&&(0,p.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(T&&!T.has(S))throw new s.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(O&&!O.has(R))throw new s.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{g=(0,a.decode)(e.encrypted_key)}catch{throw new s.JWEInvalid("Failed to base64url decode the encrypted_key")}let P=!1;"function"==typeof t&&(t=await t(m,e),P=!0);try{y=await (0,u.default)(S,t,g,E,r)}catch(e){if(e instanceof TypeError||e instanceof s.JWEInvalid||e instanceof s.JOSENotSupported)throw e;y=(0,c.default)(R)}try{v=(0,a.decode)(e.iv)}catch{throw new s.JWEInvalid("Failed to base64url decode the iv")}try{b=(0,a.decode)(e.tag)}catch{throw new s.JWEInvalid("Failed to base64url decode the tag")}let x=d.encoder.encode(null!=(h=e.protected)?h:"");_=void 0!==e.aad?(0,d.concat)(x,d.encoder.encode("."),d.encoder.encode(e.aad)):x;try{w=(0,a.decode)(e.ciphertext)}catch{throw new s.JWEInvalid("Failed to base64url decode the ciphertext")}let I=await (0,i.default)(R,y,w,v,b,_);"DEF"===E.zip&&(I=await ((null==r?void 0:r.inflateRaw)||n.inflate)(I));let A={plaintext:I};if(void 0!==e.protected&&(A.protectedHeader=m),void 0!==e.aad)try{A.additionalAuthenticatedData=(0,a.decode)(e.aad)}catch{throw new s.JWEInvalid("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(A.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(A.unprotectedHeader=e.header),P)?{...A,key:t}:A}},650682,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compactDecrypt=void 0;let a=e.r(614980),i=e.r(471699),n=e.r(191826);r.compactDecrypt=async function(e,t,r){if(e instanceof Uint8Array&&(e=n.decoder.decode(e)),"string"!=typeof e)throw new i.JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:s,1:o,2:l,3:u,4:d,length:c}=e.split(".");if(5!==c)throw new i.JWEInvalid("Invalid Compact JWE");let f=await (0,a.flattenedDecrypt)({ciphertext:u,iv:l||void 0,protected:s||void 0,tag:d||void 0,encrypted_key:o||void 0},t,r),p={plaintext:f.plaintext,protectedHeader:f.protectedHeader};return"function"==typeof t?{...p,key:f.key}:p}},984173,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generalDecrypt=void 0;let a=e.r(614980),i=e.r(471699),n=e.r(94002);r.generalDecrypt=async function(e,t,r){if(!(0,n.default)(e))throw new i.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(n.default))throw new i.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new i.JWEInvalid("JWE Recipients has no members");for(let i of e.recipients)try{return await (0,a.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new i.JWEDecryptionFailed}},901244,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(e){if(48!==e[0]||(this.buffer=e,this.offset=1,this.decodeLength()!==e.length-this.offset))throw TypeError()}decodeLength(){let e=this.buffer[this.offset++];if(128&e){let t=-129&e;e=0;for(let r=0;r<t;r++)e=e<<8|this.buffer[this.offset+r];this.offset+=t}return e}unsignedInteger(){if(2!==this.buffer[this.offset++])throw TypeError();let e=this.decodeLength();0===this.buffer[this.offset]&&(this.offset++,e--);let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}end(){if(this.offset!==this.buffer.length)throw TypeError()}}},283704,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799),i=e.r(745973),n=e.r(901244),s=e.r(471699),o=e.r(151935),l=e.r(416084),u=e.r(942565),d=e.r(935980),c=e.r(94413),f=e.r(43435),p=e=>{let t;if((0,l.isCryptoKey)(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=a.KeyObject.from(e)}else if((0,u.default)(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:(0,i.encode)(e)};else throw TypeError((0,d.default)(e,...c.types,"Uint8Array"));if(f.jwkExport){if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new s.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,i.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{let e,r=t.export({format:"der",type:"pkcs1"}),a=new n.default(r);"private"===t.type&&a.unsignedInteger();let s=(0,i.encode)(a.unsignedInteger()),o=(0,i.encode)(a.unsignedInteger());return"private"===t.type&&(e={d:(0,i.encode)(a.unsignedInteger()),p:(0,i.encode)(a.unsignedInteger()),q:(0,i.encode)(a.unsignedInteger()),dp:(0,i.encode)(a.unsignedInteger()),dq:(0,i.encode)(a.unsignedInteger()),qi:(0,i.encode)(a.unsignedInteger())}),a.end(),{kty:"RSA",n:s,e:o,...e}}case"ec":{let e,r,n,l=(0,o.default)(t);switch(l){case"secp256k1":e=64,r=33,n=-1;break;case"P-256":e=64,r=36,n=-1;break;case"P-384":e=96,r=35,n=-3;break;case"P-521":e=132,r=35,n=-3;break;default:throw new s.JOSENotSupported("Unsupported curve")}if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"EC",crv:l,x:(0,i.encode)(r.subarray(-e,-e/2)),y:(0,i.encode)(r.subarray(-e/2))}}let u=t.export({type:"pkcs8",format:"der"});return u.length<100&&(r+=n),{...p((0,a.createPublicKey)(t)),d:(0,i.encode)(u.subarray(r,r+e/2))}}case"ed25519":case"x25519":{let e=(0,o.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray(-32))}}let r=t.export({type:"pkcs8",format:"der"});return{...p((0,a.createPublicKey)(t)),d:(0,i.encode)(r.subarray(-32))}}case"ed448":case"x448":{let e=(0,o.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}let r=t.export({type:"pkcs8",format:"der"});return{...p((0,a.createPublicKey)(t)),d:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}default:throw new s.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new s.JOSENotSupported("Unsupported key type")}};r.default=p},457031,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.exportJWK=r.exportPKCS8=r.exportSPKI=void 0;let a=e.r(76295),i=e.r(76295),n=e.r(283704);r.exportSPKI=async function(e){return(0,a.toSPKI)(e)},r.exportPKCS8=async function(e){return(0,i.toPKCS8)(e)},r.exportJWK=async function(e){return(0,n.default)(e)}},65498,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(862252),i=e.r(355622),n=e.r(380827),s=e.r(416816),o=e.r(745973),l=e.r(304288),u=e.r(471699),d=e.r(457031),c=e.r(318402),f=e.r(493570);r.default=async function(e,t,r,p,h={}){let m,g,y;switch((0,c.default)(e,r,"encrypt"),e){case"dir":y=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!i.ecdhAllowed(r))throw new u.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:n,apv:s}=h,{epk:c}=h;c||(c=(await i.generateEpk(r)).privateKey);let{x:f,y:v,crv:b,kty:_}=await (0,d.exportJWK)(c),w=await i.deriveKey(r,c,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,l.bitLength)(t):parseInt(e.slice(-5,-2),10),n,s);if(g={epk:{x:f,crv:b,kty:_}},"EC"===_&&(g.epk.y=v),n&&(g.apu=(0,o.encode)(n)),s&&(g.apv=(0,o.encode)(s)),"ECDH-ES"===e){y=w;break}y=p||(0,l.default)(t);let E=e.slice(-6);m=await (0,a.wrap)(E,w,y);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":y=p||(0,l.default)(t),m=await (0,s.encrypt)(e,r,y);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{y=p||(0,l.default)(t);let{p2c:a,p2s:i}=h;({encryptedKey:m,...g}=await (0,n.encrypt)(e,r,y,a,i));break}case"A128KW":case"A192KW":case"A256KW":y=p||(0,l.default)(t),m=await (0,a.wrap)(e,r,y);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{y=p||(0,l.default)(t);let{iv:a}=h;({encryptedKey:m,...g}=await (0,f.wrap)(e,r,y,a));break}default:throw new u.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:y,encryptedKey:m,parameters:g}}},738677,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlattenedEncrypt=r.unprotected=void 0;let a=e.r(745973),i=e.r(270766),n=e.r(794179),s=e.r(833978),o=e.r(65498),l=e.r(471699),u=e.r(279571),d=e.r(191826),c=e.r(951649);r.unprotected=Symbol(),r.FlattenedEncrypt=class{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let f,p,h,m,g,y,v;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new l.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,u.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new l.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let b={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,c.default)(l.JWEInvalid,new Map,null==t?void 0:t.crit,this._protectedHeader,b),void 0!==b.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new l.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==b.zip)throw new l.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:_,enc:w}=b;if("string"!=typeof _||!_)throw new l.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof w||!w)throw new l.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===_){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===_&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let a;({cek:p,encryptedKey:f,parameters:a}=await (0,o.default)(_,w,e,this._cek,this._keyManagementParameters)),a&&(t&&r.unprotected in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...a}:this.setUnprotectedHeader(a):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...a}:this.setProtectedHeader(a))}if(this._iv||(this._iv=(0,s.default)(w)),m=this._protectedHeader?d.encoder.encode((0,a.encode)(JSON.stringify(this._protectedHeader))):d.encoder.encode(""),this._aad?(g=(0,a.encode)(this._aad),h=(0,d.concat)(m,d.encoder.encode("."),d.encoder.encode(g))):h=m,"DEF"===b.zip){let e=await ((null==t?void 0:t.deflateRaw)||n.deflate)(this._plaintext);({ciphertext:y,tag:v}=await (0,i.default)(w,e,p,this._iv,h))}else({ciphertext:y,tag:v}=await (0,i.default)(w,this._plaintext,p,this._iv,h));let E={ciphertext:(0,a.encode)(y),iv:(0,a.encode)(this._iv),tag:(0,a.encode)(v)};return f&&(E.encrypted_key=(0,a.encode)(f)),g&&(E.aad=g),this._protectedHeader&&(E.protected=d.decoder.decode(m)),this._sharedUnprotectedHeader&&(E.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(E.header=this._unprotectedHeader),E}}},470381,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralEncrypt=void 0;let a=e.r(738677),i=e.r(471699),n=e.r(304288),s=e.r(279571),o=e.r(65498),l=e.r(745973),u=e.r(951649);class d{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}r.GeneralEncrypt=class{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new d(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,d;let c;if(!this._recipients.length)throw new i.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){let[t]=this._recipients,r=await new a.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e}),i={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(i.aad=r.aad),r.protected&&(i.protected=r.protected),r.unprotected&&(i.unprotected=r.unprotected),r.encrypted_key&&(i.recipients[0].encrypted_key=r.encrypted_key),r.header&&(i.recipients[0].header=r.header),i}for(let e=0;e<this._recipients.length;e++){let t=this._recipients[e];if(!(0,s.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new i.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:a}=r;if("string"!=typeof a||!a)throw new i.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===a||"ECDH-ES"===a)throw new i.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(c){if(c!==r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else c=r.enc;if((0,u.default)(i.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),void 0!==r.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new i.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let f=(0,n.default)(c),p={ciphertext:"",iv:"",recipients:[],tag:""};for(let i=0;i<this._recipients.length;i++){let n=this._recipients[i],s={};p.recipients.push(s);let u=({...this._protectedHeader,...this._unprotectedHeader,...n.unprotectedHeader}).alg.startsWith("PBES2")?2048+i:void 0;if(0===i){let t=await new a.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(f).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(n.unprotectedHeader).setKeyManagementParameters({p2c:u}).encrypt(n.key,{...n.options,...e,[a.unprotected]:!0});p.ciphertext=t.ciphertext,p.iv=t.iv,p.tag=t.tag,t.aad&&(p.aad=t.aad),t.protected&&(p.protected=t.protected),t.unprotected&&(p.unprotected=t.unprotected),s.encrypted_key=t.encrypted_key,t.header&&(s.header=t.header);continue}let{encryptedKey:h,parameters:m}=await (0,o.default)((null==(t=n.unprotectedHeader)?void 0:t.alg)||(null==(r=this._protectedHeader)?void 0:r.alg)||(null==(d=this._unprotectedHeader)?void 0:d.alg),c,n.key,f,{p2c:u});s.encrypted_key=(0,l.encode)(h),(n.unprotectedHeader||m)&&(s.header={...n.unprotectedHeader,...m})}return p}}},95793,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(471699);r.default=function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new a.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},457059,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799),i=e.r(151935),n=e.r(471699),s=e.r(345740),o=e.r(43435),l={padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},u=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);r.default=function(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,s.default)(t,e),t;case o.rsaPssParams&&"PS256":case o.rsaPssParams&&"PS384":case o.rsaPssParams&&"PS512":if("rsa-pss"===t.asymmetricKeyType){let{hashAlgorithm:r,mgf1HashAlgorithm:a,saltLength:i}=t.asymmetricKeyDetails,n=parseInt(e.slice(-3),10);if(void 0!==r&&(r!==`sha${n}`||a!==r))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==i&&i>n>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,s.default)(t,e),{key:t,...l};case!o.rsaPssParams&&"PS256":case!o.rsaPssParams&&"PS384":case!o.rsaPssParams&&"PS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,s.default)(t,e),{key:t,...l};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=(0,i.default)(t),a=u.get(e);if(r!==a)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${a}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},658155,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(471699);r.default=function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new a.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},790342,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799),i=e.r(416084),n=e.r(956080),s=e.r(935980),o=e.r(94413);r.default=function(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,s.default)(t,...o.types));return(0,a.createSecretKey)(t)}if(t instanceof a.KeyObject)return t;if((0,i.isCryptoKey)(t))return(0,n.checkSigCryptoKey)(t,e,r),a.KeyObject.from(t);throw TypeError((0,s.default)(t,...o.types,"Uint8Array"))}},832397,(e,t,r)=>{"use strict";let a;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(254799),n=e.r(224361),s=e.r(95793),o=e.r(658155),l=e.r(457059),u=e.r(790342);a=i.sign.length>3?(0,n.promisify)(i.sign):i.sign,r.default=async(e,t,r)=>{let n=(0,u.default)(e,t,"sign");if(e.startsWith("HS")){let t=i.createHmac((0,o.default)(e),n);return t.update(r),t.digest()}return a((0,s.default)(e),r,(0,l.default)(e,n))}},357764,(e,t,r)=>{"use strict";let a;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(254799),n=e.r(224361),s=e.r(95793),o=e.r(457059),l=e.r(832397),u=e.r(790342),d=e.r(43435);a=i.verify.length>4&&d.oneShotCallback?(0,n.promisify)(i.verify):i.verify,r.default=async(e,t,r,n)=>{let d=(0,u.default)(e,t,"verify");if(e.startsWith("HS")){let t=await (0,l.default)(e,d,n);try{return i.timingSafeEqual(r,t)}catch{return!1}}let c=(0,s.default)(e),f=(0,o.default)(e,d);try{return await a(c,n,f,r)}catch{return!1}}},421671,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flattenedVerify=void 0;let a=e.r(745973),i=e.r(357764),n=e.r(471699),s=e.r(191826),o=e.r(279571),l=e.r(94002),u=e.r(318402),d=e.r(951649),c=e.r(690947);r.flattenedVerify=async function(e,t,r){var f;let p,h;if(!(0,l.default)(e))throw new n.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new n.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new n.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new n.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new n.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,l.default)(e.header))throw new n.JWSInvalid("JWS Unprotected Header incorrect type");let m={};if(e.protected)try{let t=(0,a.decode)(e.protected);m=JSON.parse(s.decoder.decode(t))}catch{throw new n.JWSInvalid("JWS Protected Header is invalid")}if(!(0,o.default)(m,e.header))throw new n.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...m,...e.header},y=(0,d.default)(n.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,m,g),v=!0;if(y.has("b64")&&"boolean"!=typeof(v=m.b64))throw new n.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:b}=g;if("string"!=typeof b||!b)throw new n.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');let _=r&&(0,c.default)("algorithms",r.algorithms);if(_&&!_.has(b))throw new n.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(v){if("string"!=typeof e.payload)throw new n.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new n.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let w=!1;"function"==typeof t&&(t=await t(m,e),w=!0),(0,u.default)(b,t,"verify");let E=(0,s.concat)(s.encoder.encode(null!=(f=e.protected)?f:""),s.encoder.encode("."),"string"==typeof e.payload?s.encoder.encode(e.payload):e.payload);try{p=(0,a.decode)(e.signature)}catch{throw new n.JWSInvalid("Failed to base64url decode the signature")}if(!await (0,i.default)(b,t,p,E))throw new n.JWSSignatureVerificationFailed;if(v)try{h=(0,a.decode)(e.payload)}catch{throw new n.JWSInvalid("Failed to base64url decode the payload")}else h="string"==typeof e.payload?s.encoder.encode(e.payload):e.payload;let S={payload:h};return(void 0!==e.protected&&(S.protectedHeader=m),void 0!==e.header&&(S.unprotectedHeader=e.header),w)?{...S,key:t}:S}},397813,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compactVerify=void 0;let a=e.r(421671),i=e.r(471699),n=e.r(191826);r.compactVerify=async function(e,t,r){if(e instanceof Uint8Array&&(e=n.decoder.decode(e)),"string"!=typeof e)throw new i.JWSInvalid("Compact JWS must be a string or Uint8Array");let{0:s,1:o,2:l,length:u}=e.split(".");if(3!==u)throw new i.JWSInvalid("Invalid Compact JWS");let d=await (0,a.flattenedVerify)({payload:o,protected:s,signature:l},t,r),c={payload:d.payload,protectedHeader:d.protectedHeader};return"function"==typeof t?{...c,key:d.key}:c}},99432,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generalVerify=void 0;let a=e.r(421671),i=e.r(471699),n=e.r(94002);r.generalVerify=async function(e,t,r){if(!(0,n.default)(e))throw new i.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(n.default))throw new i.JWSInvalid("JWS Signatures missing or incorrect type");for(let i of e.signatures)try{return await (0,a.flattenedVerify)({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,r)}catch{}throw new i.JWSSignatureVerificationFailed}},277582,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e=>Math.floor(e.getTime()/1e3)},283674,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;r.default=e=>{let t=a.exec(e);if(!t)throw TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(0x1e187e0*r)}}},216421,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(471699),i=e.r(191826),n=e.r(277582),s=e.r(283674),o=e.r(94002),l=e=>e.toLowerCase().replace(/^application\//,"");r.default=(e,t,r={})=>{var u,d;let c,f,{typ:p}=r;if(p&&("string"!=typeof e.typ||l(e.typ)!==l(p)))throw new a.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");try{c=JSON.parse(i.decoder.decode(t))}catch{}if(!(0,o.default)(c))throw new a.JWTInvalid("JWT Claims Set must be a top-level JSON object");let{requiredClaims:h=[],issuer:m,subject:g,audience:y,maxTokenAge:v}=r;for(let e of(void 0!==v&&h.push("iat"),void 0!==y&&h.push("aud"),void 0!==g&&h.push("sub"),void 0!==m&&h.push("iss"),new Set(h.reverse())))if(!(e in c))throw new a.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(m&&!(Array.isArray(m)?m:[m]).includes(c.iss))throw new a.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(g&&c.sub!==g)throw new a.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(y&&(u=c.aud,d="string"==typeof y?[y]:y,"string"==typeof u?!d.includes(u):!(Array.isArray(u)&&d.some(Set.prototype.has.bind(new Set(u))))))throw new a.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":f=(0,s.default)(r.clockTolerance);break;case"number":f=r.clockTolerance;break;case"undefined":f=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:b}=r,_=(0,n.default)(b||new Date);if((void 0!==c.iat||v)&&"number"!=typeof c.iat)throw new a.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==c.nbf){if("number"!=typeof c.nbf)throw new a.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(c.nbf>_+f)throw new a.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==c.exp){if("number"!=typeof c.exp)throw new a.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(c.exp<=_-f)throw new a.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(v){let e=_-c.iat;if(e-f>("number"==typeof v?v:(0,s.default)(v)))throw new a.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-f)throw new a.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return c}},560278,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwtVerify=void 0;let a=e.r(397813),i=e.r(216421),n=e.r(471699);r.jwtVerify=async function(e,t,r){var s;let o=await (0,a.compactVerify)(e,t,r);if((null==(s=o.protectedHeader.crit)?void 0:s.includes("b64"))&&!1===o.protectedHeader.b64)throw new n.JWTInvalid("JWTs MUST NOT use unencoded payload");let l={payload:(0,i.default)(o.protectedHeader,o.payload,r),protectedHeader:o.protectedHeader};return"function"==typeof t?{...l,key:o.key}:l}},860118,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwtDecrypt=void 0;let a=e.r(650682),i=e.r(216421),n=e.r(471699);r.jwtDecrypt=async function(e,t,r){let s=await (0,a.compactDecrypt)(e,t,r),o=(0,i.default)(s.protectedHeader,s.plaintext,r),{protectedHeader:l}=s;if(void 0!==l.iss&&l.iss!==o.iss)throw new n.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==l.sub&&l.sub!==o.sub)throw new n.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==l.aud&&JSON.stringify(l.aud)!==JSON.stringify(o.aud))throw new n.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");let u={payload:o,protectedHeader:l};return"function"==typeof t?{...u,key:s.key}:u}},648937,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompactEncrypt=void 0;let a=e.r(738677);r.CompactEncrypt=class{constructor(e){this._flattened=new a.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}},547359,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlattenedSign=void 0;let a=e.r(745973),i=e.r(832397),n=e.r(279571),s=e.r(471699),o=e.r(191826),l=e.r(318402),u=e.r(951649);r.FlattenedSign=class{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new s.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,n.default)(this._protectedHeader,this._unprotectedHeader))throw new s.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let d={...this._protectedHeader,...this._unprotectedHeader},c=(0,u.default)(s.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,d),f=!0;if(c.has("b64")&&"boolean"!=typeof(f=this._protectedHeader.b64))throw new s.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:p}=d;if("string"!=typeof p||!p)throw new s.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,l.default)(p,e,"sign");let h=this._payload;f&&(h=o.encoder.encode((0,a.encode)(h))),r=this._protectedHeader?o.encoder.encode((0,a.encode)(JSON.stringify(this._protectedHeader))):o.encoder.encode("");let m=(0,o.concat)(r,o.encoder.encode("."),h),g=await (0,i.default)(p,e,m),y={signature:(0,a.encode)(g),payload:""};return f&&(y.payload=o.decoder.decode(h)),this._unprotectedHeader&&(y.header=this._unprotectedHeader),this._protectedHeader&&(y.protected=o.decoder.decode(r)),y}}},778524,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompactSign=void 0;let a=e.r(547359);r.CompactSign=class{constructor(e){this._flattened=new a.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}},926428,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralSign=void 0;let a=e.r(547359),i=e.r(471699);class n{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}r.GeneralSign=class{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new n(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new i.JWSInvalid("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],n=new a.FlattenedSign(this._payload);n.setProtectedHeader(r.protectedHeader),n.setUnprotectedHeader(r.unprotectedHeader);let{payload:s,...o}=await n.sign(r.key,r.options);if(0===t)e.payload=s;else if(e.payload!==s)throw new i.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(o)}return e}}},331107,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ProduceJWT=void 0;let a=e.r(277582),i=e.r(94002),n=e.r(283674);r.ProduceJWT=class{constructor(e){if(!(0,i.default)(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:(0,a.default)(new Date)+(0,n.default)(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:(0,a.default)(new Date)+(0,n.default)(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:(0,a.default)(new Date)}:this._payload={...this._payload,iat:e},this}}},675846,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SignJWT=void 0;let a=e.r(778524),i=e.r(471699),n=e.r(191826),s=e.r(331107);class o extends s.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;let s=new a.CompactSign(n.encoder.encode(JSON.stringify(this._payload)));if(s.setProtectedHeader(this._protectedHeader),Array.isArray(null==(r=this._protectedHeader)?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");return s.sign(e,t)}}r.SignJWT=o},617998,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EncryptJWT=void 0;let a=e.r(648937),i=e.r(191826),n=e.r(331107);class s extends n.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new a.CompactEncrypt(i.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}r.EncryptJWT=s},966713,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.calculateJwkThumbprintUri=r.calculateJwkThumbprint=void 0;let a=e.r(224090),i=e.r(745973),n=e.r(471699),s=e.r(191826),o=e.r(94002),l=(e,t)=>{if("string"!=typeof e||!e)throw new n.JWKInvalid(`${t} missing or invalid`)};async function u(e,t){let r;if(!(0,o.default)(e))throw TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":l(e.crv,'"crv" (Curve) Parameter'),l(e.x,'"x" (X Coordinate) Parameter'),l(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":l(e.crv,'"crv" (Subtype of Key Pair) Parameter'),l(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":l(e.e,'"e" (Exponent) Parameter'),l(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":l(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new n.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}let u=s.encoder.encode(JSON.stringify(r));return(0,i.encode)(await (0,a.default)(t,u))}r.calculateJwkThumbprint=u,r.calculateJwkThumbprintUri=async function(e,t){null!=t||(t="sha256");let r=await u(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}},249990,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EmbeddedJWK=void 0;let a=e.r(246967),i=e.r(94002),n=e.r(471699);r.EmbeddedJWK=async function(e,t){let r={...e,...null==t?void 0:t.header};if(!(0,i.default)(r.jwk))throw new n.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let s=await (0,a.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(s instanceof Uint8Array||"public"!==s.type)throw new n.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return s}},354501,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createLocalJWKSet=r.LocalJWKSet=r.isJWKSLike=void 0;let a=e.r(246967),i=e.r(471699),n=e.r(94002);function s(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(o)}function o(e){return(0,n.default)(e)}r.isJWKSLike=s;class l{constructor(e){if(this._cached=new WeakMap,!s(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks=function(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}(e)}async getKey(e,t){let{alg:r,kid:a}={...e,...null==t?void 0:t.header},n=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new i.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),s=this._jwks.keys.filter(e=>{let t=n===e.kty;if(t&&"string"==typeof a&&(t=a===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:o,length:l}=s;if(0===l)throw new i.JWKSNoMatchingKey;if(1!==l){let e=new i.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of s)try{yield await u(t,e,r)}catch{continue}},e}return u(this._cached,o,r)}}async function u(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await (0,a.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new i.JWKSInvalid("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}r.LocalJWKSet=l,r.createLocalJWKSet=function(e){let t=new l(e);return async function(e,r){return t.getKey(e,r)}}},596508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(921517),i=e.r(524836),n=e.r(427699),s=e.r(471699),o=e.r(191826);r.default=async(e,t,r)=>{let l;switch(e.protocol){case"https:":l=i.get;break;case"http:":l=a.get;break;default:throw TypeError("Unsupported URL protocol.")}let{agent:u,headers:d}=r,c=l(e.href,{agent:u,timeout:t,headers:d}),[f]=await Promise.race([(0,n.once)(c,"response"),(0,n.once)(c,"timeout")]);if(!f)throw c.destroy(),new s.JWKSTimeout;if(200!==f.statusCode)throw new s.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");let p=[];for await(let e of f)p.push(e);try{return JSON.parse(o.decoder.decode((0,o.concat)(...p)))}catch{throw new s.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}},467646,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createRemoteJWKSet=void 0;let a=e.r(596508),i=e.r(471699),n=e.r(354501);class s extends n.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof i.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(0,a.default)(this._url,this._timeoutDuration,this._options).then(e=>{if(!(0,n.isJWKSLike)(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}r.createRemoteJWKSet=function(e,t){let r=new s(e,t);return async function(e,t){return r.getKey(e,t)}}},601155,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UnsecuredJWT=void 0;let a=e.r(745973),i=e.r(191826),n=e.r(471699),s=e.r(216421),o=e.r(331107);class l extends o.ProduceJWT{encode(){let e=a.encode(JSON.stringify({alg:"none"})),t=a.encode(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new n.JWTInvalid("Unsecured JWT must be a string");let{0:o,1:l,2:u,length:d}=e.split(".");if(3!==d||""!==u)throw new n.JWTInvalid("Invalid Unsecured JWT");try{if(r=JSON.parse(i.decoder.decode(a.decode(o))),"none"!==r.alg)throw Error()}catch{throw new n.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,s.default)(r,a.decode(l),t),header:r}}}r.UnsecuredJWT=l},173411,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=void 0;let a=e.r(745973);r.encode=a.encode,r.decode=a.decode},619779,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeProtectedHeader=void 0;let a=e.r(173411),i=e.r(191826),n=e.r(94002);r.decodeProtectedHeader=function(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(i.decoder.decode((0,a.decode)(t)));if(!(0,n.default)(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}},580781,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeJwt=void 0;let a=e.r(173411),i=e.r(191826),n=e.r(94002),s=e.r(471699);r.decodeJwt=function(e){let t,r;if("string"!=typeof e)throw new s.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:o,length:l}=e.split(".");if(5===l)throw new s.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==l)throw new s.JWTInvalid("Invalid JWT");if(!o)throw new s.JWTInvalid("JWTs must contain a payload");try{t=(0,a.decode)(o)}catch{throw new s.JWTInvalid("Failed to base64url decode the payload")}try{r=JSON.parse(i.decoder.decode(t))}catch{throw new s.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,n.default)(r))throw new s.JWTInvalid("Invalid JWT Claims Set");return r}},9077,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateKeyPair=r.generateSecret=void 0;let a=e.r(254799),i=e.r(224361),n=e.r(330058),s=e.r(345740),o=e.r(471699),l=(0,i.promisify)(a.generateKeyPair);r.generateSecret=async function(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new o.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,a.createSecretKey)((0,n.default)(new Uint8Array(r>>3)))},r.generateKeyPair=async function(e,t){var r,a;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{let e=null!=(r=null==t?void 0:t.modulusLength)?r:2048;if("number"!=typeof e||e<2048)throw new o.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");let a=await l("rsa",{modulusLength:e,publicExponent:65537});return(0,s.setModulusLength)(a.privateKey,e),(0,s.setModulusLength)(a.publicKey,e),a}case"ES256":return l("ec",{namedCurve:"P-256"});case"ES256K":return l("ec",{namedCurve:"secp256k1"});case"ES384":return l("ec",{namedCurve:"P-384"});case"ES512":return l("ec",{namedCurve:"P-521"});case"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":return l("ed25519");case"Ed448":return l("ed448");default:throw new o.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":let i=null!=(a=null==t?void 0:t.crv)?a:"P-256";switch(i){case void 0:case"P-256":case"P-384":case"P-521":return l("ec",{namedCurve:i});case"X25519":return l("x25519");case"X448":return l("x448");default:throw new o.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new o.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}},485851,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateKeyPair=void 0;let a=e.r(9077);r.generateKeyPair=async function(e,t){return(0,a.generateKeyPair)(e,t)}},643321,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateSecret=void 0;let a=e.r(9077);r.generateSecret=async function(e,t){return(0,a.generateSecret)(e,t)}},545482,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="node:crypto"},753320,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e.r(545482).default},413847,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cryptoRuntime=r.base64url=r.generateSecret=r.generateKeyPair=r.errors=r.decodeJwt=r.decodeProtectedHeader=r.importJWK=r.importX509=r.importPKCS8=r.importSPKI=r.exportJWK=r.exportSPKI=r.exportPKCS8=r.UnsecuredJWT=r.createRemoteJWKSet=r.createLocalJWKSet=r.EmbeddedJWK=r.calculateJwkThumbprintUri=r.calculateJwkThumbprint=r.EncryptJWT=r.SignJWT=r.GeneralSign=r.FlattenedSign=r.CompactSign=r.FlattenedEncrypt=r.CompactEncrypt=r.jwtDecrypt=r.jwtVerify=r.generalVerify=r.flattenedVerify=r.compactVerify=r.GeneralEncrypt=r.generalDecrypt=r.flattenedDecrypt=r.compactDecrypt=void 0;var a=e.r(650682);Object.defineProperty(r,"compactDecrypt",{enumerable:!0,get:function(){return a.compactDecrypt}});var i=e.r(614980);Object.defineProperty(r,"flattenedDecrypt",{enumerable:!0,get:function(){return i.flattenedDecrypt}});var n=e.r(984173);Object.defineProperty(r,"generalDecrypt",{enumerable:!0,get:function(){return n.generalDecrypt}});var s=e.r(470381);Object.defineProperty(r,"GeneralEncrypt",{enumerable:!0,get:function(){return s.GeneralEncrypt}});var o=e.r(397813);Object.defineProperty(r,"compactVerify",{enumerable:!0,get:function(){return o.compactVerify}});var l=e.r(421671);Object.defineProperty(r,"flattenedVerify",{enumerable:!0,get:function(){return l.flattenedVerify}});var u=e.r(99432);Object.defineProperty(r,"generalVerify",{enumerable:!0,get:function(){return u.generalVerify}});var d=e.r(560278);Object.defineProperty(r,"jwtVerify",{enumerable:!0,get:function(){return d.jwtVerify}});var c=e.r(860118);Object.defineProperty(r,"jwtDecrypt",{enumerable:!0,get:function(){return c.jwtDecrypt}});var f=e.r(648937);Object.defineProperty(r,"CompactEncrypt",{enumerable:!0,get:function(){return f.CompactEncrypt}});var p=e.r(738677);Object.defineProperty(r,"FlattenedEncrypt",{enumerable:!0,get:function(){return p.FlattenedEncrypt}});var h=e.r(778524);Object.defineProperty(r,"CompactSign",{enumerable:!0,get:function(){return h.CompactSign}});var m=e.r(547359);Object.defineProperty(r,"FlattenedSign",{enumerable:!0,get:function(){return m.FlattenedSign}});var g=e.r(926428);Object.defineProperty(r,"GeneralSign",{enumerable:!0,get:function(){return g.GeneralSign}});var y=e.r(675846);Object.defineProperty(r,"SignJWT",{enumerable:!0,get:function(){return y.SignJWT}});var v=e.r(617998);Object.defineProperty(r,"EncryptJWT",{enumerable:!0,get:function(){return v.EncryptJWT}});var b=e.r(966713);Object.defineProperty(r,"calculateJwkThumbprint",{enumerable:!0,get:function(){return b.calculateJwkThumbprint}}),Object.defineProperty(r,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return b.calculateJwkThumbprintUri}});var _=e.r(249990);Object.defineProperty(r,"EmbeddedJWK",{enumerable:!0,get:function(){return _.EmbeddedJWK}});var w=e.r(354501);Object.defineProperty(r,"createLocalJWKSet",{enumerable:!0,get:function(){return w.createLocalJWKSet}});var E=e.r(467646);Object.defineProperty(r,"createRemoteJWKSet",{enumerable:!0,get:function(){return E.createRemoteJWKSet}});var S=e.r(601155);Object.defineProperty(r,"UnsecuredJWT",{enumerable:!0,get:function(){return S.UnsecuredJWT}});var R=e.r(457031);Object.defineProperty(r,"exportPKCS8",{enumerable:!0,get:function(){return R.exportPKCS8}}),Object.defineProperty(r,"exportSPKI",{enumerable:!0,get:function(){return R.exportSPKI}}),Object.defineProperty(r,"exportJWK",{enumerable:!0,get:function(){return R.exportJWK}});var T=e.r(246967);Object.defineProperty(r,"importSPKI",{enumerable:!0,get:function(){return T.importSPKI}}),Object.defineProperty(r,"importPKCS8",{enumerable:!0,get:function(){return T.importPKCS8}}),Object.defineProperty(r,"importX509",{enumerable:!0,get:function(){return T.importX509}}),Object.defineProperty(r,"importJWK",{enumerable:!0,get:function(){return T.importJWK}});var O=e.r(619779);Object.defineProperty(r,"decodeProtectedHeader",{enumerable:!0,get:function(){return O.decodeProtectedHeader}});var P=e.r(580781);Object.defineProperty(r,"decodeJwt",{enumerable:!0,get:function(){return P.decodeJwt}}),r.errors=e.r(471699);var x=e.r(485851);Object.defineProperty(r,"generateKeyPair",{enumerable:!0,get:function(){return x.generateKeyPair}});var I=e.r(643321);Object.defineProperty(r,"generateSecret",{enumerable:!0,get:function(){return I.generateSecret}}),r.base64url=e.r(173411);var A=e.r(753320);Object.defineProperty(r,"cryptoRuntime",{enumerable:!0,get:function(){return A.default}})},761164,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let a=e.r(254799);r.default=(e,t,r,i,n)=>{let s=parseInt(e.substr(3),10)>>3||20,o=(0,a.createHmac)(e,r.byteLength?r:new Uint8Array(s)).update(t).digest(),l=Math.ceil(n/s),u=new Uint8Array(s*l+i.byteLength+1),d=0,c=0;for(let t=1;t<=l;t++)u.set(i,c),u[c+i.byteLength]=t,u.set((0,a.createHmac)(e,o).update(u.subarray(d,c+i.byteLength+1)).digest(),c),d=c,c+=s;return u.slice(0,n)}},197837,(e,t,r)=>{"use strict";let a;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(254799),n=e.r(761164);"function"!=typeof i.hkdf||process.versions.electron||(a=async(...e)=>new Promise((t,r)=>{i.hkdf(...e,(e,a)=>{e?r(e):t(new Uint8Array(a))})})),r.default=async(e,t,r,i,s)=>(a||n.default)(e,t,r,i,s)},501540,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.hkdf=void 0;let a=e.r(197837);function i(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function n(e,t,r,n,s){return(0,a.default)(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=i(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),i(r,"salt"),function(e){let t=i(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(s,e))}r.hkdf=n,r.default=n},855126,e=>{"use strict";let t,r;e.s([],354468),e.i(354468);var a=e.i(254799);let i=new Uint8Array(256),n=i.length;function s(){return n>i.length-16&&(a.default.randomFillSync(i),n=0),i.slice(n,n+=16)}let o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(e){return"string"==typeof e&&o.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));let d=function(e,t=0){let r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!l(r))throw TypeError("Stringified UUID is invalid");return r},c=0,f=0,p=function(e){let t;if(!l(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function h(e,t,r){function a(e,a,i,n){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof a&&(a=p(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(a),s.set(e,a.length),(s=r(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){n=n||0;for(let e=0;e<16;++e)i[n+e]=s[e];return i}return d(s)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}let m=h("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),a.default.createHash("md5").update(e).digest()}),g=h("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),a.default.createHash("sha1").update(e).digest()});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,p,"stringify",0,d,"v1",0,function(e,a,i){let n=a&&i||0,o=a||Array(16),l=(e=e||{}).node||t,u=void 0!==e.clockseq?e.clockseq:r;if(null==l||null==u){let a=e.random||(e.rng||s)();null==l&&(l=t=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==u&&(u=r=(a[6]<<8|a[7])&16383)}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:f+1,m=p-c+(h-f)/1e4;if(m<0&&void 0===e.clockseq&&(u=u+1&16383),(m<0||p>c)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,f=h,r=u;let g=((0xfffffff&(p+=122192928e5))*1e4+h)%0x100000000;o[n++]=g>>>24&255,o[n++]=g>>>16&255,o[n++]=g>>>8&255,o[n++]=255&g;let y=p/0x100000000*1e4&0xfffffff;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=u>>>8|128,o[n++]=255&u;for(let e=0;e<6;++e)o[n+e]=l[e];return a||d(o)},"v3",0,m,"v4",0,function(e,t,r){let a=(e=e||{}).random||(e.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return d(a)},"v5",0,g,"validate",0,l,"version",0,function(e){if(!l(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}],855126)},49674,(e,t,r)=>{"use strict";function a(e,t,r){i(e,t),t.set(e,r)}function i(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function n(e,t){return e.get(o(e,t))}function s(e,t,r){return e.set(o(e,t),r),r}function o(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")}Object.defineProperty(r,"__esModule",{value:!0}),r.SessionStore=void 0,r.defaultCookies=function(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}next-auth.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}next-auth.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}next-auth.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}next-auth.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}next-auth.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}}}};var l=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakSet;function f(e){let t=Math.ceil(e.value.length/3933);if(1===t)return n(l,this)[e.name]=e.value,[e];let r=[];for(let a=0;a<t;a++){let t=`${e.name}.${a}`,i=e.value.substr(3933*a,3933);r.push({...e,name:t,value:i}),n(l,this)[t]=i}return n(d,this).debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:163,valueSize:e.value.length,chunks:r.map(e=>e.value.length+163)}),r}function p(){let e={};for(let r in n(l,this)){var t;null==(t=n(l,this))||delete t[r],e[r]={name:r,value:"",options:{...n(u,this).options,maxAge:0}}}return e}r.SessionStore=class{constructor(e,t,r){!function(e,t){i(e,t),t.add(e)}(this,c),a(this,l,{}),a(this,u,void 0),a(this,d,void 0),s(d,this,r),s(u,this,e);const{cookies:o}=t,{name:f}=e;if("function"==typeof(null==o?void 0:o.getAll))for(const{name:e,value:t}of o.getAll())e.startsWith(f)&&(n(l,this)[e]=t);else if(o instanceof Map)for(const e of o.keys())e.startsWith(f)&&(n(l,this)[e]=o.get(e));else for(const e in o)e.startsWith(f)&&(n(l,this)[e]=o[e])}get value(){return Object.keys(n(l,this)).sort((e,t)=>{var r,a;return parseInt(null!=(r=e.split(".").pop())?r:"0")-parseInt(null!=(a=t.split(".").pop())?a:"0")}).map(e=>n(l,this)[e]).join("")}chunk(e,t){let r=o(c,this,p).call(this);for(let a of o(c,this,f).call(this,{name:n(u,this).name,value:e,options:{...n(u,this).options,...t}}))r[a.name]=a;return Object.values(r)}clean(){return Object.values(o(c,this,p).call(this))}}},964191,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},469420,(e,t,r)=>{"use strict";var a=e.r(949987);Object.defineProperty(r,"__esModule",{value:!0});var i={encode:!0,decode:!0,getToken:!0};r.decode=c,r.encode=d,r.getToken=f;var n=e.r(413847),s=a(e.r(501540)),o=e.r(855126),l=e.r(49674),u=e.r(964191);async function d(e){let{token:t={},secret:r,maxAge:a=2592e3,salt:i=""}=e,s=await p(r,i);return await new n.EncryptJWT(t).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+a).setJti((0,o.v4)()).encrypt(s)}async function c(e){let{token:t,secret:r,salt:a=""}=e;if(!t)return null;let i=await p(r,a),{payload:s}=await (0,n.jwtDecrypt)(t,i,{clockTolerance:15});return s}async function f(e){var t,r,a,i;let{req:n,secureCookie:s=null!=(t=null==(r=process.env.NEXTAUTH_URL)?void 0:r.startsWith("https://"))?t:!!process.env.VERCEL,cookieName:o=s?"__Secure-next-auth.session-token":"next-auth.session-token",raw:u,decode:d=c,logger:f=console,secret:p=null!=(a=process.env.NEXTAUTH_SECRET)?a:process.env.AUTH_SECRET}=e;if(!n)throw Error("Must pass `req` to JWT getToken()");let h=new l.SessionStore({name:o,options:{secure:s}},{cookies:n.cookies,headers:n.headers},f).value,m=n.headers instanceof Headers?n.headers.get("authorization"):null==(i=n.headers)?void 0:i.authorization;if(h||(null==m?void 0:m.split(" ")[0])!=="Bearer"||(h=decodeURIComponent(m.split(" ")[1])),!h)return null;if(u)return h;try{return await d({token:h,secret:p})}catch(e){return null}}async function p(e,t){return await (0,s.default)("sha256",e,t,`NextAuth.js Generated Encryption Key${t?` (${t})`:""}`,32)}Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)||e in r&&r[e]===u[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}})})},272574,(e,t,r)=>{"use strict";let a;var i=Object.create,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,d=(e,t)=>()=>(e&&(t=e(e=0)),t),c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),f=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})},p=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of o(t))u.call(e,i)||i===r||n(e,i,{get:()=>t[i],enumerable:!(a=s(t,i))||a.enumerable});return e},h=(e,t,r)=>(r=null!=e?i(l(e)):{},p(!t&&e&&e.__esModule?r:n(r,"default",{value:e,enumerable:!0}),e)),m=c((e,t)=>{t.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",a=t.indexOf(r+e),i=t.indexOf("--");return -1!==a&&(-1===i||a<i)}}),g=c((t,r)=>{e.r(660526);var a,i=e.r(509656),n=m(),{env:s}=process;function o(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===a)return 0;if(n("color=16m")||n("color=full")||n("color=truecolor"))return 3;if(n("color=256"))return 2;if(e&&!t&&void 0===a)return 0;let r=a||0;if("dumb"===s.TERM)return r;if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in s)||"codeship"===s.CI_NAME?1:r;if("TEAMCITY_VERSION"in s)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION);if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){let e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:r}n("no-color")||n("no-colors")||n("color=false")||n("color=never")?a=0:(n("color")||n("colors")||n("color=true")||n("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),r.exports={supportsColor:function(e){return o(l(e,e&&e.isTTY))},stdout:o(l(!0,i.isatty(1))),stderr:o(l(!0,i.isatty(2)))}}),y=c((e,t)=>{var r=g(),a=m();function i(e){if(/^\d{3,4}$/.test(e)){let t=/(\d{1,2})(\d{2})/.exec(e)||[];return{major:0,minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}let t=(e||"").split(".").map(e=>parseInt(e,10));return{major:t[0],minor:t[1],patch:t[2]}}function n(e){let{CI:t,FORCE_HYPERLINK:n,NETLIFY:s,TEAMCITY_VERSION:o,TERM_PROGRAM:l,TERM_PROGRAM_VERSION:u,VTE_VERSION:d,TERM:c}=process.env;if(n)return!(n.length>0&&0===parseInt(n,10));if(a("no-hyperlink")||a("no-hyperlinks")||a("hyperlink=false")||a("hyperlink=never"))return!1;if(a("hyperlink=true")||a("hyperlink=always")||s)return!0;if(!r.supportsColor(e)||e&&!e.isTTY)return!1;if("WT_SESSION"in process.env)return!0;if("win32"===process.platform||t||o)return!1;if(l){let e=i(u||"");switch(l){case"iTerm.app":return 3===e.major?e.minor>=1:e.major>3;case"WezTerm":return e.major>=0x1343cac;case"vscode":return e.major>1||1===e.major&&e.minor>=72;case"ghostty":return!0}}if(d){if("0.50.0"===d)return!1;let e=i(d);return e.major>0||e.minor>=50}return"alacritty"===c}t.exports={supportsHyperlink:n,stdout:n(process.stdout),stderr:n(process.stderr)}}),v=c((e,t)=>{t.exports={name:"@prisma/internals",version:"6.11.1",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",esbuild:"0.25.1","escape-string-regexp":"5.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-dirs":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0","read-package-up":"11.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-ansi":"6.0.1","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-node":"10.9.2","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.11.1-1.f40f79ec31188888a2e33acda0ecc8fd10a853a9","@prisma/schema-engine-wasm":"6.11.1-1.f40f79ec31188888a2e33acda0ecc8fd10a853a9","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),b=c((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.11.1-1.f40f79ec31188888a2e33acda0ecc8fd10a853a9",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"f40f79ec31188888a2e33acda0ecc8fd10a853a9"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),_=c(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=b().prisma.enginesVersion}),w=c((e,t)=>{t.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((e,t)=>Math.min(e,t.length),1/0):0}}),E=c((e,t)=>{t.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;let a=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(a,r.indent.repeat(t))}}),S=c((e,t)=>{t.exports=({onlyFirst:e=!1}={})=>RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))",e?void 0:"g")}),R=c((e,t)=>{var r=S();t.exports=e=>"string"==typeof e?e.replace(r(),""):e}),T=c((e,t)=>{t.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),O=c((t,r)=>{var a=e.r(902157),i=e.r(750227),n=e.r(660526),s=e.r(666680),o=T().version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function u(e){console.log(`[dotenv@${o}][DEBUG] ${e}`)}function d(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function c(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)a.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=i.resolve(process.cwd(),".env.vault");return a.existsSync(t)?t:null}function f(e){return"~"===e[0]?i.join(n.homedir(),e.slice(1)):e}var p={configDotenv:function(e){let t=i.resolve(process.cwd(),".env"),r="utf8",n=!!(e&&e.debug);e&&e.encoding?r=e.encoding:n&&u("No encoding is specified. UTF-8 is used by default");let s=[t];if(e&&e.path)if(Array.isArray(e.path))for(let t of(s=[],e.path))s.push(f(t));else s=[f(e.path)];let o,l={};for(let t of s)try{let i=p.parse(a.readFileSync(t,{encoding:r}));p.populate(l,i,e)}catch(e){n&&u(`Failed to load ${t} ${e.message}`),o=e}let d=process.env;return e&&null!=e.processEnv&&(d=e.processEnv),p.populate(d,l,e),o?{parsed:l,error:o}:{parsed:l}},_configVault:function(e){e&&e.debug&&u("Loading env from encrypted .env.vault");let t=p._parseVault(e),r=process.env;return e&&null!=e.processEnv&&(r=e.processEnv),p.populate(r,t,e),{parsed:t}},_parseVault:function(e){let t=c(e),r=p.configDotenv({path:t});if(!r.parsed){let e=Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}let a=d(e).split(","),i=a.length,n;for(let e=0;e<i;e++)try{let t=a[e].trim(),i=function(e,t){let r;try{r=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let a=r.password;if(!a){let e=Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let i=r.searchParams.get("environment");if(!i){let e=Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let n=`DOTENV_VAULT_${i.toUpperCase()}`,s=e.parsed[n];if(!s){let e=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${n} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:s,key:a}}(r,t);n=p.decrypt(i.ciphertext,i.key);break}catch(t){if(e+1>=i)throw t}return p.parse(n)},config:function(e){var t;if(0===d(e).length)return p.configDotenv(e);let r=c(e);return r?p._configVault(e):(t=`You set DOTENV_KEY but you are missing a .env.vault file at ${r}. Did you forget to build it?`,console.log(`[dotenv@${o}][WARN] ${t}`),p.configDotenv(e))},decrypt:function(e,t){let r=Buffer.from(t.slice(-64),"hex"),a=Buffer.from(e,"base64"),i=a.subarray(0,12),n=a.subarray(-16);a=a.subarray(12,-16);try{let e=s.createDecipheriv("aes-256-gcm",r,i);return e.setAuthTag(n),`${e.update(a)}${e.final()}`}catch(a){let e=a instanceof RangeError,t="Invalid key length"===a.message,r="Unsupported state or unable to authenticate data"===a.message;if(e||t){let e=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){let e=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw a}},parse:function(e){let t,r={},a=e.toString();for(a=a.replace(/\r\n?/mg,`
`);null!=(t=l.exec(a));){let e=t[1],a=t[2]||"",i=(a=a.trim())[0];a=a.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===i&&(a=(a=a.replace(/\\n/g,`
`)).replace(/\\r/g,"\r")),r[e]=a}return r},populate:function(e,t,r={}){let a=!!(r&&r.debug),i=!!(r&&r.override);if("object"!=typeof t){let e=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let r of Object.keys(t))Object.prototype.hasOwnProperty.call(e,r)?(!0===i&&(e[r]=t[r]),a&&u(!0===i?`"${r}" is already defined and WAS overwritten`:`"${r}" is already defined and was NOT overwritten`)):e[r]=t[r]}};r.exports.configDotenv=p.configDotenv,r.exports._configVault=p._configVault,r.exports._parseVault=p._parseVault,r.exports.config=p.config,r.exports.decrypt=p.decrypt,r.exports.parse=p.parse,r.exports.populate=p.populate,r.exports=p}),P=c((e,t)=>{t.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`);for(let t of["body","title","labels","template","milestone","assignee","projects"]){let a=e[t];if(void 0!==a){if("labels"===t||"projects"===t){if(!Array.isArray(a))throw TypeError(`The \`${t}\` option should be an array`);a=a.join(",")}r.searchParams.set(t,a)}}return r.toString()},t.exports.default=t.exports}),x=c((e,t)=>{t.exports=function(){function e(e,t,r,a,i){return e<t||r<t?e>r?r+1:e+1:a===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var a=t;t=r,r=a}for(var i=t.length,n=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(n-1);)i--,n--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,n-=s,0===i||n<3)return n;var o,l,u,d,c,f,p,h,m,g,y,v,b=0,_=[];for(o=0;o<i;o++)_.push(o+1),_.push(t.charCodeAt(s+o));for(var w=_.length-1;b<n-3;)for(m=r.charCodeAt(s+(l=b)),g=r.charCodeAt(s+(u=b+1)),y=r.charCodeAt(s+(d=b+2)),v=r.charCodeAt(s+(c=b+3)),f=b+=4,o=0;o<w;o+=2)l=e(p=_[o],l,u,m,h=_[o+1]),u=e(l,u,d,g,h),d=e(u,d,c,y,h),f=e(d,c,f,v,h),_[o]=f,c=d,d=u,u=l,l=p;for(;b<n;)for(m=r.charCodeAt(s+(l=b)),f=++b,o=0;o<w;o+=2)p=_[o],_[o]=f=e(p,l,f,m,_[o+1]),l=p;return f}}()}),I=d(()=>{}),A=d(()=>{}),k={};f(k,{DMMF:()=>aY,Debug:()=>eS,Decimal:()=>a$,Extensions:()=>C,MetricsClient:()=>i6,PrismaClientInitializationError:()=>rm,PrismaClientKnownRequestError:()=>rg,PrismaClientRustPanicError:()=>ry,PrismaClientUnknownRequestError:()=>rv,PrismaClientValidationError:()=>rb,Public:()=>q,Sql:()=>nl,createParam:()=>iH,defineDmmfProperty:()=>i9,deserializeJsonResponse:()=>aG,deserializeRawResult:()=>ok,dmmfToRuntimeDataModel:()=>aH,empty:()=>nc,getPrismaClient:()=>oH,getRuntime:()=>n7,join:()=>nu,makeStrictEnum:()=>oQ,makeTypedQueryFactory:()=>nt,objectEnumValues:()=>iN,raw:()=>nd,serializeJsonQuery:()=>i0,skip:()=>iQ,sqltag:()=>nf,warnEnvConflicts:()=>oX,warnOnce:()=>rh}),t.exports=p(n({},"__esModule",{value:!0}),k);var C={};function D(e){return"function"==typeof e?e:t=>t.$extends(e)}function N(e){return e}f(C,{defineExtension:()=>D,getExtensionContext:()=>N});var q={};function U(){return e=>e}f(q,{validator:()=>U});var L={};f(L,{$:()=>G,bgBlack:()=>eu,bgBlue:()=>ep,bgCyan:()=>em,bgGreen:()=>ec,bgMagenta:()=>eh,bgRed:()=>ed,bgWhite:()=>eg,bgYellow:()=>ef,black:()=>Z,blue:()=>ea,bold:()=>J,cyan:()=>en,dim:()=>H,gray:()=>eo,green:()=>et,grey:()=>el,hidden:()=>X,inverse:()=>Q,italic:()=>K,magenta:()=>ei,red:()=>ee,reset:()=>W,strikethrough:()=>Y,underline:()=>z,white:()=>es,yellow:()=>er});var j,M,V,F,$=!0;"u">typeof process&&({FORCE_COLOR:j,NODE_DISABLE_COLORS:M,NO_COLOR:V,TERM:F}=process.env||{},$=process.stdout&&process.stdout.isTTY);var G={enabled:!M&&null==V&&"dumb"!==F&&(null!=j&&"0"!==j||$)};function B(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),a=`\x1b[${e}m`,i=`\x1b[${t}m`;return function(e){return G.enabled&&null!=e?a+(~(""+e).indexOf(i)?e.replace(r,i+a):e)+i:e}}var W=B(0,0),J=B(1,22),H=B(2,22),K=B(3,23),z=B(4,24),Q=B(7,27),X=B(8,28),Y=B(9,29),Z=B(30,39),ee=B(31,39),et=B(32,39),er=B(33,39),ea=B(34,39),ei=B(35,39),en=B(36,39),es=B(37,39),eo=B(90,39),el=B(90,39),eu=B(40,49),ed=B(41,49),ec=B(42,49),ef=B(43,49),ep=B(44,49),eh=B(45,49),em=B(46,49),eg=B(47,49),ey=["green","yellow","blue","magenta","cyan","red"],ev=[],eb=Date.now(),e_=0,ew="u">typeof process?process.env:{};globalThis.DEBUG??=ew.DEBUG??"",globalThis.DEBUG_COLORS??=!ew.DEBUG_COLORS||"true"===ew.DEBUG_COLORS;var eE={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),a=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!a},log:(...e)=>{let[t,r,...a]=e;(console.warn??console.log)(`${t} ${r}`,...a)},formatters:{}},eS=new Proxy(function(e){let t={color:ey[e_++%ey.length],enabled:eE.enabled(e),namespace:e,log:eE.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:r,namespace:a,color:i,log:n}=t;if(0!==e.length&&ev.push([a,...e]),ev.length>100&&ev.shift(),eE.enabled(a)||r){let t=e.map(e=>"string"==typeof e?e:function(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}(e)),r=`+${Date.now()-eb}ms`;eb=Date.now(),globalThis.DEBUG_COLORS?n(L[i](J(a)),...t,L[i](r)):n(a,...t,r)}},{get:(e,r)=>t[r],set:(e,r,a)=>t[r]=a})},{get:(e,t)=>eE[t],set:(e,t,r)=>eE[t]=r}),eR=h(e.r(902157)),eT="libquery_engine",eO=h(e.r(874533)),eP=h(e.r(912714)),ex=h(e.r(660526)),eI=Symbol.for("@ts-pattern/matcher"),eA=Symbol.for("@ts-pattern/isVariadic"),ek="@ts-pattern/anonymous-select-key",eC=e=>!!(e&&"object"==typeof e),eD=e=>e&&!!e[eI],eN=(e,t,r)=>{if(eD(e)){let{matched:a,selections:i}=e[eI]().match(t);return a&&i&&Object.keys(i).forEach(e=>r(e,i[e])),a}if(eC(e)){if(!eC(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let a=[],i=[],n=[];for(let t of e.keys()){let r=e[t];eD(r)&&r[eA]?n.push(r):n.length?i.push(r):a.push(r)}if(n.length){if(n.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<a.length+i.length)return!1;let e=t.slice(0,a.length),s=0===i.length?[]:t.slice(-i.length),o=t.slice(a.length,0===i.length?1/0:-i.length);return a.every((t,a)=>eN(t,e[a],r))&&i.every((e,t)=>eN(e,s[t],r))&&(0===n.length||eN(n[0],o,r))}return e.length===t.length&&e.every((e,a)=>eN(e,t[a],r))}return Reflect.ownKeys(e).every(a=>{let i=e[a];return(a in t||eD(i)&&"optional"===i[eI]().matcherType)&&eN(i,t[a],r)})}return Object.is(t,e)},eq=e=>{var t,r,a;return eC(e)?eD(e)?null!=(t=null==(r=(a=e[eI]()).getSelectionKeys)?void 0:r.call(a))?t:[]:Array.isArray(e)?eU(e,eq):eU(Object.values(e),eq):[]},eU=(e,t)=>e.reduce((e,r)=>e.concat(t(r)),[]);function eL(e){return Object.assign(e,{optional:()=>{var t;return t=e,eL({[eI]:()=>({match:e=>{let r={},a=(e,t)=>{r[e]=t};return void 0===e?(eq(t).forEach(e=>a(e,void 0)),{matched:!0,selections:r}):{matched:eN(t,e,a),selections:r}},getSelectionKeys:()=>eq(t),matcherType:"optional"})})},and:t=>ej(e,t),or:t=>(function(...e){return eL({[eI]:()=>({match:t=>{let r={},a=(e,t)=>{r[e]=t};return eU(e,eq).forEach(e=>a(e,void 0)),{matched:e.some(e=>eN(e,t,a)),selections:r}},getSelectionKeys:()=>eU(e,eq),matcherType:"or"})})})(e,t),select:t=>void 0===t?eV(e):eV(t,e)})}function ej(...e){return eL({[eI]:()=>({match:t=>{let r={},a=(e,t)=>{r[e]=t};return{matched:e.every(e=>eN(e,t,a)),selections:r}},getSelectionKeys:()=>eU(e,eq),matcherType:"and"})})}function eM(e){return{[eI]:()=>({match:t=>({matched:!!e(t)})})}}function eV(...e){let t="string"==typeof e[0]?e[0]:void 0,r=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return eL({[eI]:()=>({match:e=>{let a={[t??ek]:e};return{matched:void 0===r||eN(r,e,(e,t)=>{a[e]=t}),selections:a}},getSelectionKeys:()=>[t??ek].concat(void 0===r?[]:eq(r))})})}function eF(e){return"number"==typeof e}function e$(e){return"string"==typeof e}function eG(e){return"bigint"==typeof e}eL(eM(function(e){return!0}));var eB=e=>Object.assign(eL(e),{startsWith:t=>eB(ej(e,eM(e=>e$(e)&&e.startsWith(t)))),endsWith:t=>eB(ej(e,eM(e=>e$(e)&&e.endsWith(t)))),minLength:t=>eB(ej(e,eM(e=>e$(e)&&e.length>=t))),length:t=>eB(ej(e,eM(e=>e$(e)&&e.length===t))),maxLength:t=>eB(ej(e,eM(e=>e$(e)&&e.length<=t))),includes:t=>eB(ej(e,eM(e=>e$(e)&&e.includes(t)))),regex:t=>eB(ej(e,eM(e=>e$(e)&&!!e.match(t))))}),eW=(eB(eM(e$)),e=>Object.assign(eL(e),{between:(t,r)=>eW(ej(e,eM(e=>eF(e)&&t<=e&&r>=e))),lt:t=>eW(ej(e,eM(e=>eF(e)&&e<t))),gt:t=>eW(ej(e,eM(e=>eF(e)&&e>t))),lte:t=>eW(ej(e,eM(e=>eF(e)&&e<=t))),gte:t=>eW(ej(e,eM(e=>eF(e)&&e>=t))),int:()=>eW(ej(e,eM(e=>eF(e)&&Number.isInteger(e)))),finite:()=>eW(ej(e,eM(e=>eF(e)&&Number.isFinite(e)))),positive:()=>eW(ej(e,eM(e=>eF(e)&&e>0))),negative:()=>eW(ej(e,eM(e=>eF(e)&&e<0)))})),eJ=(eW(eM(eF)),e=>Object.assign(eL(e),{between:(t,r)=>eJ(ej(e,eM(e=>eG(e)&&t<=e&&r>=e))),lt:t=>eJ(ej(e,eM(e=>eG(e)&&e<t))),gt:t=>eJ(ej(e,eM(e=>eG(e)&&e>t))),lte:t=>eJ(ej(e,eM(e=>eG(e)&&e<=t))),gte:t=>eJ(ej(e,eM(e=>eG(e)&&e>=t))),positive:()=>eJ(ej(e,eM(e=>eG(e)&&e>0))),negative:()=>eJ(ej(e,eM(e=>eG(e)&&e<0)))}));eJ(eM(eG)),eL(eM(function(e){return"boolean"==typeof e})),eL(eM(function(e){return"symbol"==typeof e})),eL(eM(function(e){return null==e})),eL(eM(function(e){return null!=e}));var eH=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},eK={matched:!1,value:void 0};function ez(e){return new eQ(e,eK)}var eQ=class e{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...t){if(this.state.matched)return this;let r=t[t.length-1],a=[t[0]],i;3===t.length&&"function"==typeof t[1]?i=t[1]:t.length>2&&a.push(...t.slice(1,t.length-1));let n=!1,s={},o=(e,t)=>{n=!0,s[e]=t},l=a.some(e=>eN(e,this.input,o))&&(!i||i(this.input))?{matched:!0,value:r(n?ek in s?s[ek]:s:this.input,this.input)}:eK;return new e(this.input,l)}when(t,r){if(this.state.matched)return this;let a=!!t(this.input);return new e(this.input,a?{matched:!0,value:r(this.input,this.input)}:eK)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new eH(this.input)}run(){return this.exhaustive()}returnType(){return this}},eX=e.r(812057),eY={warn:er("prisma:warn")};function eZ(e,...t){process.env.PRISMA_DISABLE_WARNINGS||console.warn(`${eY.warn} ${e}`,...t)}var e0=(0,eX.promisify)(eO.default.exec),e1=eS("prisma:get-platform"),e2=["1.0.x","1.1.x","3.0.x"];async function e4(){let e=ex.default.platform(),t=process.arch;if("freebsd"===e){let e=await tn("freebsd-version");if(e&&e.trim().length>0){let r=/^(\d+)\.?/.exec(e);if(r)return{platform:"freebsd",targetDistro:`freebsd${r[1]}`,arch:t}}}if("linux"!==e)return{platform:e,arch:t};let r=await e5(),a=await ts(),i=ez({arch:t,archFromUname:a,familyDistro:r.familyDistro}).with({familyDistro:"musl"},()=>(e1('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:e})=>(e1('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${e}-linux-gnu`,`/lib/${e}-linux-gnu`])).with({familyDistro:"rhel"},()=>(e1('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:e,arch:t,archFromUname:r})=>(e1(`Don't know any platform-specific paths for "${e}" on ${t} (${r})`),[])),{libssl:n}=await e3(i);return{platform:"linux",libssl:n,arch:t,archFromUname:a,...r}}async function e5(){try{var e;let t,r,a,i;return e=await eP.default.readFile("/etc/os-release",{encoding:"utf-8"}),r=(t=/^ID="?([^"\n]*)"?$/im.exec(e))&&t[1]&&t[1].toLowerCase()||"",a=/^ID_LIKE="?([^"\n]*)"?$/im.exec(e),i=ez({id:r,idLike:a&&a[1]&&a[1].toLowerCase()||""}).with({id:"alpine"},({id:e})=>({targetDistro:"musl",familyDistro:e,originalDistro:e})).with({id:"raspbian"},({id:e})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:e})).with({id:"nixos"},({id:e})=>({targetDistro:"nixos",originalDistro:e,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).when(({idLike:e})=>e.includes("debian")||e.includes("ubuntu"),({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).when(({idLike:e})=>"arch"===r||e.includes("arch"),({id:e})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:e})).when(({idLike:e})=>e.includes("centos")||e.includes("fedora")||e.includes("rhel")||e.includes("suse"),({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).otherwise(({id:e})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:e})),e1(`Found distro info:
${JSON.stringify(i,null,2)}`),i}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function e6(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t)return e9(`${t[1]}${t[2]??".0"}.x`)}function e9(e){let t=(()=>{if(to(e))return e;let t=e.split(".");return t[1]="0",t.join(".")})();if(e2.includes(t))return t}async function e3(e){let t=await e8(e);if(t){e1(`Found libssl.so file using platform-specific paths: ${t}`);let e=e6(t);if(e1(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"libssl-specific-path"}}e1('Falling back to "ldconfig" and other generic paths');let r=await tn('ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | grep -v "libssl.so.0"');if(r||(r=await e8(["/lib64","/usr/lib64","/lib","/usr/lib"])),r){e1(`Found libssl.so file using "ldconfig" or other generic paths: ${r}`);let e=e6(r);if(e1(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"ldconfig"}}let a=await tn("openssl version -v");if(a){e1(`Found openssl binary with version: ${a}`);let e=function(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t)return e9(`${t[1]}.x`)}(a);if(e1(`The parsed openssl version is: ${e}`),e)return{libssl:e,strategy:"openssl-binary"}}return e1("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function e8(e){for(let t of e){let e=await e7(t);if(e)return e}}async function e7(e){try{return(await eP.default.readdir(e)).find(e=>e.startsWith("libssl.so.")&&!e.startsWith("libssl.so.0"))}catch(e){if("ENOENT"===e.code)return;throw e}}async function te(){let{binaryTarget:e}=await ta();return e}async function tt(){let{memoized:e,...t}=await ta();return t}var tr={};async function ta(){if(void 0!==tr.binaryTarget)return Promise.resolve({...tr,memoized:!0});let e=await e4(),t=function(e){let{platform:t,arch:r,archFromUname:a,libssl:i,targetDistro:n,familyDistro:s,originalDistro:o}=e;"linux"!==t||["x64","arm64"].includes(r)||eZ(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${r}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${a}".`);let l="1.1.x";if("linux"===t&&void 0===i){let e=ez({familyDistro:s}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");eZ(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${l}".
${e}`)}let u="debian";if("linux"===t&&void 0===n&&e1(`Distro is "${o}". Falling back to Prisma engines built for "${u}".`),"darwin"===t&&"arm64"===r)return"darwin-arm64";if("darwin"===t)return"darwin";if("win32"===t)return"windows";if("freebsd"===t)return n;if("openbsd"===t)return"openbsd";if("netbsd"===t)return"netbsd";if("linux"===t&&"nixos"===n)return"linux-nixos";if("linux"===t&&"arm64"===r)return`${"musl"===n?"linux-musl-arm64":"linux-arm64"}-openssl-${i||l}`;if("linux"===t&&"arm"===r)return`linux-arm-openssl-${i||l}`;if("linux"===t&&"musl"===n){let e="linux-musl";return!i||to(i)?e:`${e}-openssl-${i}`}return"linux"===t&&n&&i?`${n}-openssl-${i}`:("linux"!==t&&eZ(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),i?`${u}-openssl-${i}`:n?`${n}-openssl-${l}`:`${u}-openssl-${l}`)}(e);return{...tr={...e,binaryTarget:t},memoized:!1}}async function ti(e){try{return await e()}catch{return}}function tn(e){return ti(async()=>{let t=await e0(e);return e1(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function ts(){return"function"==typeof ex.default.machine?ex.default.machine():(await tn("uname -m"))?.trim()}function to(e){return e.startsWith("1.")}var tl={};f(tl,{beep:()=>t$,clearScreen:()=>tj,clearTerminal:()=>tM,cursorBackward:()=>t_,cursorDown:()=>tv,cursorForward:()=>tb,cursorGetPosition:()=>tR,cursorHide:()=>tP,cursorLeft:()=>tw,cursorMove:()=>tg,cursorNextLine:()=>tT,cursorPrevLine:()=>tO,cursorRestorePosition:()=>tS,cursorSavePosition:()=>tE,cursorShow:()=>tx,cursorTo:()=>tm,cursorUp:()=>ty,enterAlternativeScreen:()=>tV,eraseDown:()=>tD,eraseEndLine:()=>tA,eraseLine:()=>tC,eraseLines:()=>tI,eraseScreen:()=>tq,eraseStartLine:()=>tk,eraseUp:()=>tN,exitAlternativeScreen:()=>tF,iTerm:()=>tW,image:()=>tB,link:()=>tG,scrollDown:()=>tL,scrollUp:()=>tU});var tu=h(e.r(59639),1),td=globalThis.window?.document!==void 0,tc=(globalThis.process?.versions?.node,globalThis.process?.versions?.bun,globalThis.Deno?.version?.deno,globalThis.process?.versions?.electron,globalThis.navigator?.userAgent?.includes("jsdom"),"u">typeof WorkerGlobalScope&&WorkerGlobalScope,"u">typeof DedicatedWorkerGlobalScope&&DedicatedWorkerGlobalScope,"u">typeof SharedWorkerGlobalScope&&SharedWorkerGlobalScope,"u">typeof ServiceWorkerGlobalScope&&ServiceWorkerGlobalScope,globalThis.navigator?.userAgentData?.platform);"macOS"===tc||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform,"Windows"===tc||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform,"Linux"===tc||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform,"iOS"===tc||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),"Android"===tc||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform;var tf=!td&&"Apple_Terminal"===tu.default.env.TERM_PROGRAM,tp=!td&&"win32"===tu.default.platform,th=td?()=>{throw Error("`process.cwd()` only works in Node.js, not the browser.")}:tu.default.cwd,tm=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");return"number"!=typeof t?"\x1b["+(e+1)+"G":"\x1b["+(t+1)+";"+(e+1)+"H"},tg=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");let r="";return e<0?r+="\x1b["+-e+"D":e>0&&(r+="\x1b["+e+"C"),t<0?r+="\x1b["+-t+"A":t>0&&(r+="\x1b["+t+"B"),r},ty=(e=1)=>"\x1b["+e+"A",tv=(e=1)=>"\x1b["+e+"B",tb=(e=1)=>"\x1b["+e+"C",t_=(e=1)=>"\x1b["+e+"D",tw="\x1b[G",tE=tf?"\x1b7":"\x1b[s",tS=tf?"\x1b8":"\x1b[u",tR="\x1b[6n",tT="\x1b[E",tO="\x1b[F",tP="\x1b[?25l",tx="\x1b[?25h",tI=e=>{let t="";for(let r=0;r<e;r++)t+=tC+(r<e-1?ty():"");return e&&(t+=tw),t},tA="\x1b[K",tk="\x1b[1K",tC="\x1b[2K",tD="\x1b[J",tN="\x1b[1J",tq="\x1b[2J",tU="\x1b[S",tL="\x1b[T",tj="\x1bc",tM=tp?`${tq}\x1b[0f`:`${tq}\x1b[3J\x1b[H`,tV="\x1b[?1049h",tF="\x1b[?1049l",t$="\x07",tG=(e,t)=>"\x1b]8;;"+t+"\x07"+e+"\x1b]8;;\x07",tB=(e,t={})=>{let r=`\x1b]1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(r+=";preserveAspectRatio=0"),r+":"+Buffer.from(e).toString("base64")+"\x07"},tW={setCwd:(e=th())=>`\x1b]50;CurrentDir=${e}\x07`,annotation(e,t={}){let r=`\x1b]1337;`,a=void 0!==t.x,i=void 0!==t.y;if((a||i)&&!(a&&i&&void 0!==t.length))throw Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(a?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+"\x07"}},tJ=h(y(),1);function tH(e,t,{target:r="stdout",...a}={}){return tJ.default[r]?tl.link(e,t):!1===a.fallback?e:"function"==typeof a.fallback?a.fallback(e,t):`${e} (\u200B${t}\u200B)`}tH.isSupported=tJ.default.stdout,tH.stderr=(e,t,r={})=>tH(e,t,{target:"stderr",...r}),tH.stderr.isSupported=tJ.default.stderr;var tK=v().version;function tz(e){var t;let r;return("library"===(r=process.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===r?"binary":"client"===r?"client":void 0)||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":(t=e,t?.previewFeatures.includes("queryCompiler")?"client":"library"))}h(_());var tQ=h(e.r(750227));h(_()),eS("prisma:engines"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-darwin"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-darwin-arm64"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-debian-openssl-1.0.x"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-debian-openssl-1.1.x"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-debian-openssl-3.0.x"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-linux-static-x64"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-linux-static-arm64"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-rhel-openssl-1.0.x"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-rhel-openssl-1.1.x"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query-engine-rhel-openssl-3.0.x"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-darwin.dylib.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-darwin-arm64.dylib.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-debian-openssl-1.0.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-debian-openssl-1.1.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-debian-openssl-3.0.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-1.0.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-1.1.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-3.0.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-linux-musl.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-linux-musl-openssl-3.0.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-rhel-openssl-1.0.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-rhel-openssl-1.1.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../libquery_engine-rhel-openssl-3.0.x.so.node"),tQ.default.join("/ROOT/src/generated/prisma/runtime","../query_engine-windows.dll.node");var tX=h(e.r(902157)),tY=eS("chmodPlusX");h(w(),1);var tZ="prisma+postgres:";function t0(e){return e?.toString().startsWith(`${tZ}//`)??!1}var t1=h(E()),t2=class{constructor(e){this.config=e}toString(){var e;let t,{config:r}=this,a=JSON.parse(JSON.stringify({provider:r.provider.fromEnvVar?`env("${r.provider.fromEnvVar}")`:r.provider.value,binaryTargets:function(e){let t;if(e.length>0){let r=e.find(e=>null!==e.fromEnvVar);t=r?`env("${r.fromEnvVar}")`:e.map(e=>e.native?"native":e.value)}else t=void 0;return t}(r.binaryTargets)}));return`generator ${r.name} {
${(0,t1.default)((t=Object.keys(e=a).reduce((e,t)=>Math.max(e,t.length),0),Object.entries(e).map(([e,r])=>`${e.padEnd(t)} = ${JSON.parse(JSON.stringify(r,(e,t)=>Array.isArray(t)?`[${t.map(e=>JSON.stringify(e)).join(", ")}]`:JSON.stringify(t)))}`).join(`
`)),2)}
}`}},t4={};f(t4,{error:()=>t7,info:()=>t8,log:()=>t9,query:()=>re,should:()=>t6,tags:()=>t5,warn:()=>t3});var t5={error:ee("prisma:error"),warn:er("prisma:warn"),info:en("prisma:info"),query:ea("prisma:query")},t6={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function t9(...e){console.log(...e)}function t3(e,...t){t6.warn()&&console.warn(`${t5.warn} ${e}`,...t)}function t8(e,...t){console.info(`${t5.info} ${e}`,...t)}function t7(e,...t){console.error(`${t5.error} ${e}`,...t)}function re(e,...t){console.log(`${t5.query} ${e}`,...t)}function rt(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function rr(e,t){throw Error(t)}var ra=h(e.r(750227)),ri=h(O()),rn=h(e.r(902157)),rs=h(e.r(750227)),ro=eS("prisma:tryLoadEnv");function rl({rootEnvPath:e,schemaEnvPath:t},r={conflictCheck:"none"}){let a=ru(e);"none"!==r.conflictCheck&&function(e,t,r){let a=e?.dotenvResult.parsed,i=!rd(e?.path,t);if(a&&t&&i&&rn.default.existsSync(t)){let i=ri.default.parse(rn.default.readFileSync(t)),n=[];for(let e in i)a[e]===i[e]&&n.push(e);if(n.length>0){let a=rs.default.relative(process.cwd(),e.path),i=rs.default.relative(process.cwd(),t);if("error"===r)throw Error(`There is a conflict between env var${n.length>1?"s":""} in ${z(a)} and ${z(i)}
Conflicting env vars:
${n.map(e=>`  ${J(e)}`).join(`
`)}

We suggest to move the contents of ${z(i)} to ${z(a)} to consolidate your env vars.
`);if("warn"===r){let e=`Conflict for env var${n.length>1?"s":""} ${n.map(e=>J(e)).join(", ")} in ${z(a)} and ${z(i)}
Env vars from ${z(i)} overwrite the ones from ${z(a)}
      `;console.warn(`${er("warn(prisma)")} ${e}`)}}}}(a,t,r.conflictCheck);let i=null;return rd(a?.path,t)||(i=ru(t)),a||i||ro("No Environment variables loaded"),i?.dotenvResult.error?console.error(ee(J("Schema Env Error: "))+i.dotenvResult.error):{message:[a?.message,i?.message].filter(Boolean).join(`
`),parsed:{...a?.dotenvResult?.parsed,...i?.dotenvResult?.parsed}}}function ru(e){var t;return(t=e)&&rn.default.existsSync(t)?(ro(`Environment variables loaded from ${e}`),{dotenvResult:function(e){let t=e.ignoreProcessEnv?{}:process.env,r=a=>a.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(a,i){let n=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(i);if(!n)return a;let s=n[1],o,l;if("\\"===s)o=(l=n[0]).replace("\\$","$");else{let a=n[2];l=n[0].substring(s.length),o=r(o=Object.hasOwnProperty.call(t,a)?t[a]:e.parsed[a]||"")}return a.replace(l,o)},a)??a;for(let a in e.parsed){let i=Object.hasOwnProperty.call(t,a)?t[a]:e.parsed[a];e.parsed[a]=r(i)}for(let r in e.parsed)t[r]=e.parsed[r];return e}(ri.default.config({path:e,debug:!!process.env.DOTENV_CONFIG_DEBUG||void 0})),message:H(`Environment variables loaded from ${rs.default.relative(process.cwd(),e)}`),path:e}):(ro(`Environment variables not found at ${e}`),null)}function rd(e,t){return e&&t&&rs.default.resolve(e)===rs.default.resolve(t)}function rc(e,t){let r={};for(let a of Object.keys(e))r[a]=t(e[a],a);return r}function rf(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var rp=new Set,rh=(e,t,...r)=>{rp.has(e)||(rp.add(e),t3(t,...r))},rm=class e extends Error{clientVersion;errorCode;retryable;constructor(t,r,a){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=a,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};rf(rm,"PrismaClientInitializationError");var rg=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:a,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=a,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};rf(rg,"PrismaClientKnownRequestError");var ry=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};rf(ry,"PrismaClientRustPanicError");var rv=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};rf(rv,"PrismaClientUnknownRequestError");var rb=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};rf(rb,"PrismaClientValidationError");var r_,rw,rE="0123456789abcdef",rS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",rR="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",rT={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},rO=!0,rP="[DecimalError] ",rx=rP+"Invalid argument: ",rI=rP+"Precision limit exceeded",rA=rP+"crypto unavailable",rk="[object Decimal]",rC=Math.floor,rD=Math.pow,rN=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,rq=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rU=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,rL=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rj=rS.length-1,rM=rR.length-1,rV={toStringTag:rk};function rF(e){var t,r,a,i=e.length-1,n="",s=e[0];if(i>0){for(n+=s,t=1;t<i;t++)(r=7-(a=e[t]+"").length)&&(n+=rY(r)),n+=a;(r=7-(a=(s=e[t])+"").length)&&(n+=rY(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return n+s}function r$(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rx+e)}function rG(e,t,r,a){var i,n,s,o;for(n=e[0];n>=10;n/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),n=rD(10,7-t),o=e[i]%n|0,null==a?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),s=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):s=(r<4&&o+1==n||r>3&&o+1==n/2)&&(e[i+1]/n/100|0)==rD(10,t-2)-1||(o==n/2||0==o)&&(e[i+1]/n/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),s=(a||r<4)&&9999==o||!a&&r>3&&4999==o):s=((a||r<4)&&o+1==n||!a&&r>3&&o+1==n/2)&&(e[i+1]/n/1e3|0)==rD(10,t-3)-1,s}function rB(e,t,r){for(var a,i,n=[0],s=0,o=e.length;s<o;){for(i=n.length;i--;)n[i]*=t;for(n[0]+=rE.indexOf(e.charAt(s++)),a=0;a<n.length;a++)n[a]>r-1&&(void 0===n[a+1]&&(n[a+1]=0),n[a+1]+=n[a]/r|0,n[a]%=r)}return n.reverse()}rV.absoluteValue=rV.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),rJ(e)},rV.ceil=function(){return rJ(new this.constructor(this),this.e+1,2)},rV.clampedTo=rV.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(rx+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},rV.comparedTo=rV.cmp=function(e){var t,r,a,i,n=this.d,s=(e=new this.constructor(e)).d,o=this.s,l=e.s;if(!n||!s)return o&&l?o!==l?o:n===s?0:!n^o<0?1:-1:NaN;if(!n[0]||!s[0])return n[0]?o:s[0]?-l:0;if(o!==l)return o;if(this.e!==e.e)return this.e>e.e^o<0?1:-1;for(a=n.length,i=s.length,t=0,r=a<i?a:i;t<r;++t)if(n[t]!==s[t])return n[t]>s[t]^o<0?1:-1;return a===i?0:a>i^o<0?1:-1},rV.cosine=rV.cos=function(){var e,t,r=this,a=r.constructor;return r.d?r.d[0]?(e=a.precision,t=a.rounding,a.precision=e+Math.max(r.e,r.sd())+7,a.rounding=1,r=function(e,t){var r,a,i;if(t.isZero())return t;(a=t.d.length)<32?i=(1/r3(4,r=Math.ceil(a/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=r9(e,1,t.times(i),new e(1));for(var n=r;n--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}(a,r8(a,r)),a.precision=e,a.rounding=t,rJ(2==rw||3==rw?r.neg():r,e,t,!0)):new a(1):new a(NaN)},rV.cubeRoot=rV.cbrt=function(){var e,t,r,a,i,n,s,o,l,u,d=this.constructor;if(!this.isFinite()||this.isZero())return new d(this);for(rO=!1,(n=this.s*rD(this.s*this,1/3))&&Math.abs(n)!=1/0?a=new d(n.toString()):(r=rF(this.d),(n=((e=this.e)-r.length+1)%3)&&(r+=1==n||-2==n?"0":"00"),n=rD(r,1/3),e=rC((e+1)/3)-(e%3==(e<0?-1:2)),(a=new d(r=n==1/0?"5e"+e:(r=n.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),s=(e=d.precision)+3;;)if(a=rW((u=(l=(o=a).times(o).times(o)).plus(this)).plus(this).times(o),u.plus(l),s+2,1),rF(o.d).slice(0,s)===(r=rF(a.d)).slice(0,s))if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(rJ(a,e+1,1),t=!a.times(a).times(a).eq(this));break}else{if(!i&&(rJ(o,e+1,0),o.times(o).times(o).eq(this))){a=o;break}s+=4,i=1}return rO=!0,rJ(a,e,d.rounding,t)},rV.decimalPlaces=rV.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-rC(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},rV.dividedBy=rV.div=function(e){return rW(this,new this.constructor(e))},rV.dividedToIntegerBy=rV.divToInt=function(e){var t=this.constructor;return rJ(rW(this,new t(e),0,1,1),t.precision,t.rounding)},rV.equals=rV.eq=function(e){return 0===this.cmp(e)},rV.floor=function(){return rJ(new this.constructor(this),this.e+1,3)},rV.greaterThan=rV.gt=function(e){return this.cmp(e)>0},rV.greaterThanOrEqualTo=rV.gte=function(e){var t=this.cmp(e);return 1==t||0===t},rV.hyperbolicCosine=rV.cosh=function(){var e,t,r,a,i,n=this,s=n.constructor,o=new s(1);if(!n.isFinite())return new s(n.s?1/0:NaN);if(n.isZero())return o;r=s.precision,a=s.rounding,s.precision=r+Math.max(n.e,n.sd())+4,s.rounding=1,(i=n.d.length)<32?t=(1/r3(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),n=r9(s,1,n.times(t),new s(1),!0);for(var l,u=e,d=new s(8);u--;)l=n.times(n),n=o.minus(l.times(d.minus(l.times(d))));return rJ(n,s.precision=r,s.rounding=a,!0)},rV.hyperbolicSine=rV.sinh=function(){var e,t,r,a,i=this,n=i.constructor;if(!i.isFinite()||i.isZero())return new n(i);if(t=n.precision,r=n.rounding,n.precision=t+Math.max(i.e,i.sd())+4,n.rounding=1,(a=i.d.length)<3)i=r9(n,2,i,i,!0);else{e=(e=1.4*Math.sqrt(a))>16?16:0|e,i=r9(n,2,i=i.times(1/r3(5,e)),i,!0);for(var s,o=new n(5),l=new n(16),u=new n(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(l.times(s).plus(u))))}return n.precision=t,n.rounding=r,rJ(i,t,r,!0)},rV.hyperbolicTangent=rV.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,rW(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},rV.inverseCosine=rV.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),a=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?rQ(t,a,i):new t(0):new t(NaN):e.isZero()?rQ(t,a+4,i).times(.5):(t.precision=a+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=a,t.rounding=i,e.times(2))},rV.inverseHyperbolicCosine=rV.acosh=function(){var e,t,r=this,a=r.constructor;return r.lte(1)?new a(r.eq(1)?0:NaN):r.isFinite()?(e=a.precision,t=a.rounding,a.precision=e+Math.max(Math.abs(r.e),r.sd())+4,a.rounding=1,rO=!1,r=r.times(r).minus(1).sqrt().plus(r),rO=!0,a.precision=e,a.rounding=t,r.ln()):new a(r)},rV.inverseHyperbolicSine=rV.asinh=function(){var e,t,r=this,a=r.constructor;return!r.isFinite()||r.isZero()?new a(r):(e=a.precision,t=a.rounding,a.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,a.rounding=1,rO=!1,r=r.times(r).plus(1).sqrt().plus(r),rO=!0,a.precision=e,a.rounding=t,r.ln())},rV.inverseHyperbolicTangent=rV.atanh=function(){var e,t,r,a,i=this,n=i.constructor;return i.isFinite()?i.e>=0?new n(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=n.precision,t=n.rounding,Math.max(a=i.sd(),e)<-(2*i.e)-1?rJ(new n(i),e,t,!0):(n.precision=r=a-i.e,i=rW(i.plus(1),new n(1).minus(i),r+e,1),n.precision=e+4,n.rounding=1,i=i.ln(),n.precision=e,n.rounding=t,i.times(.5))):new n(NaN)},rV.inverseSine=rV.asin=function(){var e,t,r,a,i=this,n=i.constructor;return i.isZero()?new n(i):(t=i.abs().cmp(1),r=n.precision,a=n.rounding,-1!==t?0===t?((e=rQ(n,r+4,a).times(.5)).s=i.s,e):new n(NaN):(n.precision=r+6,n.rounding=1,i=i.div(new n(1).minus(i.times(i)).sqrt().plus(1)).atan(),n.precision=r,n.rounding=a,i.times(2)))},rV.inverseTangent=rV.atan=function(){var e,t,r,a,i,n,s,o,l,u=this,d=u.constructor,c=d.precision,f=d.rounding;if(u.isFinite()){if(u.isZero())return new d(u);if(u.abs().eq(1)&&c+4<=rM)return(s=rQ(d,c+4,f).times(.25)).s=u.s,s}else{if(!u.s)return new d(NaN);if(c+4<=rM)return(s=rQ(d,c+4,f).times(.5)).s=u.s,s}for(d.precision=o=c+10,d.rounding=1,e=r=Math.min(28,o/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(rO=!1,t=Math.ceil(o/7),a=1,l=u.times(u),s=new d(u),i=u;-1!==e;)if(i=i.times(l),n=s.minus(i.div(a+=2)),i=i.times(l),void 0!==(s=n.plus(i.div(a+=2))).d[t])for(e=t;s.d[e]===n.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),rO=!0,rJ(s,d.precision=c,d.rounding=f,!0)},rV.isFinite=function(){return!!this.d},rV.isInteger=rV.isInt=function(){return!!this.d&&rC(this.e/7)>this.d.length-2},rV.isNaN=function(){return!this.s},rV.isNegative=rV.isNeg=function(){return this.s<0},rV.isPositive=rV.isPos=function(){return this.s>0},rV.isZero=function(){return!!this.d&&0===this.d[0]},rV.lessThan=rV.lt=function(e){return 0>this.cmp(e)},rV.lessThanOrEqualTo=rV.lte=function(e){return 1>this.cmp(e)},rV.logarithm=rV.log=function(e){var t,r,a,i,n,s,o,l=this.constructor,u=l.precision,d=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(a=r[0];a%10==0;)a/=10;i=1!==a}if(rO=!1,rG((o=rW(n=r4(this,s=u+5),t?rz(l,s+10):r4(e,s),s,1)).d,a=u,d))do if(s+=10,o=rW(n=r4(this,s),t?rz(l,s+10):r4(e,s),s,1),!i){+rF(o.d).slice(a+1,a+15)+1==1e14&&(o=rJ(o,u+1,0));break}while(rG(o.d,a+=10,d))return rO=!0,rJ(o,u,d)},rV.minus=rV.sub=function(e){var t,r,a,i,n,s,o,l,u,d,c,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(u=this.d,f=e.d,o=p.precision,l=p.rounding,!u[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!u[0])return new p(3===l?-0:0);e=new p(this)}return rO?rJ(e,o,l):e}if(r=rC(e.e/7),d=rC(this.e/7),u=u.slice(),n=d-r){for((c=n<0)?(t=u,n=-n,s=f.length):(t=f,r=d,s=u.length),n>(a=Math.max(Math.ceil(o/7),s)+2)&&(n=a,t.length=1),t.reverse(),a=n;a--;)t.push(0);t.reverse()}else{for((c=(a=u.length)<(s=f.length))&&(s=a),a=0;a<s;a++)if(u[a]!=f[a]){c=u[a]<f[a];break}n=0}for(c&&(t=u,u=f,f=t,e.s=-e.s),s=u.length,a=f.length-s;a>0;--a)u[s++]=0;for(a=f.length;a>n;){if(u[--a]<f[a]){for(i=a;i&&0===u[--i];)u[i]=1e7-1;--u[i],u[a]+=1e7}u[a]-=f[a]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(e.d=u,e.e=rK(u,r),rO?rJ(e,o,l):e):new p(3===l?-0:0)},rV.modulo=rV.mod=function(e){var t,r=this.constructor;return e=new r(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(rO=!1,9==r.modulo?(t=rW(this,e.abs(),0,3,1),t.s*=e.s):t=rW(this,e,0,r.modulo,1),t=t.times(e),rO=!0,this.minus(t)):rJ(new r(this),r.precision,r.rounding):new r(NaN)},rV.naturalExponential=rV.exp=function(){return r2(this)},rV.naturalLogarithm=rV.ln=function(){return r4(this)},rV.negated=rV.neg=function(){var e=new this.constructor(this);return e.s=-e.s,rJ(e)},rV.plus=rV.add=function(e){var t,r,a,i,n,s,o,l,u,d,c=this.constructor;if(e=new c(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new c(e.d||this.s===e.s?this:NaN)):e=new c(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(u=this.d,d=e.d,o=c.precision,l=c.rounding,!u[0]||!d[0])return d[0]||(e=new c(this)),rO?rJ(e,o,l):e;if(n=rC(this.e/7),a=rC(e.e/7),u=u.slice(),i=n-a){for(i<0?(r=u,i=-i,s=d.length):(r=d,a=n,s=u.length),i>(s=(n=Math.ceil(o/7))>s?n+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=u.length)-(i=d.length)<0&&(i=s,r=d,d=u,u=r),t=0;i;)t=(u[--i]=u[i]+d[i]+t)/1e7|0,u[i]%=1e7;for(t&&(u.unshift(t),++a),s=u.length;0==u[--s];)u.pop();return e.d=u,e.e=rK(u,a),rO?rJ(e,o,l):e},rV.precision=rV.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(rx+e);return this.d?(t=rX(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},rV.round=function(){var e=this.constructor;return rJ(new e(this),this.e+1,e.rounding)},rV.sine=rV.sin=function(){var e,t,r=this,a=r.constructor;return r.isFinite()?r.isZero()?new a(r):(e=a.precision,t=a.rounding,a.precision=e+Math.max(r.e,r.sd())+7,a.rounding=1,r=function(e,t){var r,a=t.d.length;if(a<3)return t.isZero()?t:r9(e,2,t,t);r=(r=1.4*Math.sqrt(a))>16?16:0|r,t=r9(e,2,t=t.times(1/r3(5,r)),t);for(var i,n=new e(5),s=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(n.plus(i.times(s.times(i).minus(o))));return t}(a,r8(a,r)),a.precision=e,a.rounding=t,rJ(rw>2?r.neg():r,e,t,!0)):new a(NaN)},rV.squareRoot=rV.sqrt=function(){var e,t,r,a,i,n,s=this.d,o=this.e,l=this.s,u=this.constructor;if(1!==l||!s||!s[0])return new u(!l||l<0&&(!s||s[0])?NaN:s?this:1/0);for(rO=!1,0==(l=Math.sqrt(+this))||l==1/0?(((t=rF(s)).length+o)%2==0&&(t+="0"),l=Math.sqrt(t),o=rC((o+1)/2)-(o<0||o%2),a=new u(t=l==1/0?"5e"+o:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+o)):a=new u(l.toString()),r=(o=u.precision)+3;;)if(a=(n=a).plus(rW(this,n,r+2,1)).times(.5),rF(n.d).slice(0,r)===(t=rF(a.d)).slice(0,r))if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(rJ(a,o+1,1),e=!a.times(a).eq(this));break}else{if(!i&&(rJ(n,o+1,0),n.times(n).eq(this))){a=n;break}r+=4,i=1}return rO=!0,rJ(a,o,u.rounding,e)},rV.tangent=rV.tan=function(){var e,t,r=this,a=r.constructor;return r.isFinite()?r.isZero()?new a(r):(e=a.precision,t=a.rounding,a.precision=e+10,a.rounding=1,(r=r.sin()).s=1,r=rW(r,new a(1).minus(r.times(r)).sqrt(),e+10,0),a.precision=e,a.rounding=t,rJ(2==rw||4==rw?r.neg():r,e,t,!0)):new a(NaN)},rV.times=rV.mul=function(e){var t,r,a,i,n,s,o,l,u,d=this.constructor,c=this.d,f=(e=new d(e)).d;if(e.s*=this.s,!c||!c[0]||!f||!f[0])return new d(!e.s||c&&!c[0]&&!f||f&&!f[0]&&!c?NaN:!c||!f?e.s/0:0*e.s);for(r=rC(this.e/7)+rC(e.e/7),(l=c.length)<(u=f.length)&&(n=c,c=f,f=n,s=l,l=u,u=s),n=[],a=s=l+u;a--;)n.push(0);for(a=u;--a>=0;){for(t=0,i=l+a;i>a;)o=n[i]+f[a]*c[i-a-1]+t,n[i--]=o%1e7|0,t=o/1e7|0;n[i]=(n[i]+t)%1e7|0}for(;!n[--s];)n.pop();return t?++r:n.shift(),e.d=n,e.e=rK(n,r),rO?rJ(e,d.precision,d.rounding):e},rV.toBinary=function(e,t){return r7(this,2,e,t)},rV.toDecimalPlaces=rV.toDP=function(e,t){var r=this,a=r.constructor;return r=new a(r),void 0===e?r:(r$(e,0,1e9),void 0===t?t=a.rounding:r$(t,0,8),rJ(r,e+r.e+1,t))},rV.toExponential=function(e,t){var r,a=this,i=a.constructor;return void 0===e?r=rH(a,!0):(r$(e,0,1e9),void 0===t?t=i.rounding:r$(t,0,8),r=rH(a=rJ(new i(a),e+1,t),!0,e+1)),a.isNeg()&&!a.isZero()?"-"+r:r},rV.toFixed=function(e,t){var r,a,i=this.constructor;return void 0===e?r=rH(this):(r$(e,0,1e9),void 0===t?t=i.rounding:r$(t,0,8),r=rH(a=rJ(new i(this),e+this.e+1,t),!1,e+a.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},rV.toFraction=function(e){var t,r,a,i,n,s,o,l,u,d,c,f,p=this.d,h=this.constructor;if(!p)return new h(this);if(u=r=new h(1),a=l=new h(0),s=(n=(t=new h(a)).e=rX(p)-this.e-1)%7,t.d[0]=rD(10,s<0?7+s:s),null==e)e=n>0?t:u;else{if(!(o=new h(e)).isInt()||o.lt(u))throw Error(rx+o);e=o.gt(t)?n>0?t:u:o}for(rO=!1,o=new h(rF(p)),d=h.precision,h.precision=n=7*p.length*2;c=rW(o,t,0,1,1),1!=(i=r.plus(c.times(a))).cmp(e);)r=a,a=i,i=u,u=l.plus(c.times(i)),l=i,i=t,t=o.minus(c.times(i)),o=i;return i=rW(e.minus(r),a,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(a)),l.s=u.s=this.s,f=1>rW(u,a,n,1).minus(this).abs().cmp(rW(l,r,n,1).minus(this).abs())?[u,a]:[l,r],h.precision=d,rO=!0,f},rV.toHexadecimal=rV.toHex=function(e,t){return r7(this,16,e,t)},rV.toNearest=function(e,t){var r=this,a=r.constructor;if(r=new a(r),null==e){if(!r.d)return r;e=new a(1),t=a.rounding}else{if(e=new a(e),void 0===t?t=a.rounding:r$(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(rO=!1,r=rW(r,e,0,t,1).times(e),rO=!0,rJ(r)):(e.s=r.s,r=e),r},rV.toNumber=function(){return+this},rV.toOctal=function(e,t){return r7(this,8,e,t)},rV.toPower=rV.pow=function(e){var t,r,a,i,n,s,o=this,l=o.constructor,u=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(rD(+o,u));if((o=new l(o)).eq(1))return o;if(a=l.precision,n=l.rounding,e.eq(1))return rJ(o,a,n);if((t=rC(e.e/7))>=e.d.length-1&&(r=u<0?-u:u)<=0x1fffffffffffff)return i=rZ(l,o,r,a),e.s<0?new l(1).div(i):rJ(i,a,n);if((s=o.s)<0){if(t<e.d.length-1)return new l(NaN);if((1&e.d[t])==0&&(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(t=0!=(r=rD(+o,u))&&isFinite(r)?new l(r+"").e:rC(u*(Math.log("0."+rF(o.d))/Math.LN10+o.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(rO=!1,l.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=r2(e.times(r4(o,a+r)),a)).d&&rG((i=rJ(i,a+5,1)).d,a,n)&&(t=a+10,+rF((i=rJ(r2(e.times(r4(o,t+r)),t),t+5,1)).d).slice(a+1,a+15)+1==1e14&&(i=rJ(i,a+1,0))),i.s=s,rO=!0,l.rounding=n,rJ(i,a,n))},rV.toPrecision=function(e,t){var r,a=this,i=a.constructor;return void 0===e?r=rH(a,a.e<=i.toExpNeg||a.e>=i.toExpPos):(r$(e,1,1e9),void 0===t?t=i.rounding:r$(t,0,8),r=rH(a=rJ(new i(a),e,t),e<=a.e||a.e<=i.toExpNeg,e)),a.isNeg()&&!a.isZero()?"-"+r:r},rV.toSignificantDigits=rV.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(r$(e,1,1e9),void 0===t?t=r.rounding:r$(t,0,8)),rJ(new r(this),e,t)},rV.toString=function(){var e=this.constructor,t=rH(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},rV.truncated=rV.trunc=function(){return rJ(new this.constructor(this),this.e+1,1)},rV.valueOf=rV.toJSON=function(){var e=this.constructor,t=rH(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var rW=function(){function e(e,t,r){var a,i=0,n=e.length;for(e=e.slice();n--;)a=e[n]*t+i,e[n]=a%r|0,i=a/r|0;return i&&e.unshift(i),e}function t(e,t,r,a){var i,n;if(r!=a)n=r>a?1:-1;else for(i=n=0;i<r;i++)if(e[i]!=t[i]){n=e[i]>t[i]?1:-1;break}return n}function r(e,t,r,a){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*a+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(a,i,n,s,o,l){var u,d,c,f,p,h,m,g,y,v,b,_,w,E,S,R,T,O,P,x,I=a.constructor,A=a.s==i.s?1:-1,k=a.d,C=i.d;if(!k||!k[0]||!C||!C[0])return new I(!a.s||!i.s||(k?C&&k[0]==C[0]:!C)?NaN:k&&0==k[0]||!C?0*A:A/0);for(l?(p=1,d=a.e-i.e):(l=1e7,p=7,d=rC(a.e/p)-rC(i.e/p)),P=C.length,T=k.length,v=(y=new I(A)).d=[],c=0;C[c]==(k[c]||0);c++);if(C[c]>(k[c]||0)&&d--,null==n?(E=n=I.precision,s=I.rounding):E=o?n+(a.e-i.e)+1:n,E<0)v.push(1),h=!0;else{if(E=E/p+2|0,c=0,1==P){for(f=0,C=C[0],E++;(c<T||f)&&E--;c++)S=f*l+(k[c]||0),v[c]=S/C|0,f=S%C|0;h=f||c<T}else{for((f=l/(C[0]+1)|0)>1&&(C=e(C,f,l),k=e(k,f,l),P=C.length,T=k.length),R=P,_=(b=k.slice(0,P)).length;_<P;)b[_++]=0;(x=C.slice()).unshift(0),O=C[0],C[1]>=l/2&&++O;do f=0,(u=t(C,b,P,_))<0?(w=b[0],P!=_&&(w=w*l+(b[1]||0)),(f=w/O|0)>1?(f>=l&&(f=l-1),g=(m=e(C,f,l)).length,_=b.length,1==(u=t(m,b,g,_))&&(f--,r(m,P<g?x:C,g,l))):(0==f&&(u=f=1),m=C.slice()),(g=m.length)<_&&m.unshift(0),r(b,m,_,l),-1==u&&(_=b.length,(u=t(C,b,P,_))<1&&(f++,r(b,P<_?x:C,_,l))),_=b.length):0===u&&(f++,b=[0]),v[c++]=f,u&&b[0]?b[_++]=k[R]||0:(b=[k[R]],_=1);while((R++<T||void 0!==b[0])&&E--)h=void 0!==b[0]}v[0]||v.shift()}if(1==p)y.e=d,r_=h;else{for(c=1,f=v[0];f>=10;f/=10)c++;y.e=c+d*p-1,rJ(y,o?n+y.e+1:n,s,h)}return y}}();function rJ(e,t,r,a){var i,n,s,o,l,u,d,c,f,p=e.constructor;e:if(null!=t){if(!(c=e.d))return e;for(i=1,o=c[0];o>=10;o/=10)i++;if((n=t-i)<0)n+=7,s=t,l=(d=c[f=0])/rD(10,i-s-1)%10|0;else if((f=Math.ceil((n+1)/7))>=(o=c.length))if(a){for(;o++<=f;)c.push(0);d=l=0,i=1,n%=7,s=n-7+1}else break e;else{for(d=o=c[f],i=1;o>=10;o/=10)i++;n%=7,l=(s=n-7+i)<0?0:d/rD(10,i-s-1)%10|0}if(a=a||t<0||void 0!==c[f+1]||(s<0?d:d%rD(10,i-s-1)),u=r<4?(l||a)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||a||6==r&&(n>0?s>0?d/rD(10,i-s):0:c[f-1])%10&1||r==(e.s<0?8:7)),t<1||!c[0])return c.length=0,u?(t-=e.e+1,c[0]=rD(10,(7-t%7)%7),e.e=-t||0):c[0]=e.e=0,e;if(0==n?(c.length=f,o=1,f--):(c.length=f+1,o=rD(10,7-n),c[f]=s>0?(d/rD(10,i-s)%rD(10,s)|0)*o:0),u)for(;;)if(0==f){for(n=1,s=c[0];s>=10;s/=10)n++;for(s=c[0]+=o,o=1;s>=10;s/=10)o++;n!=o&&(e.e++,1e7==c[0]&&(c[0]=1));break}else{if(c[f]+=o,1e7!=c[f])break;c[f--]=0,o=1}for(n=c.length;0===c[--n];)c.pop()}return rO&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function rH(e,t,r){if(!e.isFinite())return r5(e);var a,i=e.e,n=rF(e.d),s=n.length;return t?(r&&(a=r-s)>0?n=n.charAt(0)+"."+n.slice(1)+rY(a):s>1&&(n=n.charAt(0)+"."+n.slice(1)),n=n+(e.e<0?"e":"e+")+e.e):i<0?(n="0."+rY(-i-1)+n,r&&(a=r-s)>0&&(n+=rY(a))):i>=s?(n+=rY(i+1-s),r&&(a=r-i-1)>0&&(n=n+"."+rY(a))):((a=i+1)<s&&(n=n.slice(0,a)+"."+n.slice(a)),r&&(a=r-s)>0&&(i+1===s&&(n+="."),n+=rY(a))),n}function rK(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function rz(e,t,r){if(t>rj)throw rO=!0,r&&(e.precision=r),Error(rI);return rJ(new e(rS),t,1,!0)}function rQ(e,t,r){if(t>rM)throw Error(rI);return rJ(new e(rR),t,r,!0)}function rX(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function rY(e){for(var t="";e--;)t+="0";return t}function rZ(e,t,r,a){var i,n=new e(1),s=Math.ceil(a/7+4);for(rO=!1;;){if(r%2&&ae((n=n.times(t)).d,s)&&(i=!0),0===(r=rC(r/2))){r=n.d.length-1,i&&0===n.d[r]&&++n.d[r];break}ae((t=t.times(t)).d,s)}return rO=!0,n}function r0(e){return 1&e.d[e.d.length-1]}function r1(e,t,r){for(var a,i,n=new e(t[0]),s=0;++s<t.length;){if(!(i=new e(t[s])).s){n=i;break}((a=n.cmp(i))===r||0===a&&n.s===r)&&(n=i)}return n}function r2(e,t){var r,a,i,n,s,o,l,u=0,d=0,c=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(rO=!1,l=h):l=t,o=new f(.03125);e.e>-2;)e=e.times(o),c+=5;for(l+=a=Math.log(rD(2,c))/Math.LN10*2+5|0,r=n=s=new f(1),f.precision=l;;){if(n=rJ(n.times(e),l,1),r=r.times(++d),rF((o=s.plus(rW(n,r,l,1))).d).slice(0,l)===rF(s.d).slice(0,l)){for(i=c;i--;)s=rJ(s.times(s),l,1);if(null!=t)return f.precision=h,s;if(!(u<3&&rG(s.d,l-a,p,u)))return rJ(s,f.precision=h,p,rO=!0);f.precision=l+=10,r=n=o=new f(1),d=0,u++}s=o}}function r4(e,t){var r,a,i,n,s,o,l,u,d,c,f,p=1,h=e,m=h.d,g=h.constructor,y=g.rounding,v=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(rO=!1,d=v):d=t,g.precision=d+=10,a=(r=rF(m)).charAt(0),!(15e14>Math.abs(n=h.e)))return u=rz(g,d+2,v).times(n+""),h=r4(new g(a+"."+r.slice(1)),d-10).plus(u),g.precision=v,null==t?rJ(h,v,y,rO=!0):h;for(;a<7&&1!=a||1==a&&r.charAt(1)>3;)a=(r=rF((h=h.times(e)).d)).charAt(0),p++;for(n=h.e,a>1?(h=new g("0."+r),n++):h=new g(a+"."+r.slice(1)),c=h,l=s=h=rW(h.minus(1),h.plus(1),d,1),f=rJ(h.times(h),d,1),i=3;;){if(s=rJ(s.times(f),d,1),rF((u=l.plus(rW(s,new g(i),d,1))).d).slice(0,d)===rF(l.d).slice(0,d))if(l=l.times(2),0!==n&&(l=l.plus(rz(g,d+2,v).times(n+""))),l=rW(l,new g(p),d,1),null!=t)return g.precision=v,l;else{if(!rG(l.d,d-10,y,o))return rJ(l,g.precision=v,y,rO=!0);g.precision=d+=10,u=s=h=rW(c.minus(1),c.plus(1),d,1),f=rJ(h.times(h),d,1),i=o=1}l=u,i+=2}}function r5(e){return String(e.s*e.s/0)}function r6(e,t){var r,a,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;48===t.charCodeAt(a);a++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(a,i)){if(i-=a,e.e=r=r-a-1,e.d=[],a=(r+1)%7,r<0&&(a+=7),a<i){for(a&&e.d.push(+t.slice(0,a)),i-=7;a<i;)e.d.push(+t.slice(a,a+=7));a=7-(t=t.slice(a)).length}else a-=i;for(;a--;)t+="0";e.d.push(+t),rO&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function r9(e,t,r,a,i){var n,s,o,l,u=e.precision,d=Math.ceil(u/7);for(rO=!1,l=r.times(r),o=new e(a);;){if(s=rW(o.times(l),new e(t++*t++),u,1),o=i?a.plus(s):a.minus(s),a=rW(s.times(l),new e(t++*t++),u,1),void 0!==(s=o.plus(a)).d[d]){for(n=d;s.d[n]===o.d[n]&&n--;);if(-1==n)break}n=o,o=a,a=s,s=n}return rO=!0,s.d.length=d+1,s}function r3(e,t){for(var r=e;--t;)r*=e;return r}function r8(e,t){var r,a=t.s<0,i=rQ(e,e.precision,1),n=i.times(.5);if((t=t.abs()).lte(n))return rw=a?4:1,t;if((r=t.divToInt(i)).isZero())rw=a?3:2;else{if((t=t.minus(r.times(i))).lte(n))return rw=r0(r)?a?2:3:a?4:1,t;rw=r0(r)?a?1:4:a?3:2}return t.minus(i).abs()}function r7(e,t,r,a){var i,n,s,o,l,u,d,c,f,p=e.constructor,h=void 0!==r;if(h?(r$(r,1,1e9),void 0===a?a=p.rounding:r$(a,0,8)):(r=p.precision,a=p.rounding),e.isFinite()){for(s=(d=rH(e)).indexOf("."),h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,s>=0&&(d=d.replace(".",""),(f=new p(1)).e=d.length-s,f.d=rB(rH(f),10,i),f.e=f.d.length),n=l=(c=rB(d,10,i)).length;0==c[--l];)c.pop();if(c[0]){if(s<0?n--:((e=new p(e)).d=c,e.e=n,c=(e=rW(e,f,r,a,0,i)).d,n=e.e,u=r_),s=c[r],o=i/2,u=u||void 0!==c[r+1],u=a<4?(void 0!==s||u)&&(0===a||a===(e.s<0?3:2)):s>o||s===o&&(4===a||u||6===a&&1&c[r-1]||a===(e.s<0?8:7)),c.length=r,u)for(;++c[--r]>i-1;)c[r]=0,r||(++n,c.unshift(1));for(l=c.length;!c[l-1];--l);for(s=0,d="";s<l;s++)d+=rE.charAt(c[s]);if(h){if(l>1)if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)d+="0";for(l=(c=rB(d,i,t)).length;!c[l-1];--l);for(s=1,d="1.";s<l;s++)d+=rE.charAt(c[s])}else d=d.charAt(0)+"."+d.slice(1);d=d+(n<0?"p":"p+")+n}else if(n<0){for(;++n;)d="0"+d;d="0."+d}else if(++n>l)for(n-=l;n--;)d+="0";else n<l&&(d=d.slice(0,n)+"."+d.slice(n))}else d=h?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=r5(e);return e.s<0?"-"+d:d}function ae(e,t){if(e.length>t)return e.length=t,!0}function at(e){return new this(e).abs()}function ar(e){return new this(e).acos()}function aa(e){return new this(e).acosh()}function ai(e,t){return new this(e).plus(t)}function an(e){return new this(e).asin()}function as(e){return new this(e).asinh()}function ao(e){return new this(e).atan()}function al(e){return new this(e).atanh()}function au(e,t){e=new this(e),t=new this(t);var r,a=this.precision,i=this.rounding,n=a+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?rQ(this,a,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=rQ(this,n,1).times(.5)).s=e.s:t.s<0?(this.precision=n,this.rounding=1,r=this.atan(rW(e,t,n,1)),t=rQ(this,n,1),this.precision=a,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(rW(e,t,n,1)):(r=rQ(this,n,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function ad(e){return new this(e).cbrt()}function ac(e){return rJ(e=new this(e),e.e+1,2)}function af(e,t,r){return new this(e).clamp(t,r)}function ap(e){if(!e||"object"!=typeof e)throw Error(rP+"Object expected");var t,r,a,i=!0===e.defaults,n=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<n.length;t+=3)if(r=n[t],i&&(this[r]=rT[r]),void 0!==(a=e[r]))if(rC(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(rx+r+": "+a);if(r="crypto",i&&(this[r]=rT[r]),void 0!==(a=e[r]))if(!0===a||!1===a||0===a||1===a)if(a)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(rA);else this[r]=!1;else throw Error(rx+r+": "+a);return this}function ah(e){return new this(e).cos()}function am(e){return new this(e).cosh()}function ag(e,t){return new this(e).div(t)}function ay(e){return new this(e).exp()}function av(e){return rJ(e=new this(e),e.e+1,3)}function ab(){var e,t,r=new this(0);for(rO=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return rO=!0,new this(1/0);r=t}return rO=!0,r.sqrt()}function a_(e){return e instanceof aF||e&&e.toStringTag===rk||!1}function aw(e){return new this(e).ln()}function aE(e,t){return new this(e).log(t)}function aS(e){return new this(e).log(2)}function aR(e){return new this(e).log(10)}function aT(){return r1(this,arguments,-1)}function aO(){return r1(this,arguments,1)}function aP(e,t){return new this(e).mod(t)}function ax(e,t){return new this(e).mul(t)}function aI(e,t){return new this(e).pow(t)}function aA(e){var t,r,a,i,n=0,s=new this(1),o=[];if(void 0===e?e=this.precision:r$(e,1,1e9),a=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(a));n<a;)(i=t[n])>=429e7?t[n]=crypto.getRandomValues(new Uint32Array(1))[0]:o[n++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(a*=4);n<a;)(i=t[n]+(t[n+1]<<8)+(t[n+2]<<16)+((127&t[n+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,n):(o.push(i%1e7),n+=4);n=a/4}else throw Error(rA);else for(;n<a;)o[n++]=1e7*Math.random()|0;for(a=o[--n],e%=7,a&&e&&(i=rD(10,7-e),o[n]=(a/i|0)*i);0===o[n];n--)o.pop();if(n<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=7)o.shift();for(a=1,i=o[0];i>=10;i/=10)a++;a<7&&(r-=7-a)}return s.e=r,s.d=o,s}function ak(e){return rJ(e=new this(e),e.e+1,this.rounding)}function aC(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function aD(e){return new this(e).sin()}function aN(e){return new this(e).sinh()}function aq(e){return new this(e).sqrt()}function aU(e,t){return new this(e).sub(t)}function aL(){var e=0,t=arguments,r=new this(t[0]);for(rO=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return rO=!0,rJ(r,this.precision,this.rounding)}function aj(e){return new this(e).tan()}function aM(e){return new this(e).tanh()}function aV(e){return rJ(e=new this(e),e.e+1,1)}rV[Symbol.for("nodejs.util.inspect.custom")]=rV.toString,rV[Symbol.toStringTag]="Decimal";var aF=rV.constructor=function e(t){var r,a,i;function n(e){var t,r,a;if(!(this instanceof n))return new n(e);if(this.constructor=n,a_(e)){this.s=e.s,rO?!e.d||e.e>n.maxE?(this.e=NaN,this.d=null):e.e<n.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(a=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;rO?t>n.maxE?(this.e=NaN,this.d=null):t<n.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return r6(this,e.toString())}if("string"===a)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),rL.test(e)?r6(this,e):function(e,t){var r,a,i,n,s,o,l,u,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),rL.test(t))return r6(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(rq.test(t))r=16,t=t.toLowerCase();else if(rN.test(t))r=2;else if(rU.test(t))r=8;else throw Error(rx+t);for((n=t.search(/p/i))>0?(l=+t.slice(n+1),t=t.substring(2,n)):t=t.slice(2),s=(n=t.indexOf("."))>=0,a=e.constructor,s&&(n=(o=(t=t.replace(".","")).length)-n,i=rZ(a,new a(r),n,2*n)),n=d=(u=rB(t,r,1e7)).length-1;0===u[n];--n)u.pop();return n<0?new a(0*e.s):(e.e=rK(u,d),e.d=u,rO=!1,s&&(e=rW(e,i,4*o)),l&&(e=e.times(54>Math.abs(l)?rD(2,l):aF.pow(2,l))),rO=!0,e)}(this,e);if("bigint"===a)return e<0?(e=-e,this.s=-1):this.s=1,r6(this,e.toString());throw Error(rx+e)}if(n.prototype=rV,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=ap,n.clone=e,n.isDecimal=a_,n.abs=at,n.acos=ar,n.acosh=aa,n.add=ai,n.asin=an,n.asinh=as,n.atan=ao,n.atanh=al,n.atan2=au,n.cbrt=ad,n.ceil=ac,n.clamp=af,n.cos=ah,n.cosh=am,n.div=ag,n.exp=ay,n.floor=av,n.hypot=ab,n.ln=aw,n.log=aE,n.log10=aR,n.log2=aS,n.max=aT,n.min=aO,n.mod=aP,n.mul=ax,n.pow=aI,n.random=aA,n.round=ak,n.sign=aC,n.sin=aD,n.sinh=aN,n.sqrt=aq,n.sub=aU,n.sum=aL,n.tan=aj,n.tanh=aM,n.trunc=aV,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(a=i[r++])||(t[a]=this[a]);return n.config(t),n}(rT);rS=new aF(rS),rR=new aF(rR);var a$=aF;function aG(e){var t;return null===e?e:Array.isArray(e)?e.map(aG):"object"==typeof e?null!==(t=e)&&"object"==typeof t&&"string"==typeof t.$type?function({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:e,byteOffset:r,byteLength:a}=Buffer.from(t,"base64");return new Uint8Array(e,r,a)}case"DateTime":return new Date(t);case"Decimal":return new a$(t);case"Json":return JSON.parse(t);default:rr(t,"Unknown tagged value")}}(e):null!==e.constructor&&"Object"!==e.constructor.name?e:rc(e,aG):e}var aB=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let a=t();return this.set(e,a),a}};function aW(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function aJ(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function aH(e){return{models:aK(e.models),enums:aK(e.enums),types:aK(e.types)}}function aK(e){let t={};for(let{name:r,...a}of e)t[r]=a;return t}function az(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function aQ(e){return"Invalid Date"!==e.toString()}function aX(e){return!!aF.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}var aY={};function aZ(e){return{name:e.name,values:e.values.map(e=>e.name)}}f(aY,{ModelAction:()=>a0,datamodelEnumToSchemaEnum:()=>aZ});var a0=((a=a0||{}).findUnique="findUnique",a.findUniqueOrThrow="findUniqueOrThrow",a.findFirst="findFirst",a.findFirstOrThrow="findFirstOrThrow",a.findMany="findMany",a.create="create",a.createMany="createMany",a.createManyAndReturn="createManyAndReturn",a.update="update",a.updateMany="updateMany",a.updateManyAndReturn="updateManyAndReturn",a.upsert="upsert",a.delete="delete",a.deleteMany="deleteMany",a.groupBy="groupBy",a.count="count",a.aggregate="aggregate",a.findRaw="findRaw",a.aggregateRaw="aggregateRaw",a);h(E()),h(e.r(902157));var a1={keyword:en,entity:en,value:e=>J(ea(e)),punctuation:ea,directive:en,function:en,variable:e=>J(ea(e)),string:e=>J(et(e)),boolean:er,number:en,comment:eo},a2=e=>e,a4={},a5=0,a6={manual:a4.Prism&&a4.Prism.manual,disableWorkerMessageHandler:a4.Prism&&a4.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof a9?new a9(e.type,a6.util.encode(e.content),e.alias):Array.isArray(e)?e.map(a6.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++a5}),e.__id},clone:function e(t,r){let a,i,n=a6.util.type(t);switch(r=r||{},n){case"Object":if(r[i=a6.util.objId(t)])return r[i];for(let n in a={},r[i]=a,t)t.hasOwnProperty(n)&&(a[n]=e(t[n],r));return a;case"Array":return r[i=a6.util.objId(t)]?r[i]:(a=[],r[i]=a,t.forEach(function(t,i){a[i]=e(t,r)}),a);default:return t}}},languages:{extend:function(e,t){let r=a6.util.clone(a6.languages[e]);for(let e in t)r[e]=t[e];return r},insertBefore:function(e,t,r,a){let i=(a=a||a6.languages)[e],n={};for(let e in i)if(i.hasOwnProperty(e)){if(e==t)for(let e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);r.hasOwnProperty(e)||(n[e]=i[e])}let s=a[e];return a[e]=n,a6.languages.DFS(a6.languages,function(t,r){r===s&&t!=e&&(this[t]=n)}),n},DFS:function e(t,r,a,i){i=i||{};let n=a6.util.objId;for(let s in t)if(t.hasOwnProperty(s)){r.call(t,s,t[s],a||s);let o=t[s],l=a6.util.type(o);"Object"!==l||i[n(o)]?"Array"!==l||i[n(o)]||(i[n(o)]=!0,e(o,r,s,i)):(i[n(o)]=!0,e(o,r,null,i))}}},plugins:{},highlight:function(e,t,r){let a={code:e,grammar:t,language:r};return a6.hooks.run("before-tokenize",a),a.tokens=a6.tokenize(a.code,a.grammar),a6.hooks.run("after-tokenize",a),a9.stringify(a6.util.encode(a.tokens),a.language)},matchGrammar:function(e,t,r,a,i,n,s){for(let m in r){if(!r.hasOwnProperty(m)||!r[m])continue;if(m==s)return;let g=r[m];g="Array"===a6.util.type(g)?g:[g];for(let s=0;s<g.length;++s){let y=g[s],v=y.inside,b=!!y.lookbehind,_=!!y.greedy,w=0,E=y.alias;if(_&&!y.pattern.global){let e=y.pattern.toString().match(/[imuy]*$/)[0];y.pattern=RegExp(y.pattern.source,e+"g")}y=y.pattern||y;for(let s=a,g=i;s<t.length;g+=t[s].length,++s){let a=t[s];if(t.length>e.length)return;if(a instanceof a9)continue;if(_&&s!=t.length-1){y.lastIndex=g;var o=y.exec(e);if(!o)break;var l=o.index+(b?o[1].length:0),u=o.index+o[0].length,d=s,c=g;for(let e=t.length;d<e&&(c<u||!t[d].type&&!t[d-1].greedy);++d)l>=(c+=t[d].length)&&(++s,g=c);if(t[s]instanceof a9)continue;f=d-s,a=e.slice(g,c),o.index-=g}else{y.lastIndex=0;var o=y.exec(a),f=1}if(!o){if(n)break;continue}b&&(w=o[1]?o[1].length:0);var l=o.index+w,o=o[0].slice(w),u=l+o.length,p=a.slice(0,l),h=a.slice(u);let i=[s,f];p&&(++s,g+=p.length,i.push(p));let S=new a9(m,v?a6.tokenize(o,v):o,E,o,_);if(i.push(S),h&&i.push(h),Array.prototype.splice.apply(t,i),1!=f&&a6.matchGrammar(e,t,r,s,g,!0,m),n)break}}}},tokenize:function(e,t){let r=[e],a=t.rest;if(a){for(let e in a)t[e]=a[e];delete t.rest}return a6.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=a6.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=a6.hooks.all[e];if(!(!r||!r.length))for(var a,i=0;a=r[i++];)a(t)}},Token:a9};function a9(e,t,r,a,i){this.type=e,this.content=t,this.alias=r,this.length=0|(a||"").length,this.greedy=!!i}a6.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},a6.languages.javascript=a6.languages.extend("clike",{"class-name":[a6.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),a6.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,a6.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:a6.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:a6.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:a6.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:a6.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),a6.languages.markup&&a6.languages.markup.tag.addInlined("script","javascript"),a6.languages.js=a6.languages.javascript,a6.languages.typescript=a6.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),a6.languages.ts=a6.languages.typescript,a9.stringify=function(e,t){return"string"==typeof e?e:Array.isArray(e)?e.map(function(e){return a9.stringify(e,t)}).join(""):(a1[e.type]||a2)(e.content)};var a3={red:ee,gray:eo,dim:H,bold:J,underline:z,highlightSource:e=>e.highlight()},a8={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function a7(e){let t=e.showColors?a3:a8;return function({functionName:e,location:t,message:r,isPanic:a,contextLines:i,callArguments:n},s){var o;let l,u=[""],d=t?" in":":";if(a?(u.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),u.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${d}`))):u.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${d}`)),t&&u.push(s.underline((l=[(o=t).fileName],o.lineNumber&&l.push(String(o.lineNumber)),o.columnNumber&&l.push(String(o.columnNumber)),l.join(":")))),i){u.push("");let e=[i.toString()];n&&(e.push(n),e.push(s.dim(")"))),u.push(e.join("")),n&&u.push("")}else u.push(""),n&&u.push(n),u.push("");return u.push(r),u.join(`
`)}(function({callsite:e,message:t,originalMethod:r,isPanic:a,callArguments:i},n){return function({message:e,originalMethod:t,isPanic:r,callArguments:a}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:a}}({message:t,originalMethod:r,isPanic:a,callArguments:i})}(e,0),t)}var ie=h(x());function it(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function ir(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}var ia=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}};A();var ii=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(e,t)=>t.write(e)){let a=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==a&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};I();var is=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},io=e=>e,il={bold:io,red:io,green:io,dim:io,enabled:!1},iu={bold:J,red:ee,green:et,dim:H,enabled:!0},id={write(e){e.writeLine(",")}},ic=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},ip=class{hasError=!1;markAsError(){return this.hasError=!0,this}},ih=class extends ip{items=[];addItem(e){return this.items.push(new is(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){0===this.items.length?this.writeEmpty(e):this.writeWithItems(e)}writeEmpty(e){let t=new ic("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(id,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},im=class e extends ip{fields={};suggestions=[];addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[r,...a]=t,i=this.getField(r);if(!i)return;let n=i;for(let t of a){let r;if(n.value instanceof e?r=n.value.getField(t):n.value instanceof ih&&(r=n.value.getField(Number(t))),!r)return;n=r}return n}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let r=this;for(let a of t){if(!(r instanceof e))return;let t=r.getSubSelectionValue(a);if(!t)return;r=t}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let a=r;for(let r of t){let t=a.value.getFieldValue(r);if(!t||!(t instanceof e))return;let i=t.getSelectionParent();if(!i)return;a=i}return a}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();if(t)return{kind:"include",value:t}}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);0===t.length&&0===this.suggestions.length?this.writeEmpty(e):this.writeWithContents(e,t)}asObject(){return this}writeEmpty(e){let t=new ic("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(id,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}},ig=class extends ip{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new ic(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},iy=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:a,dim:i}=r.context.colors;r.write(a(i(`${e}: ${t}`))).addMarginSymbol(a(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(id,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function iv(e,t,r){let a=[`Unknown argument \`${e.red(t)}\`.`],i=function(e,t){let r=1/0,a;for(let i of t){let t=(0,ie.default)(e,i);t>3||t<r&&(r=t,a=i)}return a}(t,r);return i&&a.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&a.push(iS(e)),a.join(" ")}function ib(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ia(r.name,"true"))}function i_(e,t){let[r,a]=iE(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:a};let n=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),o=i.getFieldValue("omit")?.asObject(),l=n?.getField(a);return n&&l?{parentKind:"select",parent:n,field:l,fieldName:a}:(l=s?.getField(a),s&&l?{parentKind:"include",field:l,parent:s,fieldName:a}:(l=o?.getField(a),o&&l?{parentKind:"omit",field:l,parent:o,fieldName:a}:{parentKind:"unknown",fieldName:a}))}function iw(e,t){if("object"===t.kind)for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ia(r.name,r.typeNames.join(" | ")))}function iE(e){let t=[...e],r=t.pop();if(!r)throw Error("unexpected empty path");return[t,r]}function iS({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function iR(e,t){if(1===t.length)return t[0];let r=[...t],a=r.pop();return`${r.join(", ")} ${e} ${a}`}var iT=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,a,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=a,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function iO(e){return e instanceof iT}var iP=Symbol(),ix=new WeakMap,iI=class{constructor(e){e===iP?ix.set(this,`Prisma.${this._getName()}`):ix.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return ix.get(this)}},iA=class extends iI{_getNamespace(){return"NullTypes"}},ik=class extends iA{#e};iq(ik,"DbNull");var iC=class extends iA{#e};iq(iC,"JsonNull");var iD=class extends iA{#e};iq(iD,"AnyNull");var iN={classes:{DbNull:ik,JsonNull:iC,AnyNull:iD},instances:{DbNull:new ik(iP),JsonNull:new iC(iP),AnyNull:new iD(iP)}};function iq(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var iU=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(e){let t=new ic(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(": ").write(this.value)}},iL=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function ij(e){return new iL(iM(e))}function iM(e){let t=new im;for(let[r,a]of Object.entries(e)){let e=new iU(r,function e(t){if("string"==typeof t)return new ig(JSON.stringify(t));if("number"==typeof t||"boolean"==typeof t)return new ig(String(t));if("bigint"==typeof t)return new ig(`${t}n`);if(null===t)return new ig("null");if(void 0===t)return new ig("undefined");if(aX(t))return new ig(`new Prisma.Decimal("${t.toFixed()}")`);if(t instanceof Uint8Array)return Buffer.isBuffer(t)?new ig(`Buffer.alloc(${t.byteLength})`):new ig(`new Uint8Array(${t.byteLength})`);if(t instanceof Date){let e=aQ(t)?t.toISOString():"Invalid Date";return new ig(`new Date("${e}")`)}return t instanceof iI?new ig(`Prisma.${t._getName()}`):iO(t)?new ig(`prisma.${aW(t.modelName)}.$fields.${t.name}`):Array.isArray(t)?function(t){let r=new ih;for(let a of t)r.addItem(e(a));return r}(t):"object"==typeof t?iM(t):new ig(Object.prototype.toString.call(t))}(a));t.addField(e)}return t}function iV(e,t){let r="pretty"===t?iu:il;return{message:e.renderAllMessages(r),args:new ii(0,{colors:r}).write(e).toString()}}function iF({args:e,errors:t,errorFormat:r,callsite:a,originalMethod:i,clientVersion:n,globalOmit:s}){let o=ij(e);for(let e of t)!function e(t,r,a){switch(t.kind){case"MutuallyExclusiveFields":let i;f=t,p=r,(i=p.arguments.getDeepSubSelectionValue(f.selectionPath)?.asObject())&&(i.getField(f.firstField)?.markAsError(),i.getField(f.secondField)?.markAsError()),p.addErrorMessage(e=>`Please ${e.bold("either")} use ${e.green(`\`${f.firstField}\``)} or ${e.green(`\`${f.secondField}\``)}, but ${e.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(e,t){let[r,a]=iE(e.selectionPath),i=e.outputType,n=t.arguments.getDeepSelectionParent(r)?.value;if(n&&(n.getField(a)?.markAsError(),i))for(let e of i.fields)e.isRelation&&n.addSuggestion(new ia(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${a}\``)} for ${e.bold("include")} statement`;return i?t+=` on model ${e.bold(i.name)}. ${iS(e)}`:t+=".",t+=`
Note that ${e.bold("include")} statements only accept relation fields.`})}(t,r);break;case"EmptySelection":!function(e,t,r){let a=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(a){let r=a.getField("omit")?.value.asObject();if(r){var i,n,s=e,o=t,l=r;for(let e of(l.removeAllFields(),s.outputType.fields))l.addSuggestion(new ia(e.name,"false"));o.addErrorMessage(e=>`The ${e.red("omit")} statement includes every field of the model ${e.bold(s.outputType.name)}. At least one field must be included in the result`);return}if(a.hasField("select")){let r,a,s;return i=e,n=t,r=i.outputType,a=n.arguments.getDeepSelectionParent(i.selectionPath)?.value,s=a?.isEmpty()??!1,a&&(a.removeAllFields(),ib(a,r)),n.addErrorMessage(e=>s?`The ${e.red("`select`")} statement for type ${e.bold(r.name)} must not be empty. ${iS(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(r.name)} needs ${e.bold("at least one truthy value")}.`)}}r?.[aW(e.outputType.name)]?function(e,t){let r=new iy;for(let t of e.outputType.fields)t.isRelation||r.addField(t.name,"false");let a=new ia("omit",r).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(a);else{let[r,i]=iE(e.selectionPath),n=t.arguments.getDeepSelectionParent(r)?.value.asObject()?.getField(i);if(n){let e=n?.value.asObject()??new im;e.addSuggestion(a),n.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}(e,t):t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}(t,r,a);break;case"UnknownSelectionField":!function(e,t){let r=i_(e.selectionPath,t);if("unknown"!==r.parentKind){r.field.markAsError();let t=r.parent;switch(r.parentKind){case"select":ib(t,e.outputType);break;case"include":var a=t,i=e.outputType;for(let e of i.fields)e.isRelation&&!a.hasField(e.name)&&a.addSuggestion(new ia(e.name,"true"));break;case"omit":var n=t,s=e.outputType;for(let e of s.fields)n.hasField(e.name)||e.isRelation||n.addSuggestion(new ia(e.name,"true"))}}t.addErrorMessage(t=>{let a=[`Unknown field ${t.red(`\`${r.fieldName}\``)}`];return"unknown"!==r.parentKind&&a.push(`for ${t.bold(r.parentKind)} statement`),a.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),a.push(iS(t)),a.join(" ")})}(t,r);break;case"InvalidSelectionValue":let n;h=t,m=r,"unknown"!==(n=i_(h.selectionPath,m)).parentKind&&n.field.value.markAsError(),m.addErrorMessage(e=>`Invalid value for selection field \`${e.red(n.fieldName)}\`: ${h.underlyingError}`);break;case"UnknownArgument":let s,o;g=t,y=r,s=g.argumentPath[0],(o=y.arguments.getDeepSubSelectionValue(g.selectionPath)?.asObject())&&(o.getField(s)?.markAsError(),function(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new ia(r.name,r.typeNames.join(" | ")))}(o,g.arguments)),y.addErrorMessage(e=>iv(e,s,g.arguments.map(e=>e.name)));break;case"UnknownInputField":!function(e,t){let[r,a]=iE(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let t=i.getDeepFieldValue(r)?.asObject();t&&iw(t,e.inputType)}t.addErrorMessage(t=>iv(t,a,e.inputType.fields.map(e=>e.name)))}(t,r);break;case"RequiredArgumentMissing":!function(e,t){let r;t.addErrorMessage(e=>r?.value instanceof ig&&"null"===r.value.text?`Argument \`${e.green(n)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(n)}\` is missing.`);let a=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!a)return;let[i,n]=iE(e.argumentPath),s=new iy,o=a.getDeepFieldValue(i)?.asObject();if(o)if((r=o.getField(n))&&o.removeField(n),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)s.addField(t.name,t.typeNames.join(" | "));o.addSuggestion(new ia(n,s).makeRequired())}else{let t=e.inputTypes.map(function e(t){return"list"===t.kind?`${e(t.elementType)}[]`:t.name}).join(" | ");o.addSuggestion(new ia(n,t).makeRequired())}}(t,r);break;case"InvalidArgumentType":let l,u;v=t,b=r,l=v.argument.name,(u=b.arguments.getDeepSubSelectionValue(v.selectionPath)?.asObject())&&u.getDeepFieldValue(v.argumentPath)?.markAsError(),b.addErrorMessage(e=>{let t=iR("or",v.argument.typeNames.map(t=>e.green(t)));return`Argument \`${e.bold(l)}\`: Invalid value provided. Expected ${t}, provided ${e.red(v.inferredType)}.`});break;case"InvalidArgumentValue":let d,c;_=t,w=r,d=_.argument.name,(c=w.arguments.getDeepSubSelectionValue(_.selectionPath)?.asObject())&&c.getDeepFieldValue(_.argumentPath)?.markAsError(),w.addErrorMessage(e=>{let t=[`Invalid value for argument \`${e.bold(d)}\``];if(_.underlyingError&&t.push(`: ${_.underlyingError}`),t.push("."),_.argument.typeNames.length>0){let r=iR("or",_.argument.typeNames.map(t=>e.green(t)));t.push(` Expected ${r}.`)}return t.join("")});break;case"ValueTooLarge":var f,p,h,m,g,y,v,b,_,w,E=t,S=r;let R=E.argument.name,T=S.arguments.getDeepSubSelectionValue(E.selectionPath)?.asObject(),O;if(T){let e=T.getDeepField(E.argumentPath)?.value;e?.markAsError(),e instanceof ig&&(O=e.text)}S.addErrorMessage(e=>{let t=["Unable to fit value"];return O&&t.push(e.red(O)),t.push(`into a 64-bit signed integer for field \`${e.bold(R)}\``),t.join(" ")});break;case"SomeFieldsMissing":var P=t,x=r;let I=P.argumentPath[P.argumentPath.length-1],A=x.arguments.getDeepSubSelectionValue(P.selectionPath)?.asObject();if(A){let e=A.getDeepFieldValue(P.argumentPath)?.asObject();e&&iw(e,P.inputType)}x.addErrorMessage(e=>{let t=[`Argument \`${e.bold(I)}\` of type ${e.bold(P.inputType.name)} needs`];return 1===P.constraints.minFieldCount?P.constraints.requiredFields?t.push(`${e.green("at least one of")} ${iR("or",P.constraints.requiredFields.map(t=>`\`${e.bold(t)}\``))} arguments.`):t.push(`${e.green("at least one")} argument.`):t.push(`${e.green(`at least ${P.constraints.minFieldCount}`)} arguments.`),t.push(iS(e)),t.join(" ")});break;case"TooManyFieldsGiven":var k=t,C=r;let D=k.argumentPath[k.argumentPath.length-1],N=C.arguments.getDeepSubSelectionValue(k.selectionPath)?.asObject(),q=[];if(N){let e=N.getDeepFieldValue(k.argumentPath)?.asObject();e&&(e.markAsError(),q=Object.keys(e.getFields()))}C.addErrorMessage(e=>{let t=[`Argument \`${e.bold(D)}\` of type ${e.bold(k.inputType.name)} needs`];return 1===k.constraints.minFieldCount&&1==k.constraints.maxFieldCount?t.push(`${e.green("exactly one")} argument,`):1==k.constraints.maxFieldCount?t.push(`${e.green("at most one")} argument,`):t.push(`${e.green(`at most ${k.constraints.maxFieldCount}`)} arguments,`),t.push(`but you provided ${iR("and",q.map(t=>e.red(t)))}. Please choose`),1===k.constraints.maxFieldCount?t.push("one."):t.push(`${k.constraints.maxFieldCount}.`),t.join(" ")});break;case"Union":let U;(U=function(e){var t=(e,t)=>{let r=it(e),a=it(t);return r!==a?r-a:ir(e)-ir(t)};if(0===e.length)return;let r=e[0];for(let a=1;a<e.length;a++)0>t(r,e[a])&&(r=e[a]);return r}(function(e){let t=new Map,r=[];for(let n of e){var a,i;if("InvalidArgumentType"!==n.kind){r.push(n);continue}let e=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,s=t.get(e);s?t.set(e,{...n,argument:{...n.argument,typeNames:(a=s.argument.typeNames,i=n.argument.typeNames,[...new Set(a.concat(i))])}}):t.set(e,n)}return r.push(...t.values()),r}(function e(t){return t.errors.flatMap(t=>"Union"===t.kind?e(t):[t])}(t))))?e(U,r,a):r.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+t.kind)}}(e,o,s);let{message:l,args:u}=iV(o,r);throw new rb(a7({message:l,callsite:a,originalMethod:i,showColors:"pretty"===r,callArguments:u}),{clientVersion:n})}function i$(e){return e.replace(/^./,e=>e.toLowerCase())}function iG(e,t,r){return r?rc(r,({needs:e,compute:r},a)=>{var i,n,s;let o;return{name:a,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:(i=t,n=a,s=r,(o=i?.[n]?.compute)?e=>s({...e,[n]:o(e)}):s)}}):{}}var iB=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new aB;modelExtensionsCache=new aB;queryCallbacksCache=new aB;clientExtensions=aJ(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=aJ(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>{var t,r,a;let i,n,s;return t=this.previous?.getAllComputedFields(e),r=this.extension,i=i$(e),r.result&&(r.result.$allModels||r.result[i])?(a={...t,...iG(r.name,t,r.result.$allModels),...iG(r.name,t,r.result[i])},n=new aB,s=(e,t)=>n.getOrCreate(e,()=>t.has(e)?[e]:(t.add(e),a[e]?a[e].needs.flatMap(e=>s(e,t)):[e])),rc(a,e=>({...e,needs:s(e.name,new Set)}))):t})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=i$(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],a=[],i=this.extension.query;return i&&(i[e]||i.$allModels||i[t]||i.$allOperations)?(void 0!==i[e]&&(void 0!==i[e][t]&&a.push(i[e][t]),void 0!==i[e].$allOperations&&a.push(i[e].$allOperations)),"$none"!==e&&void 0!==i.$allModels&&(void 0!==i.$allModels[t]&&a.push(i.$allModels[t]),void 0!==i.$allModels.$allOperations&&a.push(i.$allModels.$allOperations)),void 0!==i[t]&&a.push(i[t]),void 0!==i.$allOperations&&a.push(i.$allOperations),r.concat(a)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},iW=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new iB(t))}isEmpty(){return void 0===this.head}append(t){return new e(new iB(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},iJ=class{constructor(e){this.name=e}};function iH(e){return new iJ(e)}var iK=Symbol(),iz=class{constructor(e){if(e!==iK)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?iQ:e}},iQ=new iz(iK);function iX(e){return e instanceof iz}var iY={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},iZ="explicitly `undefined` values are not allowed";function i0({modelName:e,action:t,args:r,runtimeDataModel:a,extensions:i=iW.empty(),callsite:n,clientMethod:s,errorFormat:o,clientVersion:l,previewFeatures:u,globalOmit:d}){let c=new i4({runtimeDataModel:a,modelName:e,action:t,rootArgs:r,callsite:n,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:o,clientVersion:l,previewFeatures:u,globalOmit:d});return{modelName:e,action:iY[t],query:function e({select:t,include:r,...a}={},i){var n,s,o,l,u,d,c;let f,p=a.omit;return delete a.omit,{arguments:i1(a,i),selection:(n=t,s=r,o=p,l=i,n?(s?l.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:l.getSelectionPath()}):o&&l.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:l.getSelectionPath()}),function(t,r){let a={},i=r.getComputedFields();for(let[n,s]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let a of Object.values(t))if(e[a.name])for(let e of a.needs)r[e]=!0;return r}(t,i))){if(iX(s))continue;let t=r.nestSelection(n);i2(s,t);let o=r.findField(n);if(!(i?.[n]&&!o)){if(!1===s||void 0===s||iX(s)){a[n]=!1;continue}if(!0===s){o?.kind==="object"?a[n]=e({},t):a[n]=!0;continue}a[n]=e(s,t)}}return a}(n,l)):(u=l,d=s,c=o,f={},u.modelOrType&&!u.isRawAction()&&(f.$composites=!0,f.$scalars=!0),d&&function(t,r,a){for(let[i,n]of Object.entries(r)){if(iX(n))continue;let r=a.nestSelection(i);if(i2(n,r),!1===n||void 0===n){t[i]=!1;continue}let s=a.findField(i);if(s&&"object"!==s.kind&&a.throwValidationError({kind:"IncludeOnScalar",selectionPath:a.getSelectionPath().concat(i),outputType:a.getOutputTypeDescription()}),s){t[i]=e(!0===n?{}:n,r);continue}if(!0===n){t[i]=!0;continue}t[i]=e(n,r)}}(f,d,u),function(e,t,r){let a=r.getComputedFields();for(let[i,n]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let a of Object.values(t))if(!e[a.name])for(let e of a.needs)delete r[e];return r}({...r.getGlobalOmit(),...t},a))){if(iX(n))continue;i2(n,r.nestSelection(i));let t=r.findField(i);a?.[i]&&!t||(e[i]=!n)}}(f,c,u),f))}}(r,c)}}function i1(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let a in e){let i=e[a],n=t.nestArgument(a);iX(i)||(void 0!==i?r[a]=function e(t,r){var a,i;if(null===t)return null;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t;if("bigint"==typeof t)return{$type:"BigInt",value:String(t)};if(az(t)){if(aQ(t))return{$type:"DateTime",value:t.toISOString()};r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(t instanceof iJ)return{$type:"Param",value:t.name};if(iO(t))return{$type:"FieldRef",value:{_ref:t.name,_container:t.modelName}};if(Array.isArray(t))return function(t,r){let a=[];for(let i=0;i<t.length;i++){let n=r.nestArgument(String(i)),s=t[i];if(void 0===s||iX(s)){let e=void 0===s?"undefined":"Prisma.skip";r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:n.getSelectionPath(),argumentPath:n.getArgumentPath(),argument:{name:`${r.getArgumentName()}[${i}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}a.push(e(s,n))}return a}(t,r);if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:a}=t;return{$type:"Bytes",value:Buffer.from(e,r,a).toString("base64")}}if("object"==typeof(a=t)&&null!==a&&!0===a.__prismaRawParameters__)return t.values;if(aX(t))return{$type:"Decimal",value:t.toFixed()};if(t instanceof iI){if(t!==iN.instances[t._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:t._getName()}}return"object"==typeof(i=t)&&null!==i&&"function"==typeof i.toJSON?t.toJSON():"object"==typeof t?i1(t,r):void r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(t)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(i,n):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:n.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:iZ}))}return r}function i2(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:iZ})}var i4=class e{constructor(e){this.params=e,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(e){iF({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let r=this.findField(t),a=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:a,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[aW(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:rr(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function i5(e){if(!e._hasPreviewFlag("metrics"))throw new rb("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var i6=class{_client;constructor(e){this._client=e}prometheus(e){return i5(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return i5(this._client),this._client._engine.metrics({format:"json",...e})}};function i9(e,t){let r=aJ(()=>{var e;return{datamodel:{models:i3((e=t).models),enums:i3(e.enums),types:i3(e.types)}}});Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function i3(e){return Object.entries(e).map(([e,t])=>({name:e,...t}))}var i8=new WeakMap,i7="$$PrismaTypedSql",ne=class{constructor(e,t){i8.set(this,{sql:e,values:t}),Object.defineProperty(this,i7,{value:i7})}get sql(){return i8.get(this).sql}get values(){return i8.get(this).values}};function nt(e){return(...t)=>new ne(e,t)}function nr(e){return null!=e&&e[i7]===i7}var na=h(b()),ni=e.r(478500),nn=e.r(687769),ns=h(e.r(902157)),no=h(e.r(750227)),nl=class e{constructor(t,r){if(t.length-1!==r.length)throw 0===t.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let a=r.reduce((t,r)=>t+(r instanceof e?r.values.length:1),0);this.values=Array(a),this.strings=Array(a+1),this.strings[0]=t[0];let i=0,n=0;for(;i<r.length;){let a=r[i++],s=t[i];if(a instanceof e){this.strings[n]+=a.strings[0];let e=0;for(;e<a.values.length;)this.values[n++]=a.values[e++],this.strings[n]=a.strings[e];this.strings[n]+=s}else this.values[n++]=a,this.strings[n]=s}}get sql(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`?${this.strings[t++]}`;return r}get statement(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`:${t}${this.strings[t++]}`;return r}get text(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`$${t}${this.strings[t++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function nu(e,t=",",r="",a=""){if(0===e.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new nl([r,...Array(e.length-1).fill(t),a],e)}function nd(e){return new nl([e],[])}var nc=nd("");function nf(e,...t){return new nl(e,t)}function np(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function nh(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function nm(e){let t=new aB;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}var ng={enumerable:!0,configurable:!0,writable:!0};function ny(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>ng,has:(e,r)=>t.has(r),set:(e,r,a)=>t.add(r)&&Reflect.set(e,r,a),ownKeys:()=>[...t]}}var nv=Symbol.for("nodejs.util.inspect.custom");function nb(e,t){let r=function(e){let t=new Map;for(let r of e)for(let e of r.getKeys())t.set(e,r);return t}(t),a=new Set,i=new Proxy(e,{get(e,t){if(a.has(t))return e[t];let i=r.get(t);return i?i.getPropertyValue(t):e[t]},has(e,t){if(a.has(t))return!0;let i=r.get(t);return i?i.has?.(t)??!0:Reflect.has(e,t)},ownKeys:e=>[...new Set([...n_(Reflect.ownKeys(e),r),...n_(Array.from(r.keys()),r),...a])],set:(e,t,i)=>r.get(t)?.getPropertyDescriptor?.(t)?.writable!==!1&&(a.add(t),Reflect.set(e,t,i)),getOwnPropertyDescriptor(e,t){let a=Reflect.getOwnPropertyDescriptor(e,t);if(a&&!a.configurable)return a;let i=r.get(t);return i?i.getPropertyDescriptor?{...ng,...i?.getPropertyDescriptor(t)}:ng:a},defineProperty:(e,t,r)=>(a.add(t),Reflect.defineProperty(e,t,r)),getPrototypeOf:()=>Object.prototype});return i[nv]=function(){let e={...this};return delete e[nv],e},i}function n_(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function nw(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function nE(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function nS({error:e,user_facing_error:t},r,a){var i,n;let s;return t.error_code?new rg((i=t,n=a,s=i.message,("postgresql"===n||"postgres"===n||"mysql"===n)&&"P2037"===i.error_code&&(s+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),s),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new rv(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}var nR="<unknown>",nT=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nO=/\((\S*)(?::(\d+))(?::(\d+))\)/,nP=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,nx=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,nI=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,nA=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,nk=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,nC=class{getLocation(){return null}},nD=class{_error;constructor(){this._error=Error()}getLocation(){let e=this._error.stack;if(!e)return null;let t=e.split(`
`).reduce(function(e,t){var r,a,i,n,s,o,l=function(e){var t=nT.exec(e);if(!t)return null;var r=t[2]&&0===t[2].indexOf("native"),a=t[2]&&0===t[2].indexOf("eval"),i=nO.exec(t[2]);return a&&null!=i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||nR,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}(t)||(r=t,(a=nP.exec(r))?{file:a[2],methodName:a[1]||nR,arguments:[],lineNumber:+a[3],column:a[4]?+a[4]:null}:null)||function(e){var t=nx.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,a=nI.exec(t[3]);return r&&null!=a&&(t[3]=a[1],t[4]=a[2],t[5]=null),{file:t[3],methodName:t[1]||nR,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}(t)||(i=t,(n=nk.exec(i))?{file:n[2],methodName:n[1]||nR,arguments:[],lineNumber:+n[3],column:n[4]?+n[4]:null}:null)||(s=t,(o=nA.exec(s))?{file:o[3],methodName:o[1]||nR,arguments:[],lineNumber:+o[4],column:o[5]?+o[5]:null}:null);return l&&e.push(l),e},[]).find(e=>{var t;if(!e.file)return!1;let r=(t=e.file,ra.default.sep===ra.default.posix.sep?t:t.split(ra.default.sep).join(ra.default.posix.sep));return"<anonymous>"!==r&&!r.includes("@prisma")&&!r.includes("/packages/client/src/runtime/")&&!r.endsWith("/runtime/binary.js")&&!r.endsWith("/runtime/library.js")&&!r.endsWith("/runtime/edge.js")&&!r.endsWith("/runtime/edge-esm.js")&&!r.startsWith("internal/")&&!e.methodName.includes("new ")&&!e.methodName.includes("getCallSite")&&!e.methodName.includes("Proxy.")&&e.methodName.split(".").length<4});return t&&t.file?{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}:null}};function nN(e){return"minimal"===e?"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new nC:new nD}var nq={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function nU(e={}){return Object.entries(function(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}(e)).reduce((e,[t,r])=>(void 0!==nq[t]?e.select[t]={select:r}:e[t]=r,e),{select:{}})}function nL(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function nj(e={}){let{select:t,...r}=e;return"object"==typeof t?nU({...r,_count:t}):nU({...r,_count:{_all:!0}})}function nM(e={}){let t=nU(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}var nV=e=>Array.isArray(e)?e:e.split("."),nF=(e,t)=>nV(t).reduce((e,t)=>e&&e[t],e),n$=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],nG=["aggregate","count","groupBy"];function nB(e,t){var r,a,i,n;let s,o,l=e._extensions.getAllModelExtensions(t)??{};return nb({},[(r=e,s=i$(a=t),o=Object.keys(a0).concat("count"),{getKeys:()=>o,getPropertyValue(e){var t;let i=t=>i=>{let n=nN(r._errorFormat);return r._createPrismaPromise(o=>{let l={args:i,dataPath:[],action:e,model:a,clientMethod:`${s}.${e}`,jsModelName:s,transaction:o,callsite:n};return r._request({...l,...t})},{action:e,args:i,model:a})};return n$.includes(e)?function e(t,r,a,i,n,s){let o=t._runtimeDataModel.models[r].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return l=>{var u,d;let c,f=nN(t._errorFormat),p=void 0===i||void 0===n?[]:[...n,"select",i],h=void 0===s?l??{}:(c=l||!0,nV(p).reduceRight((e,t,r,a)=>Object.assign({},nF(s,a.slice(0,r)),{[t]:e}),c)),m=a({dataPath:p,callsite:f})(h),g=(u=t,d=r,u._runtimeDataModel.models[d].fields.filter(e=>"object"===e.kind).map(e=>e.name));return new Proxy(m,{get:(r,i)=>g.includes(i)?e(t,o[i].type,a,i,p,h):r[i],...ny([...g,...Object.getOwnPropertyNames(m)])})}}(r,a,i):(t=e,nG.includes(t))?"aggregate"===e?e=>i({action:"aggregate",unpacker:nL(e),argsMapper:nU})(e):"count"===e?e=>i({action:"count",unpacker:function(e={}){return"object"==typeof e.select?t=>nL(e)(t)._count:t=>nL(e)(t)._count._all}(e),argsMapper:nj})(e):"groupBy"===e?e=>i({action:"groupBy",unpacker:function(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}(e),argsMapper:nM})(e):void 0:i({})}}),(i=e,n=t,nm(nh("fields",()=>{let e,t=i._runtimeDataModel.models[n];return new Proxy({},{get(t,r){if(r in t||"symbol"==typeof r)return t[r];let a=e[r];if(a)return new iT(n,r,a.type,a.isList,"enum"===a.kind)},...ny(Object.keys(e=function(e,t){let r={};for(let a of e)r[a[t]]=a;return r}(t.fields.filter(e=>!e.relationName),"name")))})}))),np(l),nh("name",()=>t),nh("$name",()=>t),nh("$parent",()=>e._appliedParent)])}var nW=Symbol();function nJ(e){var t,r;let a,i,n,s,o=[(a=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((t=e)._originalClient)))],{getKeys:()=>a,getPropertyValue:e=>t[e]}),(n=(i=Object.keys((r=e)._runtimeDataModel.models)).map(i$),s=[...new Set(i.concat(n))],nm({getKeys:()=>s,getPropertyValue(e){let t=e.replace(/^./,e=>e.toUpperCase());return void 0!==r._runtimeDataModel.models[t]?nB(r,t):void 0!==r._runtimeDataModel.models[e]?nB(r,e):void 0},getPropertyDescriptor(e){if(!n.includes(e))return{enumerable:!1}}})),nh(nW,()=>e),nh("$parent",()=>e._appliedParent)],l=e._extensions.getAllClientExtensions();return l&&o.push(np(l)),nb(e,o)}function nH(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return nJ(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$use:{value:void 0},$on:{value:void 0}}))}function nK({visitor:e,result:t,args:r,runtimeDataModel:a,modelName:i}){if(Array.isArray(t)){for(let n=0;n<t.length;n++)t[n]=nK({result:t[n],args:r,modelName:i,runtimeDataModel:a,visitor:e});return t}let n=e(t,i,r)??t;return r.include&&nz({includeOrSelect:r.include,result:n,parentModelName:i,runtimeDataModel:a,visitor:e}),r.select&&nz({includeOrSelect:r.select,result:n,parentModelName:i,runtimeDataModel:a,visitor:e}),n}function nz({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:a,visitor:i}){for(let[n,s]of Object.entries(e)){if(!s||null==t[n]||iX(s))continue;let e=a.models[r].fields.find(e=>e.name===n);if(!e||"object"!==e.kind||!e.relationName)continue;let o="object"==typeof s?s:{};t[n]=nK({visitor:i,result:t[n],args:o,modelName:e.type,runtimeDataModel:a})}}var nQ=["$connect","$disconnect","$on","$transaction","$use","$extends"];function nX(e){if("object"!=typeof e||null==e||e instanceof iI||iO(e))return e;if(aX(e))return new a$(e.toFixed());if(az(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=nX(e[t]);return r}if("object"==typeof e){let t={};for(let r in e)"__proto__"===r?Object.defineProperty(t,r,{value:nX(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=nX(e[r]);return t}rr(e,"Unknown value")}var nY=e=>e;function nZ(e=nY,t=nY){return r=>e(t(r))}var n0=eS("prisma:client"),n1={Vercel:"vercel","Netlify CI":"netlify"},n2=()=>globalThis.process?.release?.name==="node",n4=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,n5=()=>!!globalThis.Deno,n6=()=>"object"==typeof globalThis.Netlify,n9=()=>"object"==typeof globalThis.EdgeRuntime,n3=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",n8={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function n7(){let e=[[n6,"netlify"],[n9,"edge-light"],[n3,"workerd"],[n5,"deno"],[n4,"bun"],[n2,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??"";return{id:e,prettyName:n8[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var se=h(e.r(902157)),st=h(e.r(750227));function sr(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${function(e){let{generator:t,generatorBinaryTargets:r,runtimeBinaryTarget:a}=e,i=[...r,{fromEnvVar:null,value:a}];return String(new t2({...t,binaryTargets:i}))}(e)}`}function sa(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function si(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(e=>`  ${e}`).join(`
`)}`}function sn(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function ss(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}var so=eS("prisma:client:engines:resolveEnginePath");async function sl(e,t){let r={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(void 0!==r)return r;let{enginePath:a,searchedLocations:i}=await su(e,t);if(so("enginePath",a),void 0!==a&&"binary"===e&&function(e){let t=tX.default.statSync(e),r=64|t.mode|9;if(t.mode===r)return tY(`Execution permissions of ${e} are fine`);let a=r.toString(8).slice(-3);tY(`Have to call chmodPlusX on ${e}`),tX.default.chmodSync(e,a)}(a),void 0!==a)return t.prismaPath=a;let n=await te(),s=t.generator?.binaryTargets??[],o=s.some(e=>e.native),l=!s.some(e=>e.value===n),u=null==="/ROOT/src/generated/prisma/runtime/library.js".match(RegExp("runtime[\\\\/]library\\.m?js$")),d={searchedLocations:i,generatorBinaryTargets:s,generator:t.generator,runtimeBinaryTarget:n,queryEngineName:sd(e,n),expectedLocation:st.default.relative(process.cwd(),t.dirname),errorStack:Error().stack};throw new rm(o&&l?function(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:r}=e,a=r.find(e=>e.native);return`${sa(e)}

This happened because Prisma Client was generated for "${a?.value??"unknown"}", but the actual deployment required "${t}".
${sr(e)}

${si(e)}`}(d):l?function(e){let{runtimeBinaryTarget:t}=e;return`${sa(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${sr(e)}

${si(e)}`}(d):u?function(e){let{queryEngineName:t}=e;return`${sa(e)}${ss(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${sn("engine-not-found-bundler-investigation")}

${si(e)}`}(d):function(e){let{queryEngineName:t}=e;return`${sa(e)}${ss(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${sn("engine-not-found-tooling-investigation")}

${si(e)}`}(d),t.clientVersion)}async function su(e,t){let r=await te(),a=[],i=[t.dirname,st.default.resolve("/ROOT/src/generated/prisma/runtime",".."),t.generator?.output?.value??"/ROOT/src/generated/prisma/runtime",st.default.resolve("/ROOT/src/generated/prisma/runtime","../../../.prisma/client"),"/tmp/prisma-engines",t.cwd];for(let t of("/ROOT/src/generated/prisma/runtime/library.js".includes("resolveEnginePath")&&i.push(tQ.default.join("/ROOT/src/generated/prisma/runtime","../")),i)){let i=sd(e,r),n=st.default.join(t,i);if(a.push(t),se.default.existsSync(n))return{enginePath:n,searchedLocations:a}}return{enginePath:void 0,searchedLocations:a}}function sd(e,t){return"library"===e?t.includes("windows")?`query_engine-${t}.dll.node`:t.includes("darwin")?`${eT}-${t}.dylib.node`:`${eT}-${t}.so.node`:`query-engine-${t}${"windows"===t?".exe":""}`}var sc=h(R()),sf=h(P());function sp(e){return"DriverAdapterError"===e.name&&"object"==typeof e.cause}function sh(e){return{ok:!0,value:e,map:t=>sh(t(e)),flatMap:t=>t(e)}}function sm(e){return{ok:!1,error:e,map:()=>sm(e),flatMap:()=>sm(e)}}var sg=eS("driver-adapter-utils"),sy=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;void 0!==this.registeredErrors[t];)t++;return this.registeredErrors[t]={error:e},t}},sv=(e,t=new sy)=>{var r,a;let i={adapterName:e.adapterName,errorRegistry:t,queryRaw:s_(t,e.queryRaw.bind(e)),executeRaw:s_(t,e.executeRaw.bind(e)),executeScript:s_(t,e.executeScript.bind(e)),dispose:s_(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...r)=>(await s_(t,e.startTransaction.bind(e))(...r)).map(e=>sb(t,e))};return e.getConnectionInfo&&(r=t,a=e.getConnectionInfo.bind(e),i.getConnectionInfo=(...e)=>{try{return sh(a(...e))}catch(e){if(sg("[error@wrapSync]",e),sp(e))return sm(e.cause);return sm({kind:"GenericJs",id:r.registerNewError(e)})}}),i},sb=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:s_(e,t.queryRaw.bind(t)),executeRaw:s_(e,t.executeRaw.bind(t)),commit:s_(e,t.commit.bind(t)),rollback:s_(e,t.rollback.bind(t))});function s_(e,t){return async(...r)=>{try{return sh(await t(...r))}catch(t){if(sg("[error@wrapAsync]",t),sp(t))return sm(t.cause);return sm({kind:"GenericJs",id:e.registerNewError(t)})}}}function sw({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:a}){let i,n=Object.keys(e)[0],s=e[n]?.url,o=t[n]?.url;if(void 0===n?i=void 0:o?i=o:s?.value?i=s.value:s?.fromEnvVar&&(i=r[s.fromEnvVar]),s?.fromEnvVar!==void 0&&void 0===i)throw new rm(`error: Environment variable not found: ${s.fromEnvVar}.`,a);if(void 0===i)throw new rm("error: Missing URL environment variable, value, or override.",a);return i}var sE=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},sS=class extends sE{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function sR(e,t){return{...e,isRetryable:t}}var sT=class extends sS{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",sR(e,!0))}};rf(sT,"ForcedRetryError");var sO=class extends sS{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,sR(t,!1))}};rf(sO,"InvalidDatasourceError");var sP=class extends sS{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,sR(t,!1))}};rf(sP,"NotImplementedYetError");var sx=class extends sS{response;constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let e=`(The request id was: ${r})`;this.message=this.message+" "+e}}},sI=class extends sx{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",sR(e,!0))}};rf(sI,"SchemaMissingError");var sA="This request could not be understood by the server",sk=class extends sx{name="BadRequestError";code="P5000";constructor(e,t,r){super(t||sA,sR(e,!1)),r&&(this.code=r)}};rf(sk,"BadRequestError");var sC=class extends sx{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",sR(e,!0)),this.logs=t}};rf(sC,"HealthcheckTimeoutError");var sD=class extends sx{name="EngineStartupError";code="P5014";logs;constructor(e,t,r){super(t,sR(e,!0)),this.logs=r}};rf(sD,"EngineStartupError");var sN=class extends sx{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",sR(e,!1))}};rf(sN,"EngineVersionNotSupportedError");var sq="Request timed out",sU=class extends sx{name="GatewayTimeoutError";code="P5009";constructor(e,t=sq){super(t,sR(e,!1))}};rf(sU,"GatewayTimeoutError");var sL=class extends sx{name="InteractiveTransactionError";code="P5015";constructor(e,t="Interactive transaction error"){super(t,sR(e,!1))}};rf(sL,"InteractiveTransactionError");var sj=class extends sx{name="InvalidRequestError";code="P5011";constructor(e,t="Request parameters are invalid"){super(t,sR(e,!1))}};rf(sj,"InvalidRequestError");var sM="Requested resource does not exist",sV=class extends sx{name="NotFoundError";code="P5003";constructor(e,t=sM){super(t,sR(e,!1))}};rf(sV,"NotFoundError");var sF="Unknown server error",s$=class extends sx{name="ServerError";code="P5006";logs;constructor(e,t,r){super(t||sF,sR(e,!0)),this.logs=r}};rf(s$,"ServerError");var sG="Unauthorized, check your connection string",sB=class extends sx{name="UnauthorizedError";code="P5007";constructor(e,t=sG){super(t,sR(e,!1))}};rf(sB,"UnauthorizedError");var sW="Usage exceeded, retry again later",sJ=class extends sx{name="UsageExceededError";code="P5008";constructor(e,t=sW){super(t,sR(e,!0))}};async function sH(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let e=JSON.parse(t);if("string"==typeof e)if("InternalDataProxyError"===e)return{type:"DataProxyError",body:e};else return{type:"UnknownTextError",body:e};if("object"==typeof e&&null!==e){if("is_panic"in e&&"message"in e&&"error_code"in e)return{type:"QueryEngineError",body:e};if("EngineNotStarted"in e||"InteractiveTransactionMisrouted"in e||"InvalidRequestError"in e){let t=Object.values(e)[0].reason;return"string"!=typeof t||["SchemaMissing","EngineVersionNotSupported"].includes(t)?{type:"DataProxyError",body:e}:{type:"UnknownJsonError",body:e}}}return{type:"UnknownJsonError",body:e}}catch{return""===t?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function sK(e,t){if(e.ok)return;let r={clientVersion:t,response:e},a=await sH(e);if("QueryEngineError"===a.type)throw new rg(a.body.message,{code:a.body.error_code,clientVersion:t});if("DataProxyError"===a.type){if("InternalDataProxyError"===a.body)throw new s$(r,"Internal Data Proxy error");if("EngineNotStarted"in a.body){if("SchemaMissing"===a.body.EngineNotStarted.reason)return new sI(r);if("EngineVersionNotSupported"===a.body.EngineNotStarted.reason)throw new sN(r);if("EngineStartupError"in a.body.EngineNotStarted.reason){let{msg:e,logs:t}=a.body.EngineNotStarted.reason.EngineStartupError;throw new sD(r,e,t)}if("KnownEngineStartupError"in a.body.EngineNotStarted.reason){let{msg:e,error_code:r}=a.body.EngineNotStarted.reason.KnownEngineStartupError;throw new rm(e,t,r)}if("HealthcheckTimeout"in a.body.EngineNotStarted.reason){let{logs:e}=a.body.EngineNotStarted.reason.HealthcheckTimeout;throw new sC(r,e)}}if("InteractiveTransactionMisrouted"in a.body)throw new sL(r,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[a.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in a.body)throw new sj(r,a.body.InvalidRequestError.reason)}if(401===e.status||403===e.status)throw new sB(r,sz(sG,a));if(404===e.status)return new sV(r,sz(sM,a));if(429===e.status)throw new sJ(r,sz(sW,a));if(504===e.status)throw new sU(r,sz(sq,a));if(e.status>=500)throw new s$(r,sz(sF,a));if(e.status>=400)throw new sk(r,sz(sA,a))}function sz(e,t){return"EmptyError"===t.type?e:`${e}: ${JSON.stringify(t)}`}rf(sJ,"UsageExceededError");var sQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function sX(e){return new Date(1e3*e[0]+e[1]/1e6)}var sY=class extends sS{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:
${e}`,sR(t,!0))}};async function sZ(e,t,r=e=>e){let{clientVersion:a,...i}=t,n=r(fetch);try{return await n(e,i)}catch(e){throw new sY(e.message??"Unknown error",{clientVersion:a,cause:e})}}rf(sY,"RequestError");var s0=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,s1=eS("prisma:client:dataproxyEngine");async function s2(e,t){let r=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&"0.0.0"!==r&&"in-memory"!==r)return r;let[a,i]=r?.split("-")??[];if(void 0===i&&s0.test(a))return a;if(void 0!==i||"0.0.0"===r||"in-memory"===r){var n;let e,[t]="6.11.1-1.f40f79ec31188888a2e33acda0ecc8fd10a853a9".split("-")??[],[a,i,s]=t.split("."),o=(n=`<=${a}.${i}.${s}`,encodeURI(`https://unpkg.com/prisma@${n}/package.json`)),l=await sZ(o,{clientVersion:r});if(!l.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${l.status} ${l.statusText}, response body: ${await l.text()||"<empty body>"}`);let u=await l.text();s1("length of body fetched from unpkg.com",u.length);try{e=JSON.parse(u)}catch(e){throw console.error("JSON.parse error: body fetched from unpkg.com: ",u),e}return e.version}throw new sP("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:r})}async function s4(e,t){let r=await s2(e,t);return s1("version",r),r}var s5,s6=eS("prisma:client:dataproxyEngine"),s9=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:a,engineHash:i}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=a,this.engineHash=i}build({traceparent:e,interactiveTransaction:t}={}){let r={Authorization:`Bearer ${this.apiKey}`,"Prisma-Engine-Hash":this.engineHash};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-transaction-id"]=t.id);let a=this.buildCaptureSettings();return a.length>0&&(r["X-capture-telemetry"]=a.join(", ")),r}buildCaptureSettings(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}},s3=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){(function(e){if(e.generator?.previewFeatures.some(e=>e.toLowerCase().includes("metrics")))throw new rm("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)})(e),this.config=e,this.env={...e.env,..."u">typeof process?process.env:{}},this.inlineSchema=function(e){let t=new TextEncoder().encode(e),r="",a=t.byteLength,i=a%3,n=a-i,s,o,l,u,d;for(let e=0;e<n;e+=3)s=(0xfc0000&(d=t[e]<<16|t[e+1]<<8|t[e+2]))>>18,o=(258048&d)>>12,l=(4032&d)>>6,u=63&d,r+=sQ[s]+sQ[o]+sQ[l]+sQ[u];return 1==i?(s=(252&(d=t[n]))>>2,o=(3&d)<<4,r+=sQ[s]+sQ[o]+"=="):2==i&&(s=(64512&(d=t[n]<<8|t[n+1]))>>10,o=(1008&d)>>4,l=(15&d)<<2,r+=sQ[s]+sQ[o]+sQ[l]+"="),r}(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.headerBuilder=new s9({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel,logQueries:this.config.logQueries,engineHash:this.engineHash}),this.protocol=!function(e){if(!t0(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")}(t)?"https":"http",this.remoteClientVersion=await s4(this.host,this.config),s6("host",this.host),s6("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(e=>{switch(e.level){case"debug":case"trace":s6(e);break;case"error":case"warn":case"info":this.logEmitter.emit(e.level,{timestamp:sX(e.timestamp),message:e.attributes.message??"",target:e.target});break;case"query":this.logEmitter.emit("query",{query:e.attributes.query??"",timestamp:sX(e.timestamp),duration:e.attributes.duration_ms??0,params:e.attributes.params??"",target:e.target});break;default:e.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}://${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){return this.tracingHelper.runInChildSpan({name:"schemaUpload",internal:!0},async()=>{let e=await sZ(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});e.ok||s6("schema response status",e.status);let t=await sK(e,this.clientVersion);if(t)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${t.message}`,timestamp:new Date,target:""}),t;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:a}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:a})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:a}){let i=r?.kind==="itx"?r.options:void 0,n=nE(e,r);return(await this.requestInternal({body:n,customDataProxyFetch:a,interactiveTransaction:i,traceparent:t})).map(e=>(e.extensions&&this.propagateResponseExtensions(e.extensions),"errors"in e?this.convertProtocolErrorsToClientError(e.errors):e))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:a}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let n=a?`${a.payload.endpoint}/graphql`:await this.url("graphql");i(n);let s=await sZ(n,{method:"POST",headers:this.headerBuilder.build({traceparent:t,interactiveTransaction:a}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);s.ok||s6("graphql response status",s.status),await this.handleError(await sK(s,this.clientVersion));let o=await s.json();if(o.extensions&&this.propagateResponseExtensions(o.extensions),"errors"in o)throw this.convertProtocolErrorsToClientError(o.errors);return"batchResult"in o?o.batchResult:o}})}async transaction(e,t,r){return this.withRetry({actionGerund:`${{start:"starting",commit:"committing",rollback:"rolling back"}[e]} transaction`,callback:async({logHttpCall:a})=>{if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),i=await this.url("transaction/start");a(i);let n=await sZ(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:e,clientVersion:this.clientVersion});await this.handleError(await sK(n,this.clientVersion));let s=await n.json(),{extensions:o}=s;return o&&this.propagateResponseExtensions(o),{id:s.id,payload:{endpoint:s["data-proxy"].endpoint}}}{let i=`${r.payload.endpoint}/${e}`;a(i);let n=await sZ(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await sK(n,this.clientVersion));let{extensions:s}=await n.json();s&&this.propagateResponseExtensions(s);return}}})}getURLAndAPIKey(){let e={clientVersion:this.clientVersion},t=Object.keys(this.inlineDatasources)[0],r=sw({inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources,clientVersion:this.clientVersion,env:this.env}),a;try{a=new URL(r)}catch{throw new sO(`Error validating datasource \`${t}\`: the URL must start with the protocol \`prisma://\``,e)}let{protocol:i,searchParams:n}=a;if("prisma:"!==i&&i!==tZ)throw new sO(`Error validating datasource \`${t}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,e);let s=n.get("api_key");if(null===s||s.length<1)throw new sO(`Error validating datasource \`${t}\`: the URL must contain a valid API key`,e);return{apiKey:s,url:a}}metrics(){throw new sP("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=e=>{this.logEmitter.emit("info",{message:`Calling ${e} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(a){if(!(a instanceof sS)||!a.isRetryable)throw a;if(t>=3)throw a instanceof sT?a.cause:a;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/3 failed for ${e.actionGerund}: ${a.message??"(unknown)"}`,timestamp:new Date,target:""});let r=await function(e){let t=50*Math.pow(2,e),r=Math.ceil(Math.random()*t)-Math.ceil(t/2),a=t+r;return new Promise(e=>setTimeout(()=>e(a),a))}(t);this.logEmitter.emit("warn",{message:`Retrying after ${r}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof sI)throw await this.uploadSchema(),new sT({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return 1===e.length?nS(e[0],this.config.clientVersion,this.config.activeProvider):new rv(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw Error("Method not implemented.")}},s8=h(e.r(660526)),s7=h(e.r(750227)),oe=Symbol("PrismaLibraryEngineCache"),ot={async loadLibrary(e){let t=await tt(),r=await sl("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>(function(e){let t,r=(void 0===(t=globalThis)[oe]&&(t[oe]={}),t[oe]);if(void 0!==r[e])return r[e];let a=s7.default.toNamespacedPath(e),i={exports:{}},n=0;return"win32"!==process.platform&&(n=s8.default.constants.dlopen.RTLD_LAZY|s8.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(i,a,n),r[e]=i.exports,i.exports})(r))}catch(d){var a;let i,n,s,o,l,u;throw new rm((i=(a={e:d,platformInfo:t,id:r}).e,n=e=>`Prisma cannot find the required \`${e}\` system library in your system`,s=i.message.includes("cannot open shared object file"),o=`Please refer to the documentation about Prisma's system requirements: ${tH("https://pris.ly/d/system-requirements","https://pris.ly/d/system-requirements",{fallback:z})}`,l=`Unable to require(\`${H(a.id)}\`).`,u=ez({message:i.message,code:i.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:e})=>s&&e.includes("libz"),()=>`${n("libz")}. Please install it and try again.`).when(({message:e})=>s&&e.includes("libgcc_s"),()=>`${n("libgcc_s")}. Please install it and try again.`).when(({message:e})=>s&&e.includes("libssl"),()=>{let e=a.platformInfo.libssl?`openssl-${a.platformInfo.libssl}`:"openssl";return`${n("libssl")}. Please install ${e} and try again.`}).when(({message:e})=>e.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${o}`).when(({message:e})=>"linux"===a.platformInfo.platform&&e.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${a.platformInfo.originalDistro} on (${a.platformInfo.archFromUname}) which uses the \`${a.platformInfo.binaryTarget}\` binaryTarget by default. ${o}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${o}`),`${l}
${u}

Details: ${i.message}`),e.clientVersion)}}},or={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:a}=e;if(void 0===r)throw new rm(`The \`adapter\` option for \`PrismaClient\` is required in this context (${n7().prettyName})`,t);if(void 0===a)throw new rm("WASM engine was unexpectedly `undefined`",t);return void 0===s5&&(s5=(async()=>{let e=await a.getRuntime(),r=await a.getQueryEngineWasmModule();if(null==r)throw new rm("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let i=new WebAssembly.Instance(r,{"./query_engine_bg.js":e}),n=i.exports.__wbindgen_start;return e.__wbg_set_wasm(i.exports),n(),e.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await s5}}},oa=eS("prisma:client:libraryEngine"),oi=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm","native"],on=1n,os=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??ot,void 0!==e.engineWasm&&(this.libraryLoader=t??or),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],a=e.overrideDatasources[r]?.url;void 0!==r&&void 0!==a&&(this.datasourceOverrides={[r]:a}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r,a=(r=on++,on>0xffffffffffffffffn&&(on=1n),r).toString();try{return await e(...t,a)}finally{if(this.tracingHelper.isEnabled()){let e=await this.engine?.trace(a);if(e){let t=JSON.parse(e);this.tracingHelper.dispatchEngineSpans(t.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){var a;await this.start();let i=await this.adapterPromise,n=JSON.stringify(t),s;if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});s=await this.engine?.startTransaction(e,n)}else"commit"===e?s=await this.engine?.commitTransaction(r.id,n):"rollback"===e&&(s=await this.engine?.rollbackTransaction(r.id,n));let o=this.parseEngineResponse(s);if("object"==typeof(a=o)&&null!==a&&void 0!==a.error_code){let e=this.getExternalAdapterError(o,i?.errorRegistry);throw e?e.error:new rg(o.message,{code:o.error_code,clientVersion:this.config.clientVersion,meta:o.meta})}if("string"==typeof o.message)throw new rv(o.message,{clientVersion:this.config.clientVersion});return o}async instantiateLibrary(){let e;if(oa("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;(e=process.env.PRISMA_QUERY_ENGINE_LIBRARY)&&eR.default.existsSync(e)||process.arch,this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>te());if(!oi.includes(e))throw new rm(`Unknown ${ee("PRISMA_QUERY_ENGINE_LIBRARY")} ${ee(J(e))}. Possible binaryTargets: ${et(oi.join(", "))} or a path to the query engine library.
You may have to run ${et("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new rv("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new rv("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(sv));let t=await this.adapterPromise;t&&oa("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},t=>{e.deref()?.logger(t)},t))}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new rm(e.message,this.config.clientVersion,e.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown","query"===t.item_type&&"query"in t?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):"level"in t&&"error"===t.level&&"PANIC"===t.message?this.loggerRustPanic=new ry(oo(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return oa(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{oa("library starting");try{let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(e)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(sv)),await this.adapterPromise,oa("library started")}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new rm(e.message,this.config.clientVersion,e.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return oa("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(e=>setImmediate(e)),oa("library stopping");let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(e)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,oa("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){oa(`sending request, this.libraryStarted: ${this.libraryStarted}`);let a=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start();let e=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(i,a,r?.id),this.lastQuery=i;let t=this.parseEngineResponse(await this.executingQueryPromise);if(t.errors)throw 1===t.errors.length?this.buildQueryError(t.errors[0],e?.errorRegistry):new rv(JSON.stringify(t.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:t}}catch(t){if(t instanceof rm)throw t;if("GenericFailure"===t.code&&t.message?.startsWith("PANIC:"))throw new ry(oo(this,t.message),this.config.clientVersion);let e=this.parseRequestError(t.message);throw"string"==typeof e?t:new rv(`${e.message}
${e.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){oa("requestBatch");let a=nE(e,t);await this.start();let i=await this.adapterPromise;this.lastQuery=JSON.stringify(a),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),function(e){if(e?.kind==="itx")return e.options.id}(t));let n=await this.executingQueryPromise,s=this.parseEngineResponse(n);if(s.errors)throw 1===s.errors.length?this.buildQueryError(s.errors[0],i?.errorRegistry):new rv(JSON.stringify(s.errors),{clientVersion:this.config.clientVersion});let{batchResult:o,errors:l}=s;if(Array.isArray(o))return o.map(e=>e.errors&&e.errors.length>0?this.loggerRustPanic??this.buildQueryError(e.errors[0],i?.errorRegistry):{data:e});throw l&&1===l.length?Error(l[0].error):Error(JSON.stringify(s))}buildQueryError(e,t){if(e.user_facing_error.is_panic)return new ry(oo(this,e.user_facing_error.message),this.config.clientVersion);let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:nS(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if("P2036"===e.error_code&&t){let r=e.meta?.id;rt("number"==typeof r,"Malformed external JS error received from the engine");let a=t.consumeError(r);return rt(a,"External error with reported id was not registered"),a}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return"prometheus"===e.format?t:this.parseEngineResponse(t)}};function oo(e,t){return function({version:e,binaryTarget:t,title:r,description:a,engineVersion:i,database:n,query:s}){var o;let l=function(e=7500){let t=ev.map(([e,...t])=>`${e} ${t.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}(6e3-(s?.length??0)),u=(0,sc.default)(l).split(`
`).map(e=>e.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`),d=a?`# Description
\`\`\`
${a}
\`\`\``:"",c=function({title:e,user:t="prisma",repo:r="prisma",template:a="bug_report.yml",body:i}){return(0,sf.default)({user:t,repo:r,template:a,title:e,body:i})}({title:r,body:(0,sc.default)(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${n?.padEnd(19)}|

${d}

## Logs
\`\`\`
${u}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s&&(o=s)?o.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,e=>`${e[0]}5`):""}
\`\`\`
`)});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${z(c)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}function ol({generator:e}){return e?.previewFeatures??[]}var ou=e=>({command:e});function od(e){try{return oc(e,"fast")}catch{return oc(e,"slow")}}function oc(e,t){return JSON.stringify(e.map(e=>(function e(t,r){var a;if(Array.isArray(t))return t.map(t=>e(t,r));if("bigint"==typeof t)return{prisma__type:"bigint",prisma__value:t.toString()};if(az(t))return{prisma__type:"date",prisma__value:t.toJSON()};if(a$.isDecimal(t))return{prisma__type:"decimal",prisma__value:t.toJSON()};if(Buffer.isBuffer(t))return{prisma__type:"bytes",prisma__value:t.toString("base64")};if((a=t)instanceof ArrayBuffer||a instanceof SharedArrayBuffer||"object"==typeof a&&null!==a&&("ArrayBuffer"===a[Symbol.toStringTag]||"SharedArrayBuffer"===a[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:Buffer.from(t).toString("base64")};if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:a}=t;return{prisma__type:"bytes",prisma__value:Buffer.from(e,r,a).toString("base64")}}return"object"==typeof t&&"slow"===r?of(t):t})(e,t)))}function of(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(op);let t={};for(let r of Object.keys(e))t[r]=op(e[r]);return t}function op(e){return"bigint"==typeof e?e.toString():of(e)}var oh=/^(\s*alter\s)/i,om=eS("prisma:client");function og(e,t,r,a){if(("postgresql"===e||"cockroachdb"===e)&&r.length>0&&oh.exec(t))throw Error(`Running ALTER using ${a} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var oy=({clientMethod:e,activeProvider:t})=>r=>{let a="",i;if(nr(r))a=r.sql,i={values:od(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[e,...t]=r;a=e,i={values:od(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":a=r.sql,i={values:od(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":a=r.text,i={values:od(r.values),__prismaRawParameters__:!0};break;case"sqlserver":a=r.strings.reduce((e,t,r)=>`${e}@P${r}${t}`),i={values:od(r.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return i?.values?om(`prisma.${e}(${a}, ${i.values})`):om(`prisma.${e}(${a})`),{query:a,parameters:i}},ov={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new nl(t,r)}},ob={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function o_(e){return function(t,r){let a,i=(r=e)=>{try{return void 0===r||r?.kind==="itx"?a??=ow(t(r)):ow(t(r))}catch(e){return Promise.reject(e)}};return{get spec(){return r},then:(e,t)=>i().then(e,t),catch:e=>i().catch(e),finally:e=>i().finally(e),requestTransaction(e){let t=i(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function ow(e){return"function"==typeof e.then?e:Promise.resolve(e)}var oE=tK.split(".")[0],oS={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},oR=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${oE}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??oS}},oT=class{_middlewares=[];use(e){this._middlewares.push(e)}get(e){return this._middlewares[e]}has(e){return!!this._middlewares[e]}length(){return this._middlewares.length}},oO=h(R());function oP(e){return"number"==typeof e.batchRequestIdx}function ox(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return"object"==typeof r&&null!==r?`(${t} ${ox(r)})`:t}).join(" ")})`}var oI={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0},oA=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,a)=>{this.batches[t].push({request:e,resolve:r,reject:a})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(e);else for(let r=0;r<t.length;r++){let a=e[r];a instanceof Error?t[r].reject(a):t[r].resolve(a)}}).catch(e=>{for(let r=0;r<t.length;r++)t[r].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function ok(e){let t=[],r=function(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}(e);for(let a=0;a<e.rows.length;a++){let i=e.rows[a],n={...r};for(let t=0;t<i.length;t++)n[e.columns[t]]=function e(t,r){if(null===r)return r;switch(t){case"bigint":return BigInt(r);case"bytes":{let{buffer:e,byteOffset:t,byteLength:a}=Buffer.from(r,"base64");return new Uint8Array(e,t,a)}case"decimal":return new a$(r);case"datetime":case"date":return new Date(r);case"time":return new Date(`1970-01-01T${r}Z`);case"bigint-array":return r.map(t=>e("bigint",t));case"bytes-array":return r.map(t=>e("bytes",t));case"decimal-array":return r.map(t=>e("decimal",t));case"datetime-array":return r.map(t=>e("datetime",t));case"date-array":return r.map(t=>e("date",t));case"time-array":return r.map(t=>e("time",t));default:return r}}(e.types[t],i[t]);t.push(n)}return t}var oC=eS("prisma:client:request_handler"),oD=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new oA({batchLoader:function(e){return t=>{let r={requests:t},a=t[0].extensions.getAllBatchQueryCallbacks();return a.length?function e(t,r,a,i){if(a===r.length)return i(t);let n=t.customDataProxyFetch,s=t.requests[0].transaction;return r[a]({args:{queries:t.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:s?{isolationLevel:"batch"===s.kind?s.isolationLevel:void 0}:void 0},__internalParams:t,query(s,o=t){let l=o.customDataProxyFetch;return o.customDataProxyFetch=nZ(n,l),e(o,r,a+1,i)}})}(r,a,0,e):e(r)}}(async({requests:e,customDataProxyFetch:t})=>{let{transaction:r,otelParentCtx:a}=e[0],i=e.map(e=>e.protocolQuery),n=this.client._tracingHelper.getTraceParent(a),s=e.some(e=>oI[e.protocolQuery.action]);return(await this.client._engine.requestBatch(i,{traceparent:n,transaction:function(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:oN(e)};rr(e,"Unknown transaction kind")}}(r),containsWrite:s,customDataProxyFetch:t})).map((t,r)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[r],t)}catch(e){return e}})}),singleLoader:async e=>{let t=e.transaction?.kind==="itx"?oN(e.transaction):void 0,r=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:oI[e.protocolQuery.action],customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,r)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:function(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(ox(e.query.arguments)),t.push(ox(e.query.selection)),t.join("")}(e.protocolQuery),batchOrder:(e,t)=>e.transaction?.kind==="batch"&&t.transaction?.kind==="batch"?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(s){let{clientMethod:t,callsite:r,transaction:a,args:i,modelName:n}=e;this.handleAndLogRequestError({error:s,clientMethod:t,callsite:r,transaction:a,args:i,modelName:n,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let a=r?.data,i=this.unpack(a,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:a,args:i,modelName:n,globalOmit:s}){var o,l,u;if(oC(e),o=e,l=a,oP(o)&&l?.kind==="batch"&&o.batchRequestIdx!==l.index)throw e;e instanceof rg&&("P2009"===(u=e).code||"P2012"===u.code)&&iF({args:i,errors:[function e(t){if("Union"===t.kind)return{kind:"Union",errors:t.errors.map(e)};if(Array.isArray(t.selectionPath)){let[,...e]=t.selectionPath;return{...t,selectionPath:e}}return t}(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:s});let d=e.message;if(r&&(d=a7({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:d})),d=this.sanitizeMessage(d),e.code){let t=n?{modelName:n,...e.meta}:e.meta;throw new rg(d,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new ry(d,this.client._clientVersion);if(e instanceof rv)throw new rv(d,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof rm)throw new rm(d,this.client._clientVersion);if(e instanceof ry)throw new ry(d,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?(0,oO.default)(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let a=Object.keys(e)[0],i=nF(Object.values(e)[0],t.filter(e=>"select"!==e&&"include"!==e)),n="queryRaw"===a?ok(i):aG(i);return r?r(n):n}get[Symbol.toStringTag](){return"RequestHandler"}};function oN(e){return{id:e.id,payload:e.payload}}var oq=h(x()),oU=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};rf(oU,"PrismaClientConstructorValidationError");var oL=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],oj=["pretty","colorless","minimal"],oM=["info","query","warn","error"],oV={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new oU(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,a]of Object.entries(e)){if(!t.includes(r)){let e=oF(r,t)||` Available datasources: ${t.join(", ")}`;throw new oU(`Unknown datasource ${r} provided to PrismaClient constructor.${e}`)}if("object"!=typeof a||Array.isArray(a))throw new oU(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(a&&"object"==typeof a)for(let[t,i]of Object.entries(a)){if("url"!==t)throw new oU(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof i)throw new oU(`Invalid value ${JSON.stringify(i)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&"client"===tz(t.generator))throw new oU('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==e){if(void 0===e)throw new oU('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(!ol(t).includes("driverAdapters"))throw new oU('"adapter" property can only be provided to PrismaClient constructor when "driverAdapters" preview feature is enabled.');if("binary"===tz(t.generator))throw new oU('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&"string"!=typeof e)throw new oU(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new oU(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!oj.includes(e)){let t=oF(e,oj);throw new oU(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new oU(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let r=oF(e,t);throw new oU(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${r}`)}}};if(r&&"object"==typeof r)for(let[t,a]of Object.entries(r))if(e[t])e[t](a);else throw new oU(`Invalid property ${t} for "log" provided to PrismaClient constructor`)}}function t(e){if("string"==typeof e&&!oM.includes(e)){let t=oF(e,oM);throw new oU(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new oU(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(null!=r&&r<=0)throw new oU(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new oU('"omit" option is expected to be an object.');if(null===e)throw new oU('"omit" option can not be `null`');let r=[];for(let[n,s]of Object.entries(e)){var a,i;let e=(a=n,o$((i=t.runtimeDataModel).models,a)??o$(i.types,a));if(!e){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[t,a]of Object.entries(s)){let i=e.fields.find(e=>e.name===t);if(!i){r.push({kind:"UnknownField",modelKey:n,fieldName:t});continue}if(i.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:t});continue}"boolean"!=typeof a&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:t})}}if(r.length>0)throw new oU(function(e,t){let r=ij(e);for(let e of t)switch(e.kind){case"UnknownModel":r.arguments.getField(e.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:a,args:i}=iV(r,"colorless");return`Error validating "omit" option:

${i}

${a}`}(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new oU(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let e=oF(r,t);throw new oU(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function oF(e,t){if(0===t.length||"string"!=typeof e)return"";let r=function(e,t){if(0===t.length)return null;let r=t.map(t=>({value:t,distance:(0,oq.default)(e,t)}));r.sort((e,t)=>e.distance<t.distance?-1:1);let a=r[0];return a.distance<3?a.value:null}(e,t);return r?` Did you mean "${r}"?`:""}function o$(e,t){let r=Object.keys(e).find(e=>aW(e)===t);if(r)return e[r]}var oG=eS("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var oB={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},oW=Symbol.for("prisma.client.transaction.id"),oJ={id:0,nextId(){return++this.id}};function oH(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_middlewares=new oT;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=o_();constructor(t){(function({postinstall:e,ciName:t,clientVersion:r}){if(n0("checkPlatformCaching:postinstall",e),n0("checkPlatformCaching:ciName",t),!0===e&&t&&t in n1){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${n1[t]}-build`;throw console.error(e),new rm(e,r)}})(e=t?.__internal?.configOverride?.(e)??e),t&&function(e,t){for(let[r,a]of Object.entries(e)){if(!oL.includes(r)){let e=oF(r,oL);throw new oU(`Unknown property ${r} provided to PrismaClient constructor.${e}`)}oV[r](a,t)}if(e.datasourceUrl&&e.datasources)throw new oU('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(t,e);let r=new nn.EventEmitter().on("error",()=>{});this._extensions=iW.empty(),this._previewFeatures=ol(e),this._clientVersion=e.clientVersion??"6.11.1",this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=new oR;let a=e.relativeEnvPaths&&{rootEnvPath:e.relativeEnvPaths.rootEnvPath&&no.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&no.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},i;if(t?.adapter){i=t.adapter;let r="postgresql"===e.activeProvider||"cockroachdb"===e.activeProvider?"postgres":e.activeProvider;if(i.provider!==r)throw new rm(`The Driver Adapter \`${i.adapterName}\`, based on \`${i.provider}\`, is not compatible with the provider \`${r}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new rm("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let n=!i&&a&&rl(a,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let a=t??{},s=a.__internal??{},o=!0===s.debug;o&&eS.enable("prisma:client");let l=no.default.resolve(e.dirname,e.relativePath);ns.default.existsSync(l)||(l=e.dirname),oG("dirname",e.dirname),oG("relativePath",e.relativePath),oG("cwd",l);let u=s.engine||{};if(a.errorFormat?this._errorFormat=a.errorFormat:this._errorFormat="minimal",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:l,dirname:e.dirname,enableDebugLogs:o,allowTriggerPanic:u.allowTriggerPanic,prismaPath:u.binaryPath??void 0,engineEndpoint:u.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:a.log&&function(e){return"string"==typeof e?e:e.reduce((e,t)=>{let r="string"==typeof t?t:t.level;return"query"===r?e:e&&("info"===t||"info"===e)?"info":r},void 0)}(a.log),logQueries:a.log&&!!("string"==typeof a.log?"query"===a.log:a.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:n?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:function(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}(a,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:a.transactionOptions?.maxWait??2e3,timeout:a.transactionOptions?.timeout??5e3,isolationLevel:a.transactionOptions?.isolationLevel},logEmitter:r,isBundled:e.isBundled,adapter:i},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:sw,getBatchRequestPayload:nE,prismaGraphQLToJSError:nS,PrismaClientUnknownRequestError:rv,PrismaClientInitializationError:rm,PrismaClientKnownRequestError:rg,debug:eS("prisma:client:accelerateEngine"),engineVersion:na.version,clientVersion:e.clientVersion}},oG("clientVersion",e.clientVersion),this._engine=function({copyEngine:e=!0},t){let r;try{r=sw({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let{ok:a,isUsing:i,diagnostics:n}=function({url:e,adapter:t,copyEngine:r,targetBuildType:a}){let i=[],n=[],s=e=>{let t=e.join(`
`);n.push({_tag:"error",value:t})},o=!!e?.startsWith("prisma://"),l=t0(e),u=!!t,d=o||l;!u&&r&&d&&i.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let c=d||!r;u&&(c||"edge"===a)&&("edge"===a?s(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):r?o&&s(["Prisma Client was configured to use the `adapter` option but the URL was a `prisma://` URL.","Please either use the `prisma://` URL or remove the `adapter` from the Prisma Client constructor."]):s(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let f={accelerate:c,ppg:l,driverAdapters:u};return n.length>0?{ok:!1,diagnostics:{warnings:i,errors:n},isUsing:f}:{ok:!0,diagnostics:{warnings:i},isUsing:f}}({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"library"});for(let e of n.warnings)rh(...e.value);if(!a)throw new rb(n.errors[0].value,{clientVersion:t.clientVersion});let s=tz(t.generator);return i.accelerate?new s3(t):(i.driverAdapters,"library"===s||i.accelerate,new os(t))}(e,this._engineConfig),this._requestHandler=new oD(this,r),a.log)for(let e of a.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{t4.log(`${t4.tags[t]??""}`,e.message||e.query)})}}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=nJ(this)}get[Symbol.toStringTag](){return"PrismaClient"}$use(e){this._middlewares.use(e)}$on(e,t){return"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t),this}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{ev.length=0}}$executeRawInternal(e,t,r,a){let i=this._activeProvider;return this._request({action:"executeRaw",args:r,transaction:e,clientMethod:t,argsMapper:oy({clientMethod:t,activeProvider:i}),callsite:nN(this._errorFormat),dataPath:[],middlewareArgsMapper:a})}$executeRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql){let[a,i]=oK(e,t);return og(this._activeProvider,a.text,a.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(r,"$executeRaw",a,i)}throw new rb("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(r=>(og(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(r,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new rb(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:ou,callsite:nN(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,r,a){let i=this._activeProvider;return this._request({action:"queryRaw",args:r,transaction:e,clientMethod:t,argsMapper:oy({clientMethod:t,activeProvider:i}),callsite:nN(this._errorFormat),dataPath:[],middlewareArgsMapper:a})}$queryRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(r,"$queryRaw",...oK(e,t));throw new rb("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new rb("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(r=>this.$queryRawInternal(r,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){var r;let a=oJ.nextId(),i=function(e,t=()=>{}){let r,a=new Promise(e=>r=e);return{then:i=>(0==--e&&r(t()),i?.(a))}}(e.length);return 0===(r=e.map((e,r)=>{if(e?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let n=t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return e.requestTransaction?.({kind:"batch",id:a,index:r,isolationLevel:n,lock:i})??e})).length?Promise.resolve([]):new Promise((e,t)=>{let a=Array(r.length),i=null,n=!1,s=0,o=()=>{n||++s===r.length&&(n=!0,i?t(i):e(a))},l=e=>{n||(n=!0,t(e))};for(let e=0;e<r.length;e++)r[e].then(t=>{a[e]=t,o()},t=>{oP(t)?t.batchRequestIdx===e?l(t):(i||(i=t),o()):l(t)})})}async _transactionWithCallback({callback:e,options:t}){let r={traceparent:this._tracingHelper.getTraceParent()},a={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},i=await this._engine.transaction("start",r,a),n;try{let t={kind:"itx",...i};n=await e(this._createItxClient(t)),await this._engine.transaction("commit",r,i)}catch(e){throw await this._engine.transaction("rollback",r,i).catch(()=>{}),e}return n}_createItxClient(e){return nb(nJ(nb(this[nW]?this[nW]:this,[nh("_appliedParent",()=>this._appliedParent._createItxClient(e)),nh("_createPrismaPromise",()=>o_(e)),nh(oW,()=>e.id)])),[nw(nQ)])}$transaction(e,t){let r;return r="function"==typeof e?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},r)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??oB,r={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},a={middleware:{name:"middleware",middleware:!0,attributes:{method:"$use"},active:!1},operation:{name:"operation",attributes:{method:r.action,model:r.model,name:r.model?`${r.model}.${r.action}`:r.action}}},i=-1,n=async r=>{let s=this._middlewares.get(++i);if(s)return this._tracingHelper.runInChildSpan(a.middleware,e=>s(r,t=>(e?.end(),n(t))));let{runInTransaction:o,args:l,...u}=r,d={...e,...u};l&&(d.args=t.middlewareArgsToRequestArgs(l)),void 0!==e.transaction&&!1===o&&delete d.transaction;let c=await function(e,t){let{jsModelName:r,action:a,clientMethod:i}=t;if(e._extensions.isEmpty())return e._executeRequest(t);let n=e._extensions.getAllQueryCallbacks(r??"$none",r?a:i);return function e(t,r,a,i=0){return t._createPrismaPromise(n=>{let s=r.customDataProxyFetch;return"transaction"in r&&void 0!==n&&(r.transaction?.kind==="batch"&&r.transaction.lock.then(),r.transaction=n),i===a.length?t._executeRequest(r):a[i]({model:r.model,operation:r.model?r.action:r.clientMethod,args:function(e){var t,r;if(e instanceof nl){return new nl((t=e).strings,t.values)}if(nr(e)){return new ne((r=e).sql,r.values)}if(Array.isArray(e)){let t=[e[0]];for(let r=1;r<e.length;r++)t[r]=nX(e[r]);return t}let a={};for(let t in e)a[t]=nX(e[t]);return a}(r.args??{}),__internalParams:r,query:(n,o=r)=>{let l=o.customDataProxyFetch;return o.customDataProxyFetch=nZ(s,l),o.args=n,e(t,o,a,i+1)}})})}(e,t,n)}(this,d);return d.model?function({result:e,modelName:t,args:r,extensions:a,runtimeDataModel:i,globalOmit:n}){return a.isEmpty()||null==e||"object"!=typeof e||!i.models[t]?e:nK({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(e,t,r)=>{let i=i$(t);return function({result:e,modelName:t,select:r,omit:a,extensions:i}){let n=i.getAllComputedFields(t);if(!n)return e;let s=[],o=[];for(let t of Object.values(n)){if(a){if(a[t.name])continue;let e=t.needs.filter(e=>a[e]);e.length>0&&o.push(nw(e))}else if(r){if(!r[t.name])continue;let e=t.needs.filter(e=>!r[e]);e.length>0&&o.push(nw(e))}(function(e,t){return t.every(t=>Object.prototype.hasOwnProperty.call(e,t))})(e,t.needs)&&s.push(function(e,t){return nm(nh(e.name,()=>e.compute(t)))}(t,nb(e,s)))}return s.length>0||o.length>0?nb(e,[...s,...o]):e}({result:e,modelName:i,select:r.select,omit:r.select?void 0:{...n?.[i],...r.omit},extensions:a})}})}({result:c,modelName:d.model,args:d.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):c};return this._tracingHelper.runInChildSpan(a.operation,()=>new ni.AsyncResource("prisma-client-request").runInAsyncScope(()=>n(r)))}async _executeRequest({args:e,clientMethod:t,dataPath:r,callsite:a,action:i,model:n,argsMapper:s,transaction:o,unpacker:l,otelParentCtx:u,customDataProxyFetch:d}){try{e=s?s(e):e;let c=this._tracingHelper.runInChildSpan({name:"serialize"},()=>i0({modelName:n,runtimeDataModel:this._runtimeDataModel,action:i,args:e,clientMethod:t,callsite:a,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return eS.enabled("prisma:client")&&(oG("Prisma Client call:"),oG(`prisma.${t}(${function(e){if(void 0===e)return"";let t=ij(e);return new ii(0,{colors:il}).write(t).toString()}(e)})`),oG("Generated request:"),oG(JSON.stringify(c,null,2)+`
`)),o?.kind==="batch"&&await o.lock,this._requestHandler.request({protocolQuery:c,modelName:n,action:i,clientMethod:t,dataPath:r,callsite:a,args:e,extensions:this._extensions,transaction:o,unpacker:l,otelParentCtx:u,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:d})}catch(e){throw e.clientVersion=this._clientVersion,e}}$metrics=new i6(this);_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=nH}return t}function oK(e,t){var r;return Array.isArray(r=e)&&Array.isArray(r.raw)?[new nl(e,t),ov]:[e,ob]}var oz=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function oQ(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!oz.has(t))throw TypeError(`Invalid enum value: ${String(t)}`)}})}function oX(e){rl(e,{conflictCheck:"warn"})}},149350,(e,t,r)=>{Object.defineProperty(r,"__esModule",{value:!0});let{PrismaClientKnownRequestError:a,PrismaClientUnknownRequestError:i,PrismaClientRustPanicError:n,PrismaClientInitializationError:s,PrismaClientValidationError:o,getPrismaClient:l,sqltag:u,empty:d,join:c,raw:f,skip:p,Decimal:h,Debug:m,objectEnumValues:g,makeStrictEnum:y,Extensions:v,warnOnce:b,defineDmmfProperty:_,Public:w,getRuntime:E,createParam:S}=e.r(272574),R={};r.Prisma=R,r.$Enums={},R.prismaVersion={client:"6.11.1",engine:"f40f79ec31188888a2e33acda0ecc8fd10a853a9"},R.PrismaClientKnownRequestError=a,R.PrismaClientUnknownRequestError=i,R.PrismaClientRustPanicError=n,R.PrismaClientInitializationError=s,R.PrismaClientValidationError=o,R.Decimal=h,R.sql=u,R.empty=d,R.join=c,R.raw=f,R.validator=w.validator,R.getExtensionContext=v.getExtensionContext,R.defineExtension=v.defineExtension,R.DbNull=g.instances.DbNull,R.JsonNull=g.instances.JsonNull,R.AnyNull=g.instances.AnyNull,R.NullTypes={DbNull:g.classes.DbNull,JsonNull:g.classes.JsonNull,AnyNull:g.classes.AnyNull};let T=e.r(814747);r.Prisma.TransactionIsolationLevel=y({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),r.Prisma.CategoryListScalarFieldEnum={id:"id",category:"category",created_at:"created_at",updated_at:"updated_at",user_id:"user_id"},r.Prisma.FileListScalarFieldEnum={id:"id",category:"category",title:"title",note:"note",content_format:"content_format",doc1:"doc1",entry_date:"entry_date",entry_date_real:"entry_date_real",created_at:"created_at",updated_at:"updated_at",user_id:"user_id",parsing_status:"parsing_status",parsing_error:"parsing_error",parsed_at:"parsed_at"},r.Prisma.DocumentPageScalarFieldEnum={id:"id",file_id:"file_id",page_number:"page_number",image_url:"image_url",width:"width",height:"height",created_at:"created_at"},r.Prisma.FileChunkScalarFieldEnum={id:"id",file_id:"file_id",chunk_index:"chunk_index",content:"content",page_number:"page_number",bbox:"bbox",token_count:"token_count",created_at:"created_at"},r.Prisma.UserScalarFieldEnum={id:"id",username:"username",password_hash:"password_hash",role:"role",is_active:"is_active",last_login:"last_login",created_at:"created_at",email:"email"},r.Prisma.ConversationScalarFieldEnum={id:"id",user_id:"user_id",title:"title",created_at:"created_at",updated_at:"updated_at",last_message_at:"last_message_at",message_count:"message_count",is_pinned:"is_pinned",is_archived:"is_archived",subject_id:"subject_id",chapter_id:"chapter_id"},r.Prisma.ConversationMessageScalarFieldEnum={id:"id",conversation_id:"conversation_id",role:"role",content:"content",sources:"sources",token_count:"token_count",metadata:"metadata",created_at:"created_at"},r.Prisma.AiApiKeyScalarFieldEnum={id:"id",provider:"provider",label:"label",api_key_enc:"api_key_enc",active:"active",priority:"priority",success_count:"success_count",error_count:"error_count",last_used_at:"last_used_at",created_at:"created_at",updated_at:"updated_at"},r.Prisma.AiModelScalarFieldEnum={id:"id",provider:"provider",name:"name",label:"label",active:"active",priority:"priority",created_at:"created_at",updated_at:"updated_at"},r.Prisma.App_settingsScalarFieldEnum={key:"key",value:"value",created_at:"created_at",updated_at:"updated_at"},r.Prisma.SubscriptionPlanScalarFieldEnum={id:"id",name:"name",display_name:"display_name",description:"description",price_monthly:"price_monthly",price_yearly:"price_yearly",razorpay_plan_id_monthly:"razorpay_plan_id_monthly",razorpay_plan_id_yearly:"razorpay_plan_id_yearly",features:"features",limits:"limits",is_active:"is_active",is_default:"is_default",created_at:"created_at",updated_at:"updated_at"},r.Prisma.UserSubscriptionScalarFieldEnum={id:"id",user_id:"user_id",plan_id:"plan_id",razorpay_subscription_id:"razorpay_subscription_id",razorpay_customer_id:"razorpay_customer_id",razorpay_order_id:"razorpay_order_id",status:"status",billing_cycle:"billing_cycle",current_period_start:"current_period_start",current_period_end:"current_period_end",cancel_at_period_end:"cancel_at_period_end",canceled_at:"canceled_at",created_at:"created_at",updated_at:"updated_at"},r.Prisma.UsageTrackingScalarFieldEnum={id:"id",user_id:"user_id",usage_type:"usage_type",count:"count",period_start:"period_start",period_end:"period_end",metadata:"metadata",created_at:"created_at"},r.Prisma.CountryScalarFieldEnum={id:"id",name:"name",currency:"currency",locale:"locale",is_active:"is_active"},r.Prisma.BoardScalarFieldEnum={id:"id",name:"name",country_id:"country_id",state:"state",type:"type",is_active:"is_active",created_at:"created_at",updated_at:"updated_at"},r.Prisma.InstitutionScalarFieldEnum={id:"id",board_id:"board_id",name:"name",type:"type",district:"district",state:"state",license_expiry:"license_expiry",is_active:"is_active",created_at:"created_at"},r.Prisma.ProgramScalarFieldEnum={id:"id",board_id:"board_id",institution_id:"institution_id",name:"name",code:"code",level:"level",duration_years:"duration_years",is_active:"is_active",created_at:"created_at"},r.Prisma.ProfileScalarFieldEnum={id:"id",user_id:"user_id",institution_id:"institution_id",program_id:"program_id",is_premium:"is_premium",last_sync_at:"last_sync_at"},r.Prisma.SubjectScalarFieldEnum={id:"id",program_id:"program_id",name:"name",code:"code",is_active:"is_active",created_at:"created_at",term:"term"},r.Prisma.ChapterScalarFieldEnum={id:"id",subject_id:"subject_id",title:"title",chapter_number:"chapter_number",content_json:"content_json",version_id:"version_id",accessible_boards:"accessible_boards",is_global:"is_global",is_active:"is_active",processing_status:"processing_status",error_message:"error_message",processed_at:"processed_at",created_at:"created_at",updated_at:"updated_at",parsed_at:"parsed_at"},r.Prisma.ChapterChunkScalarFieldEnum={id:"id",chapter_id:"chapter_id",chunk_index:"chunk_index",content:"content",page_number:"page_number",bbox:"bbox",subject_id:"subject_id",created_at:"created_at"},r.Prisma.ChapterChunkBoardScalarFieldEnum={chunk_id:"chunk_id",board_id:"board_id"},r.Prisma.ChapterPageScalarFieldEnum={id:"id",chapter_id:"chapter_id",page_number:"page_number",image_url:"image_url",width:"width",height:"height",created_at:"created_at"},r.Prisma.SystemSettingScalarFieldEnum={id:"id",key:"key",value:"value",type:"type",created_at:"created_at",updated_at:"updated_at"},r.Prisma.QuizScalarFieldEnum={id:"id",user_id:"user_id",subject_id:"subject_id",chapter_id:"chapter_id",title:"title",description:"description",status:"status",score:"score",total_points:"total_points",created_at:"created_at",updated_at:"updated_at",completed_at:"completed_at"},r.Prisma.QuizQuestionScalarFieldEnum={id:"id",quiz_id:"quiz_id",question_text:"question_text",question_type:"question_type",options:"options",correct_answer:"correct_answer",user_answer:"user_answer",is_correct:"is_correct",points:"points",explanation:"explanation",feedback:"feedback"},r.Prisma.QuestionScalarFieldEnum={id:"id",chapter_id:"chapter_id",question_text:"question_text",question_type:"question_type",difficulty:"difficulty",options:"options",correct_answer:"correct_answer",explanation:"explanation",points:"points",is_active:"is_active",created_at:"created_at",updated_at:"updated_at"},r.Prisma.UserPointsScalarFieldEnum={id:"id",user_id:"user_id",points:"points",reason:"reason",metadata:"metadata",created_at:"created_at"},r.Prisma.StudyMaterialScalarFieldEnum={id:"id",chapter_id:"chapter_id",summary:"summary",definitions:"definitions",flashcards:"flashcards",mind_map:"mind_map",video_queries:"video_queries",curated_videos:"curated_videos",created_at:"created_at",updated_at:"updated_at"},r.Prisma.ExamScalarFieldEnum={id:"id",title:"title",description:"description",date:"date",program_id:"program_id",is_active:"is_active",created_at:"created_at",updated_at:"updated_at"},r.Prisma.StreakBadgeScalarFieldEnum={id:"id",name:"name",icon:"icon",min_streak:"min_streak",is_active:"is_active",created_at:"created_at",updated_at:"updated_at"},r.Prisma.UserBadgeScalarFieldEnum={id:"id",user_id:"user_id",badge_id:"badge_id",earned_at:"earned_at"},r.Prisma.LearningSessionScalarFieldEnum={id:"id",user_id:"user_id",chapter_id:"chapter_id",status:"status",current_topic:"current_topic",progress:"progress",created_at:"created_at",updated_at:"updated_at"},r.Prisma.BattleScalarFieldEnum={id:"id",quiz_id:"quiz_id",code:"code",status:"status",created_by:"created_by",created_at:"created_at",started_at:"started_at",ended_at:"ended_at",settings:"settings"},r.Prisma.BattleParticipantScalarFieldEnum={id:"id",battle_id:"battle_id",user_id:"user_id",score:"score",current_q_index:"current_q_index",finished:"finished",joined_at:"joined_at",last_active:"last_active"},r.Prisma.SortOrder={asc:"asc",desc:"desc"},r.Prisma.NullableJsonNullValueInput={DbNull:R.DbNull,JsonNull:R.JsonNull},r.Prisma.JsonNullValueInput={JsonNull:R.JsonNull},r.Prisma.QueryMode={default:"default",insensitive:"insensitive"},r.Prisma.NullsOrder={first:"first",last:"last"},r.Prisma.JsonNullValueFilter={DbNull:R.DbNull,JsonNull:R.JsonNull,AnyNull:R.AnyNull},r.ChapterStatus=r.$Enums.ChapterStatus={PENDING:"PENDING",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED",FAILED:"FAILED"},r.MessageRole=r.$Enums.MessageRole={user:"user",assistant:"assistant"},r.UserRole=r.$Enums.UserRole={admin:"admin",institution:"institution",student:"student"},r.SubscriptionStatus=r.$Enums.SubscriptionStatus={active:"active",canceled:"canceled",past_due:"past_due",trialing:"trialing",incomplete:"incomplete",incomplete_expired:"incomplete_expired"},r.BillingCycle=r.$Enums.BillingCycle={monthly:"monthly",yearly:"yearly"},r.UsageType=r.$Enums.UsageType={file_upload:"file_upload",chat_message:"chat_message",document_export:"document_export",ai_processing:"ai_processing",quiz_generation:"quiz_generation",battle_match:"battle_match",ai_tutor_session:"ai_tutor_session"},r.Provider=r.$Enums.Provider={gemini:"gemini",openai:"openai",anthropic:"anthropic",llamaparse:"llamaparse",openrouter:"openrouter"},r.QuestionType=r.$Enums.QuestionType={MCQ:"MCQ",TRUE_FALSE:"TRUE_FALSE",FILL_IN_BLANK:"FILL_IN_BLANK",SHORT_ANSWER:"SHORT_ANSWER",LONG_ANSWER:"LONG_ANSWER"},r.QuizStatus=r.$Enums.QuizStatus={IN_PROGRESS:"IN_PROGRESS",COMPLETED:"COMPLETED",ABANDONED:"ABANDONED"},r.BattleStatus=r.$Enums.BattleStatus={WAITING:"WAITING",STARTING:"STARTING",IN_PROGRESS:"IN_PROGRESS",COMPLETED:"COMPLETED",ABANDONED:"ABANDONED",EXPIRED:"EXPIRED"},r.Prisma.ModelName={CategoryList:"CategoryList",FileList:"FileList",DocumentPage:"DocumentPage",FileChunk:"FileChunk",user:"user",Conversation:"Conversation",ConversationMessage:"ConversationMessage",AiApiKey:"AiApiKey",AiModel:"AiModel",app_settings:"app_settings",SubscriptionPlan:"SubscriptionPlan",UserSubscription:"UserSubscription",UsageTracking:"UsageTracking",Country:"Country",Board:"Board",Institution:"Institution",Program:"Program",Profile:"Profile",Subject:"Subject",Chapter:"Chapter",ChapterChunk:"ChapterChunk",ChapterChunkBoard:"ChapterChunkBoard",ChapterPage:"ChapterPage",SystemSetting:"SystemSetting",Quiz:"Quiz",QuizQuestion:"QuizQuestion",Question:"Question",UserPoints:"UserPoints",StudyMaterial:"StudyMaterial",Exam:"Exam",StreakBadge:"StreakBadge",UserBadge:"UserBadge",LearningSession:"LearningSession",Battle:"Battle",BattleParticipant:"BattleParticipant"};let O={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"/Users/remruata/projects/ai-exam-prep/src/generated/prisma",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"darwin-arm64",native:!0},{fromEnvVar:null,value:"linux-musl-openssl-3.0.x"},{fromEnvVar:null,value:"rhel-openssl-1.0.x"},{fromEnvVar:null,value:"rhel-openssl-3.0.x"}],previewFeatures:[],sourceFilePath:"/Users/remruata/projects/ai-exam-prep/prisma/schema.prisma",isCustomOutput:!0},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.11.1",engineVersion:"f40f79ec31188888a2e33acda0ecc8fd10a853a9",datasourceNames:["db"],activeProvider:"postgresql",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'generator client {\n  provider      = "prisma-client-js"\n  output        = "../src/generated/prisma"\n  binaryTargets = ["native", "linux-musl-openssl-3.0.x", "rhel-openssl-1.0.x", "rhel-openssl-3.0.x"]\n}\n\ndatasource db {\n  provider  = "postgresql"\n  url       = env("DATABASE_URL")\n  directUrl = env("DATABASE_URL")\n}\n\nmodel CategoryList {\n  id         Int       @id @default(autoincrement())\n  category   String    @db.VarChar(255)\n  created_at DateTime? @default(now()) @db.Timestamptz(6)\n  updated_at DateTime? @default(now()) @db.Timestamptz(6)\n  user_id    Int?\n  user       user?     @relation(fields: [user_id], references: [id], onDelete: Cascade)\n\n  @@index([user_id], map: "idx_category_list_user")\n  @@map("category_list")\n}\n\nmodel FileList {\n  id              Int                      @id @default(autoincrement())\n  category        String\n  title           String\n  note            String?\n  content_format  String?                  @db.VarChar(20)\n  doc1            String?\n  entry_date      String?                  @db.VarChar(50)\n  entry_date_real DateTime?                @db.Date\n  search_vector   Unsupported("tsvector")?\n  created_at      DateTime?                @default(now()) @db.Timestamptz(6)\n  updated_at      DateTime?                @updatedAt @db.Timestamptz(6)\n  semantic_vector Unsupported("vector")?\n  user_id         Int?\n  user            user?                    @relation(fields: [user_id], references: [id], onDelete: Cascade)\n  parsing_status  String?                  @default("pending") @db.VarChar(20) // \'pending\' | \'processing\' | \'completed\' | \'failed\'\n  parsing_error   String?                  @db.Text\n  parsed_at       DateTime?                @db.Timestamptz(6)\n\n  // Relations for Split-Screen Citations\n  pages  DocumentPage[]\n  chunks FileChunk[]\n\n  @@index([category], map: "idx_file_list_category")\n  @@index([entry_date_real], map: "idx_file_list_entry_date")\n  @@index([search_vector], map: "idx_search_vector", type: Gin)\n  @@index([semantic_vector], map: "idx_semantic_vector")\n  @@index([user_id], map: "idx_file_list_user")\n  @@index([parsing_status], map: "idx_file_list_parsing_status")\n  @@map("file_list")\n}\n\n/// Stores visual snapshots of document pages\nmodel DocumentPage {\n  id          Int      @id @default(autoincrement())\n  file_id     Int\n  page_number Int\n  image_url   String // URL to storage (e.g., "/files/101/page_4.jpg")\n  width       Int? // Original width\n  height      Int? // Original height\n  created_at  DateTime @default(now()) @db.Timestamptz(6)\n\n  file FileList @relation(fields: [file_id], references: [id], onDelete: Cascade)\n\n  @@index([file_id, page_number], map: "idx_document_pages_file_page")\n  @@map("document_pages")\n}\n\n/// Stores granular text chunks with layout coordinates\nmodel FileChunk {\n  id              Int                      @id @default(autoincrement())\n  file_id         Int\n  chunk_index     Int\n  content         String\n  page_number     Int?\n  bbox            Json? // [x, y, w, h] in percentage (0-1)\n  token_count     Int?\n  search_vector   Unsupported("tsvector")?\n  semantic_vector Unsupported("vector")?\n  created_at      DateTime                 @default(now()) @db.Timestamptz(6)\n\n  file FileList @relation(fields: [file_id], references: [id], onDelete: Cascade)\n\n  @@index([file_id], map: "idx_file_chunks_file")\n  @@index([search_vector], map: "idx_file_chunks_search_vector", type: Gin)\n  @@index([semantic_vector], map: "idx_file_chunks_vector")\n  @@map("file_chunks")\n}\n\nmodel user {\n  id                    Int                 @id @default(autoincrement())\n  username              String              @unique @db.VarChar(100)\n  password_hash         String?             @db.VarChar(255)\n  role                  UserRole            @default(student)\n  is_active             Boolean?            @default(true)\n  last_login            DateTime?           @db.Timestamptz(6)\n  created_at            DateTime?           @default(now()) @db.Timestamptz(6)\n  email                 String?             @unique @db.VarChar(255)\n  categories            CategoryList[]\n  conversations         Conversation[]\n  files                 FileList[]\n  usage_tracking        UsageTracking[]\n  subscription          UserSubscription?\n  profile               Profile?\n  quizzes               Quiz[]\n  points                UserPoints[]\n  badges                UserBadge[]\n  learning_sessions     LearningSession[]\n  created_battles       Battle[]\n  battle_participations BattleParticipant[]\n\n  @@index([email], map: "idx_user_email")\n}\n\n/// Stores conversation sessions for chat history\nmodel Conversation {\n  id              Int                   @id @default(autoincrement())\n  user_id         Int\n  title           String                @default("New Conversation") @db.VarChar(255)\n  created_at      DateTime              @default(now()) @db.Timestamptz(6)\n  updated_at      DateTime              @updatedAt @db.Timestamptz(6)\n  last_message_at DateTime?             @db.Timestamptz(6)\n  message_count   Int                   @default(0)\n  is_pinned       Boolean               @default(false)\n  is_archived     Boolean               @default(false)\n  subject_id      Int?\n  chapter_id      BigInt?\n  messages        ConversationMessage[]\n  user            user                  @relation(fields: [user_id], references: [id], onDelete: Cascade)\n  subject         Subject?              @relation(fields: [subject_id], references: [id])\n  chapter         Chapter?              @relation(fields: [chapter_id], references: [id])\n\n  @@index([user_id, updated_at(sort: Desc)], map: "idx_conversations_user_updated")\n  @@index([user_id, is_pinned, updated_at(sort: Desc)], map: "idx_conversations_user_pinned")\n  @@index([subject_id])\n  @@index([chapter_id])\n  @@map("conversations")\n}\n\n/// Stores individual messages within conversations\nmodel ConversationMessage {\n  id              Int          @id @default(autoincrement())\n  conversation_id Int\n  role            MessageRole\n  content         String\n  sources         Json?\n  token_count     Json?\n  metadata        Json?\n  created_at      DateTime     @default(now()) @db.Timestamptz(6)\n  conversation    Conversation @relation(fields: [conversation_id], references: [id], onDelete: Cascade)\n\n  @@index([conversation_id, created_at], map: "idx_conversation_messages_conversation")\n  @@map("conversation_messages")\n}\n\n/// Stores encrypted API keys and metadata for AI providers\nmodel AiApiKey {\n  id            Int       @id @default(autoincrement())\n  provider      Provider\n  label         String    @db.VarChar(100)\n  api_key_enc   String\n  active        Boolean   @default(true)\n  priority      Int       @default(0)\n  success_count Int       @default(0)\n  error_count   Int       @default(0)\n  last_used_at  DateTime? @db.Timestamptz(6)\n  created_at    DateTime  @default(now()) @db.Timestamptz(6)\n  updated_at    DateTime  @updatedAt @db.Timestamptz(6)\n\n  @@index([provider, active, priority], map: "idx_ai_api_keys_active_priority")\n  @@map("ai_api_keys")\n}\n\n/// Lists available models per provider, manageable by admin\nmodel AiModel {\n  id         Int      @id @default(autoincrement())\n  provider   Provider\n  name       String   @db.VarChar(100)\n  label      String   @db.VarChar(150)\n  active     Boolean  @default(true)\n  priority   Int      @default(0)\n  created_at DateTime @default(now()) @db.Timestamptz(6)\n  updated_at DateTime @updatedAt @db.Timestamptz(6)\n\n  @@unique([provider, name], map: "uq_ai_model_provider_name")\n  @@index([provider, active, priority], map: "idx_ai_models_active_priority")\n  @@map("ai_models")\n}\n\nmodel app_settings {\n  key        String    @id\n  value      String\n  created_at DateTime? @default(now()) @db.Timestamptz(6)\n  updated_at DateTime? @default(now()) @db.Timestamptz(6)\n}\n\n/// Subscription plans available for users\nmodel SubscriptionPlan {\n  id                       Int                @id @default(autoincrement())\n  name                     String             @unique @db.VarChar(100)\n  display_name             String             @db.VarChar(150)\n  description              String?\n  price_monthly            Decimal            @db.Decimal(10, 2)\n  price_yearly             Decimal?           @db.Decimal(10, 2)\n  razorpay_plan_id_monthly String?            @db.VarChar(255)\n  razorpay_plan_id_yearly  String?            @db.VarChar(255)\n  features                 Json?\n  limits                   Json\n  is_active                Boolean            @default(true)\n  is_default               Boolean            @default(false)\n  created_at               DateTime           @default(now()) @db.Timestamptz(6)\n  updated_at               DateTime           @updatedAt @db.Timestamptz(6)\n  subscriptions            UserSubscription[]\n\n  @@index([is_active, is_default], map: "idx_subscription_plans_active")\n  @@map("subscription_plans")\n}\n\n/// User subscription information\nmodel UserSubscription {\n  id                       Int                @id @default(autoincrement())\n  user_id                  Int                @unique\n  plan_id                  Int\n  razorpay_subscription_id String?            @unique @db.VarChar(255)\n  razorpay_customer_id     String?            @db.VarChar(255)\n  razorpay_order_id        String?            @db.VarChar(255)\n  status                   SubscriptionStatus @default(active)\n  billing_cycle            BillingCycle       @default(monthly)\n  current_period_start     DateTime           @db.Timestamptz(6)\n  current_period_end       DateTime           @db.Timestamptz(6)\n  cancel_at_period_end     Boolean            @default(false)\n  canceled_at              DateTime?          @db.Timestamptz(6)\n  created_at               DateTime           @default(now()) @db.Timestamptz(6)\n  updated_at               DateTime           @updatedAt @db.Timestamptz(6)\n  plan                     SubscriptionPlan   @relation(fields: [plan_id], references: [id])\n  user                     user               @relation(fields: [user_id], references: [id], onDelete: Cascade)\n\n  @@index([status, current_period_end], map: "idx_user_subscriptions_status")\n  @@index([razorpay_subscription_id], map: "idx_user_subscriptions_razorpay")\n  @@map("user_subscriptions")\n}\n\n/// Usage tracking for subscription limits\nmodel UsageTracking {\n  id           Int       @id @default(autoincrement())\n  user_id      Int\n  usage_type   UsageType\n  count        Int       @default(1)\n  period_start DateTime  @db.Timestamptz(6)\n  period_end   DateTime  @db.Timestamptz(6)\n  metadata     Json?\n  created_at   DateTime  @default(now()) @db.Timestamptz(6)\n  user         user      @relation(fields: [user_id], references: [id], onDelete: Cascade)\n\n  @@index([user_id, usage_type, period_start], map: "idx_usage_tracking_user_type")\n  @@index([period_start, period_end], map: "idx_usage_tracking_period")\n  @@map("usage_tracking")\n}\n\n// --- Bharat-Tutor Multi-Tenancy Models ---\n\nmodel Country {\n  id        String  @id // \'IN\', \'NG\', \'PK\', \'PH\'\n  name      String // \'India\', \'Nigeria\'...\n  currency  String // \'\', \'\'...\n  locale    String  @default("en")\n  is_active Boolean @default(true)\n\n  boards Board[]\n\n  @@map("countries")\n}\n\nmodel Board {\n  id         String   @id // \'CBSE\', \'MBSE\', \'WAEC\', \'IIT-JEE\', \'UPSC\', etc.\n  name       String // \'Central Board of Secondary Education\', \'Union Public Service Commission\'\n  country_id String   @default("IN")\n  state      String? // \'Mizoram\' (null for national/central)\n  type       String   @default("academic") // \'academic\', \'competitive_exam\', \'professional\'\n  is_active  Boolean  @default(true)\n  created_at DateTime @default(now())\n  updated_at DateTime @updatedAt\n\n  country      Country             @relation(fields: [country_id], references: [id])\n  institutions Institution[]\n  programs     Program[]\n  chunkBoards  ChapterChunkBoard[]\n\n  @@index([country_id, is_active])\n  @@index([type])\n  @@map("boards")\n}\n\n// Replaces old "School" model - supports schools, colleges, universities, coaching centers\nmodel Institution {\n  id             BigInt    @id @default(autoincrement())\n  board_id       String\n  name           String\n  type           String // \'school\', \'college\', \'university\', \'coaching_center\'\n  district       String?\n  state          String?\n  license_expiry DateTime?\n  is_active      Boolean   @default(true)\n  created_at     DateTime  @default(now())\n\n  board    Board     @relation(fields: [board_id], references: [id])\n  programs Program[]\n  profiles Profile[]\n\n  @@index([board_id, is_active])\n  @@index([type])\n  @@map("institutions")\n}\n\n// New model: represents Class 10, B.Tech IT, MBBS Year 2, UPSC Prelims, etc.\nmodel Program {\n  id             Int      @id @default(autoincrement())\n  board_id       String\n  institution_id BigInt? // null for board-level programs (e.g., UPSC CSE)\n  name           String // \'Class 10\', \'B.Tech - Computer Science\', \'MBBS - Year 2\', \'UPSC Civil Services\'\n  code           String? // \'CLS10\', \'BTECH_CS\', \'MBBS_Y2\', \'UPSC_CSE\'\n  level          String? // \'secondary\', \'undergraduate\', \'postgraduate\', \'competitive\'\n  duration_years Int? // 1, 4, 5, etc. (null for one-time exams)\n  is_active      Boolean  @default(true)\n  created_at     DateTime @default(now())\n\n  board       Board        @relation(fields: [board_id], references: [id])\n  institution Institution? @relation(fields: [institution_id], references: [id])\n  subjects    Subject[]\n  profiles    Profile[]\n  exams       Exam[]\n\n  @@unique([board_id, institution_id, name])\n  @@index([board_id, level])\n  @@map("programs")\n}\n\nmodel Profile {\n  id             Int     @id @default(autoincrement())\n  user_id        Int     @unique\n  institution_id BigInt? // null for self-paced learners\n  program_id     Int? // null until program selected\n  is_premium     Boolean @default(false)\n  last_sync_at   BigInt? // Unix ms for mobile sync\n\n  user        user         @relation(fields: [user_id], references: [id], onDelete: Cascade)\n  institution Institution? @relation(fields: [institution_id], references: [id])\n  program     Program?     @relation(fields: [program_id], references: [id])\n\n  @@index([institution_id])\n  @@index([program_id])\n  @@map("profiles")\n}\n\n// Subjects now linked to Programs instead of Boards\nmodel Subject {\n  id         Int      @id @default(autoincrement())\n  program_id Int // Required: subjects belong to programs\n  name       String // \'Physics\', \'Data Structures\', \'General Studies\', \'Pharmacology\'\n  code       String? // \'PHY\', \'DS\', \'GS\', \'PHARM\'\n  is_active  Boolean  @default(true)\n  created_at DateTime @default(now())\n\n  program       Program        @relation(fields: [program_id], references: [id])\n  term          String? // e.g. "Semester 1", "Year 2", or null for annual\n  chapters      Chapter[]\n  quizzes       Quiz[]\n  conversations Conversation[]\n\n  @@unique([program_id, name])\n  @@index([program_id])\n  @@map("subjects")\n}\n\nenum ChapterStatus {\n  PENDING\n  PROCESSING\n  COMPLETED\n  FAILED\n\n  @@map("chapter_status")\n}\n\nmodel Chapter {\n  id                BigInt        @id @default(autoincrement())\n  subject_id        Int\n  title             String // \'Chapter 6: Life Processes\'\n  chapter_number    Int?\n  content_json      Json // LlamaParse output\n  version_id        String        @default(cuid()) // For sync\n  accessible_boards String[] // For cross-board content (e.g., NCERT used by multiple boards)\n  is_global         Boolean       @default(false) // true = accessible to all boards\n  is_active         Boolean       @default(true)\n  processing_status ChapterStatus @default(PENDING)\n  error_message     String?       @db.Text\n  processed_at      DateTime?\n  created_at        DateTime      @default(now())\n  updated_at        DateTime      @updatedAt\n  parsed_at         DateTime?\n\n  subject           Subject           @relation(fields: [subject_id], references: [id])\n  chunks            ChapterChunk[]\n  pages             ChapterPage[]\n  quizzes           Quiz[]\n  study_materials   StudyMaterial?\n  learning_sessions LearningSession[]\n  conversations     Conversation[]\n  questions         Question[]\n\n  @@index([subject_id, chapter_number])\n  @@index([accessible_boards], type: Gin) // For RLS\n  @@index([processing_status])\n  @@map("chapters")\n}\n\nmodel ChapterChunk {\n  id              BigInt                   @id @default(autoincrement())\n  chapter_id      BigInt\n  chunk_index     Int\n  content         String\n  page_number     Int?\n  bbox            Json? // Bounding box\n  search_vector   Unsupported("tsvector")?\n  semantic_vector Unsupported("vector")?\n  subject_id      Int? // Denormalized\n  created_at      DateTime                 @default(now())\n\n  chapter     Chapter             @relation(fields: [chapter_id], references: [id], onDelete: Cascade)\n  chunkBoards ChapterChunkBoard[]\n\n  @@index([chapter_id, chunk_index])\n  @@index([search_vector], type: Gin)\n  @@index([semantic_vector])\n  @@index([subject_id])\n  @@map("chapter_chunks")\n}\n\n// Junction table for board access (scales better than array)\nmodel ChapterChunkBoard {\n  chunk_id BigInt\n  board_id String\n  chunk    ChapterChunk @relation(fields: [chunk_id], references: [id], onDelete: Cascade)\n  board    Board        @relation(fields: [board_id], references: [id])\n\n  @@id([chunk_id, board_id])\n  @@index([board_id])\n  @@map("chapter_chunk_boards")\n}\n\nmodel ChapterPage {\n  id          BigInt   @id @default(autoincrement())\n  chapter_id  BigInt\n  page_number Int\n  image_url   String\n  width       Int?\n  height      Int?\n  created_at  DateTime @default(now())\n\n  chapter Chapter @relation(fields: [chapter_id], references: [id], onDelete: Cascade)\n\n  @@index([chapter_id, page_number])\n  @@map("chapter_pages")\n}\n\nenum MessageRole {\n  user\n  assistant\n\n  @@map("message_role")\n}\n\nenum UserRole {\n  admin\n  institution\n  student\n\n  @@map("user_role")\n}\n\nenum SubscriptionStatus {\n  active\n  canceled\n  past_due\n  trialing\n  incomplete\n  incomplete_expired\n\n  @@map("subscription_status")\n}\n\nenum BillingCycle {\n  monthly\n  yearly\n\n  @@map("billing_cycle")\n}\n\nenum UsageType {\n  file_upload\n  chat_message\n  document_export\n  ai_processing\n  quiz_generation\n  battle_match\n  ai_tutor_session\n\n  @@map("usage_type")\n}\n\n/// Provider enum for AI key management\nenum Provider {\n  gemini\n  openai\n  anthropic\n  llamaparse\n  openrouter\n}\n\n// --- Exam Prep & Gamification Models ---\n\nenum QuestionType {\n  MCQ\n  TRUE_FALSE\n  FILL_IN_BLANK\n  SHORT_ANSWER\n  LONG_ANSWER\n}\n\nenum QuizStatus {\n  IN_PROGRESS\n  COMPLETED\n  ABANDONED\n}\n\n/// System-wide settings for quiz configuration\nmodel SystemSetting {\n  id    Int    @id @default(autoincrement())\n  key   String @unique @db.VarChar(255)\n  value String @db.Text\n  type  String @db.VarChar(50) // \'number\', \'string\', \'boolean\', \'json\'\n\n  created_at DateTime @default(now()) @db.Timestamptz(6)\n  updated_at DateTime @updatedAt @db.Timestamptz(6)\n\n  @@map("system_settings")\n}\n\nmodel Quiz {\n  id          String  @id @default(cuid())\n  user_id     Int\n  subject_id  Int\n  chapter_id  BigInt? // Optional: quiz can be for a whole subject or specific chapter\n  title       String\n  description String?\n\n  status       QuizStatus @default(IN_PROGRESS)\n  score        Int        @default(0)\n  total_points Int        @default(0)\n\n  created_at   DateTime  @default(now())\n  updated_at   DateTime  @updatedAt\n  completed_at DateTime?\n\n  user    user     @relation(fields: [user_id], references: [id], onDelete: Cascade)\n  subject Subject  @relation(fields: [subject_id], references: [id])\n  chapter Chapter? @relation(fields: [chapter_id], references: [id])\n\n  questions QuizQuestion[]\n  battles   Battle[]\n\n  @@index([user_id])\n  @@index([subject_id])\n  @@map("quizzes")\n}\n\nmodel QuizQuestion {\n  id            String       @id @default(cuid())\n  quiz_id       String\n  question_text String       @db.Text\n  question_type QuestionType\n\n  // For MCQ/TF: JSON array of options e.g. ["Option A", "Option B"]\n  options Json?\n\n  // The correct answer(s). For MCQ: index or string. For FITB: correct word.\n  correct_answer Json\n\n  // User\'s submitted answer\n  user_answer Json?\n\n  is_correct Boolean?\n  points     Int      @default(1)\n\n  // AI-generated explanation for the answer\n  explanation String? @db.Text\n\n  // AI feedback for subjective questions (Short/Long answer)\n  feedback String? @db.Text\n\n  quiz Quiz @relation(fields: [quiz_id], references: [id], onDelete: Cascade)\n\n  @@index([quiz_id])\n  @@map("quiz_questions")\n}\n\n/// Question Bank Model - Stores pre-generated questions for chapters\nmodel Question {\n  id            String       @id @default(cuid())\n  chapter_id    BigInt\n  question_text String       @db.Text\n  question_type QuestionType\n  difficulty    String // \'easy\', \'medium\', \'hard\'\n\n  // For MCQ/TF: JSON array of options e.g. ["Option A", "Option B"]\n  options Json?\n\n  // The correct answer\n  correct_answer Json\n\n  // AI-generated explanation\n  explanation String? @db.Text\n\n  points     Int      @default(1)\n  is_active  Boolean  @default(true)\n  created_at DateTime @default(now())\n  updated_at DateTime @updatedAt\n\n  chapter Chapter @relation(fields: [chapter_id], references: [id], onDelete: Cascade)\n\n  @@index([chapter_id, difficulty, question_type])\n  @@map("questions")\n}\n\nmodel UserPoints {\n  id       String @id @default(cuid())\n  user_id  Int\n  points   Int\n  reason   String // e.g. "quiz_completion", "daily_streak", "bonus"\n  metadata Json? // e.g. { quiz_id: "..." }\n\n  created_at DateTime @default(now())\n\n  user user @relation(fields: [user_id], references: [id], onDelete: Cascade)\n\n  @@index([user_id])\n  @@map("user_points")\n}\n\nmodel StudyMaterial {\n  id         BigInt @id @default(autoincrement())\n  chapter_id BigInt @unique\n\n  // AI-generated content as JSON\n  summary     Json? // { brief: "", key_points: [], important_formulas: [] }\n  definitions Json? // [{ term: "", definition: "" }]\n  flashcards  Json? // [{ front: "", back: "" }]\n  mind_map    String? @db.Text // Mermaid.js syntax\n\n  // YouTube integration  \n  video_queries  String[] // Search queries used\n  curated_videos Json? // [{ title: "", videoId: "", duration: "", thumbnail: "" }]\n\n  created_at DateTime @default(now())\n  updated_at DateTime @updatedAt\n\n  chapter Chapter @relation(fields: [chapter_id], references: [id], onDelete: Cascade)\n\n  @@index([chapter_id])\n  @@map("study_materials")\n}\n\nmodel Exam {\n  id          String   @id @default(cuid())\n  title       String\n  description String?\n  date        DateTime\n  program_id  Int?\n  is_active   Boolean  @default(true)\n  created_at  DateTime @default(now())\n  updated_at  DateTime @updatedAt\n\n  program Program? @relation(fields: [program_id], references: [id])\n\n  @@index([program_id])\n  @@index([date])\n  @@map("exams")\n}\n\nmodel StreakBadge {\n  id         String   @id @default(cuid())\n  name       String\n  icon       String // Emoji or icon name\n  min_streak Int      @unique // 7, 14, 30 etc.\n  is_active  Boolean  @default(true)\n  created_at DateTime @default(now())\n  updated_at DateTime @updatedAt\n\n  user_badges UserBadge[]\n\n  @@map("streak_badges")\n}\n\nmodel UserBadge {\n  id        String   @id @default(cuid())\n  user_id   Int\n  badge_id  String\n  earned_at DateTime @default(now())\n\n  user  user        @relation(fields: [user_id], references: [id], onDelete: Cascade)\n  badge StreakBadge @relation(fields: [badge_id], references: [id], onDelete: Cascade)\n\n  @@unique([user_id, badge_id])\n  @@index([user_id])\n  @@index([badge_id])\n  @@map("user_badges")\n}\n\nmodel LearningSession {\n  id            String   @id @default(cuid())\n  user_id       Int\n  chapter_id    BigInt\n  status        String   @default("active") // active, completed, paused\n  current_topic String? // e.g., "Balancing Chemical Equations"\n  progress      Int      @default(0) // 0-100%\n  created_at    DateTime @default(now())\n  updated_at    DateTime @updatedAt\n\n  user    user    @relation(fields: [user_id], references: [id])\n  chapter Chapter @relation(fields: [chapter_id], references: [id])\n\n  @@index([user_id, chapter_id])\n  @@map("learning_sessions")\n}\n\n// --- P2P Battle Models ---\n\nenum BattleStatus {\n  WAITING // Waiting for opponent\n  STARTING // Countdown\n  IN_PROGRESS // Battle is live\n  COMPLETED // Battle finished\n  ABANDONED // Someone left or timed out\n  EXPIRED // Created but never joined\n}\n\nmodel Battle {\n  id      String       @id @default(cuid())\n  quiz_id String\n  code    String       @unique @db.VarChar(10) // 6-digit join code\n  status  BattleStatus @default(WAITING)\n\n  created_by Int\n  created_at DateTime  @default(now())\n  started_at DateTime?\n  ended_at   DateTime?\n\n  // Settings snapshot\n  settings Json? // { timePerQuestion: 15, ... }\n\n  quiz    Quiz @relation(fields: [quiz_id], references: [id])\n  creator user @relation(fields: [created_by], references: [id])\n\n  participants BattleParticipant[]\n\n  @@index([code])\n  @@index([status])\n  @@index([created_by])\n  @@map("battles")\n}\n\nmodel BattleParticipant {\n  id        String @id @default(cuid())\n  battle_id String\n  user_id   Int\n\n  score           Int      @default(0)\n  current_q_index Int      @default(0) // Which question they are on\n  finished        Boolean  @default(false)\n  joined_at       DateTime @default(now())\n\n  // Realtime state\n  last_active DateTime @default(now())\n\n  battle Battle @relation(fields: [battle_id], references: [id], onDelete: Cascade)\n  user   user   @relation(fields: [user_id], references: [id], onDelete: Cascade)\n\n  @@unique([battle_id, user_id])\n  @@map("battle_participants")\n}\n',inlineSchemaHash:"65476d8bb5d18bded34f8d4c4b84b4d7903245b70297ce66d3011b123bfb8074",copyEngine:!0},P=e.r(522734);if(O.dirname="/ROOT/src/generated/prisma",!P.existsSync(T.join("/ROOT/src/generated/prisma","schema.prisma"))){let e=["src/generated/prisma","generated/prisma"],t=e.find(e=>P.existsSync(T.join(process.cwd(),e,"schema.prisma")))??e[0];O.dirname=T.join(process.cwd(),t),O.isBundled=!0}O.runtimeDataModel=JSON.parse('{"models":{"CategoryList":{"dbName":"category_list","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"category","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"CategoryListTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"FileList":{"dbName":"file_list","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"category","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"note","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"content_format","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["20"]],"isGenerated":false,"isUpdatedAt":false},{"name":"doc1","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"entry_date","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["50"]],"isGenerated":false,"isUpdatedAt":false},{"name":"entry_date_real","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Date",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":true},{"name":"user_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"FileListTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"parsing_status","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["VarChar",["20"]],"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"parsing_error","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"parsed_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"pages","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DocumentPage","nativeType":null,"relationName":"DocumentPageToFileList","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"chunks","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"FileChunk","nativeType":null,"relationName":"FileChunkToFileList","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"DocumentPage":{"dbName":"document_pages","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"file_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"page_number","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"image_url","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"width","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"height","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"file","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"FileList","nativeType":null,"relationName":"DocumentPageToFileList","relationFromFields":["file_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"Stores visual snapshots of document pages"},"FileChunk":{"dbName":"file_chunks","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"file_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chunk_index","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"content","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"page_number","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"bbox","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token_count","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"file","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"FileList","nativeType":null,"relationName":"FileChunkToFileList","relationFromFields":["file_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"Stores granular text chunks with layout coordinates"},"user":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"username","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["100"]],"isGenerated":false,"isUpdatedAt":false},{"name":"password_hash","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"UserRole","nativeType":null,"default":"student","isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"last_login","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"categories","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CategoryList","nativeType":null,"relationName":"CategoryListTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"conversations","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Conversation","nativeType":null,"relationName":"ConversationTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"files","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"FileList","nativeType":null,"relationName":"FileListTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"usage_tracking","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UsageTracking","nativeType":null,"relationName":"UsageTrackingTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"subscription","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserSubscription","nativeType":null,"relationName":"UserSubscriptionTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"profile","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Profile","nativeType":null,"relationName":"ProfileTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"quizzes","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Quiz","nativeType":null,"relationName":"QuizTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"points","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserPoints","nativeType":null,"relationName":"UserPointsTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"badges","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserBadge","nativeType":null,"relationName":"UserBadgeTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"learning_sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"LearningSession","nativeType":null,"relationName":"LearningSessionTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"created_battles","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Battle","nativeType":null,"relationName":"BattleTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"battle_participations","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"BattleParticipant","nativeType":null,"relationName":"BattleParticipantTouser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Conversation":{"dbName":"conversations","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["VarChar",["255"]],"default":"New Conversation","isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":true},{"name":"last_message_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"message_count","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"is_pinned","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"is_archived","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"subject_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chapter_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"messages","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ConversationMessage","nativeType":null,"relationName":"ConversationToConversationMessage","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"ConversationTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"subject","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Subject","nativeType":null,"relationName":"ConversationToSubject","relationFromFields":["subject_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"chapter","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Chapter","nativeType":null,"relationName":"ChapterToConversation","relationFromFields":["chapter_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"Stores conversation sessions for chat history"},"ConversationMessage":{"dbName":"conversation_messages","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"conversation_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"MessageRole","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"content","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"sources","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token_count","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"conversation","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Conversation","nativeType":null,"relationName":"ConversationToConversationMessage","relationFromFields":["conversation_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"Stores individual messages within conversations"},"AiApiKey":{"dbName":"ai_api_keys","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"provider","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Provider","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"label","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["100"]],"isGenerated":false,"isUpdatedAt":false},{"name":"api_key_enc","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"priority","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"success_count","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"error_count","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"last_used_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"Stores encrypted API keys and metadata for AI providers"},"AiModel":{"dbName":"ai_models","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"provider","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Provider","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["100"]],"isGenerated":false,"isUpdatedAt":false},{"name":"label","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["150"]],"isGenerated":false,"isUpdatedAt":false},{"name":"active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"priority","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[["provider","name"]],"uniqueIndexes":[{"name":null,"fields":["provider","name"]}],"isGenerated":false,"documentation":"Lists available models per provider, manageable by admin"},"app_settings":{"dbName":null,"schema":null,"fields":[{"name":"key","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"value","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"SubscriptionPlan":{"dbName":"subscription_plans","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["100"]],"isGenerated":false,"isUpdatedAt":false},{"name":"display_name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["150"]],"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"price_monthly","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Decimal","nativeType":["Decimal",["10","2"]],"isGenerated":false,"isUpdatedAt":false},{"name":"price_yearly","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Decimal","nativeType":["Decimal",["10","2"]],"isGenerated":false,"isUpdatedAt":false},{"name":"razorpay_plan_id_monthly","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"razorpay_plan_id_yearly","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"features","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"limits","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"is_default","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":true},{"name":"subscriptions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserSubscription","nativeType":null,"relationName":"SubscriptionPlanToUserSubscription","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"Subscription plans available for users"},"UserSubscription":{"dbName":"user_subscriptions","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"plan_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"razorpay_subscription_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"razorpay_customer_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"razorpay_order_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"SubscriptionStatus","nativeType":null,"default":"active","isGenerated":false,"isUpdatedAt":false},{"name":"billing_cycle","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"BillingCycle","nativeType":null,"default":"monthly","isGenerated":false,"isUpdatedAt":false},{"name":"current_period_start","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"current_period_end","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"cancel_at_period_end","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"canceled_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":true},{"name":"plan","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"SubscriptionPlan","nativeType":null,"relationName":"SubscriptionPlanToUserSubscription","relationFromFields":["plan_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"UserSubscriptionTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"User subscription information"},"UsageTracking":{"dbName":"usage_tracking","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"usage_type","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UsageType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"count","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":1,"isGenerated":false,"isUpdatedAt":false},{"name":"period_start","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"period_end","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"UsageTrackingTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"Usage tracking for subscription limits"},"Country":{"dbName":"countries","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"currency","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"locale","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"en","isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"boards","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Board","nativeType":null,"relationName":"BoardToCountry","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Board":{"dbName":"boards","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"country_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"IN","isGenerated":false,"isUpdatedAt":false},{"name":"state","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"academic","isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"country","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Country","nativeType":null,"relationName":"BoardToCountry","relationFromFields":["country_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"institutions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Institution","nativeType":null,"relationName":"BoardToInstitution","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"programs","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Program","nativeType":null,"relationName":"BoardToProgram","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"chunkBoards","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ChapterChunkBoard","nativeType":null,"relationName":"BoardToChapterChunkBoard","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Institution":{"dbName":"institutions","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"BigInt","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"board_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"district","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"state","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"license_expiry","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"board","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Board","nativeType":null,"relationName":"BoardToInstitution","relationFromFields":["board_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"programs","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Program","nativeType":null,"relationName":"InstitutionToProgram","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"profiles","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Profile","nativeType":null,"relationName":"InstitutionToProfile","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Program":{"dbName":"programs","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"board_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"institution_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"code","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"level","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"duration_years","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"board","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Board","nativeType":null,"relationName":"BoardToProgram","relationFromFields":["board_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"institution","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Institution","nativeType":null,"relationName":"InstitutionToProgram","relationFromFields":["institution_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"subjects","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Subject","nativeType":null,"relationName":"ProgramToSubject","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"profiles","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Profile","nativeType":null,"relationName":"ProfileToProgram","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"exams","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Exam","nativeType":null,"relationName":"ExamToProgram","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["board_id","institution_id","name"]],"uniqueIndexes":[{"name":null,"fields":["board_id","institution_id","name"]}],"isGenerated":false},"Profile":{"dbName":"profiles","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"institution_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"program_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_premium","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"last_sync_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"ProfileTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"institution","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Institution","nativeType":null,"relationName":"InstitutionToProfile","relationFromFields":["institution_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"program","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Program","nativeType":null,"relationName":"ProfileToProgram","relationFromFields":["program_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Subject":{"dbName":"subjects","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"program_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"code","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"program","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Program","nativeType":null,"relationName":"ProgramToSubject","relationFromFields":["program_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"term","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chapters","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Chapter","nativeType":null,"relationName":"ChapterToSubject","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"quizzes","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Quiz","nativeType":null,"relationName":"QuizToSubject","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"conversations","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Conversation","nativeType":null,"relationName":"ConversationToSubject","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["program_id","name"]],"uniqueIndexes":[{"name":null,"fields":["program_id","name"]}],"isGenerated":false},"Chapter":{"dbName":"chapters","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"BigInt","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"subject_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chapter_number","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"content_json","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"version_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"accessible_boards","kind":"scalar","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_global","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"processing_status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"ChapterStatus","nativeType":null,"default":"PENDING","isGenerated":false,"isUpdatedAt":false},{"name":"error_message","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"processed_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"parsed_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"subject","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Subject","nativeType":null,"relationName":"ChapterToSubject","relationFromFields":["subject_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"chunks","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ChapterChunk","nativeType":null,"relationName":"ChapterToChapterChunk","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"pages","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ChapterPage","nativeType":null,"relationName":"ChapterToChapterPage","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"quizzes","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Quiz","nativeType":null,"relationName":"ChapterToQuiz","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"study_materials","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"StudyMaterial","nativeType":null,"relationName":"ChapterToStudyMaterial","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"learning_sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"LearningSession","nativeType":null,"relationName":"ChapterToLearningSession","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"conversations","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Conversation","nativeType":null,"relationName":"ChapterToConversation","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"questions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Question","nativeType":null,"relationName":"ChapterToQuestion","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ChapterChunk":{"dbName":"chapter_chunks","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"BigInt","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"chapter_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chunk_index","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"content","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"page_number","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"bbox","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"subject_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"chapter","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Chapter","nativeType":null,"relationName":"ChapterToChapterChunk","relationFromFields":["chapter_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"chunkBoards","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ChapterChunkBoard","nativeType":null,"relationName":"ChapterChunkToChapterChunkBoard","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ChapterChunkBoard":{"dbName":"chapter_chunk_boards","schema":null,"fields":[{"name":"chunk_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"board_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chunk","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ChapterChunk","nativeType":null,"relationName":"ChapterChunkToChapterChunkBoard","relationFromFields":["chunk_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"board","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Board","nativeType":null,"relationName":"BoardToChapterChunkBoard","relationFromFields":["board_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":{"name":null,"fields":["chunk_id","board_id"]},"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ChapterPage":{"dbName":"chapter_pages","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"BigInt","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"chapter_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"page_number","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"image_url","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"width","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"height","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"chapter","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Chapter","nativeType":null,"relationName":"ChapterToChapterPage","relationFromFields":["chapter_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"SystemSetting":{"dbName":"system_settings","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"key","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["255"]],"isGenerated":false,"isUpdatedAt":false},{"name":"value","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["50"]],"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":["Timestamptz",["6"]],"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":["Timestamptz",["6"]],"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"System-wide settings for quiz configuration"},"Quiz":{"dbName":"quizzes","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"subject_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chapter_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"QuizStatus","nativeType":null,"default":"IN_PROGRESS","isGenerated":false,"isUpdatedAt":false},{"name":"score","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"total_points","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"completed_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"QuizTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"subject","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Subject","nativeType":null,"relationName":"QuizToSubject","relationFromFields":["subject_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"chapter","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Chapter","nativeType":null,"relationName":"ChapterToQuiz","relationFromFields":["chapter_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"questions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"QuizQuestion","nativeType":null,"relationName":"QuizToQuizQuestion","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"battles","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Battle","nativeType":null,"relationName":"BattleToQuiz","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"QuizQuestion":{"dbName":"quiz_questions","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"quiz_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"question_text","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"question_type","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"QuestionType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"options","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"correct_answer","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user_answer","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_correct","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Boolean","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"points","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":1,"isGenerated":false,"isUpdatedAt":false},{"name":"explanation","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"feedback","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"quiz","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Quiz","nativeType":null,"relationName":"QuizToQuizQuestion","relationFromFields":["quiz_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Question":{"dbName":"questions","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"chapter_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"question_text","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"question_type","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"QuestionType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"difficulty","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"options","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"correct_answer","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"explanation","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"points","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":1,"isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"chapter","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Chapter","nativeType":null,"relationName":"ChapterToQuestion","relationFromFields":["chapter_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false,"documentation":"Question Bank Model - Stores pre-generated questions for chapters"},"UserPoints":{"dbName":"user_points","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"points","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"reason","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"UserPointsTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"StudyMaterial":{"dbName":"study_materials","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"BigInt","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"chapter_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"summary","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"definitions","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"flashcards","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"mind_map","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"video_queries","kind":"scalar","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"curated_videos","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"chapter","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Chapter","nativeType":null,"relationName":"ChapterToStudyMaterial","relationFromFields":["chapter_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Exam":{"dbName":"exams","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"date","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"program_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"program","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Program","nativeType":null,"relationName":"ExamToProgram","relationFromFields":["program_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"StreakBadge":{"dbName":"streak_badges","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"icon","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"min_streak","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"is_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"user_badges","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserBadge","nativeType":null,"relationName":"StreakBadgeToUserBadge","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"UserBadge":{"dbName":"user_badges","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"badge_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"earned_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"UserBadgeTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"badge","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"StreakBadge","nativeType":null,"relationName":"StreakBadgeToUserBadge","relationFromFields":["badge_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["user_id","badge_id"]],"uniqueIndexes":[{"name":null,"fields":["user_id","badge_id"]}],"isGenerated":false},"LearningSession":{"dbName":"learning_sessions","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"chapter_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"BigInt","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"active","isGenerated":false,"isUpdatedAt":false},{"name":"current_topic","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"progress","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"LearningSessionTouser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"chapter","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Chapter","nativeType":null,"relationName":"ChapterToLearningSession","relationFromFields":["chapter_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Battle":{"dbName":"battles","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"quiz_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"code","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["VarChar",["10"]],"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"BattleStatus","nativeType":null,"default":"WAITING","isGenerated":false,"isUpdatedAt":false},{"name":"created_by","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"started_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"ended_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"settings","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"quiz","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Quiz","nativeType":null,"relationName":"BattleToQuiz","relationFromFields":["quiz_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"creator","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"BattleTouser","relationFromFields":["created_by"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"participants","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"BattleParticipant","nativeType":null,"relationName":"BattleToBattleParticipant","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"BattleParticipant":{"dbName":"battle_participants","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"battle_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"score","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"current_q_index","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"finished","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"joined_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"last_active","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"battle","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Battle","nativeType":null,"relationName":"BattleToBattleParticipant","relationFromFields":["battle_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"user","nativeType":null,"relationName":"BattleParticipantTouser","relationFromFields":["user_id"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["battle_id","user_id"]],"uniqueIndexes":[{"name":null,"fields":["battle_id","user_id"]}],"isGenerated":false}},"enums":{"ChapterStatus":{"values":[{"name":"PENDING","dbName":null},{"name":"PROCESSING","dbName":null},{"name":"COMPLETED","dbName":null},{"name":"FAILED","dbName":null}],"dbName":"chapter_status"},"MessageRole":{"values":[{"name":"user","dbName":null},{"name":"assistant","dbName":null}],"dbName":"message_role"},"UserRole":{"values":[{"name":"admin","dbName":null},{"name":"institution","dbName":null},{"name":"student","dbName":null}],"dbName":"user_role"},"SubscriptionStatus":{"values":[{"name":"active","dbName":null},{"name":"canceled","dbName":null},{"name":"past_due","dbName":null},{"name":"trialing","dbName":null},{"name":"incomplete","dbName":null},{"name":"incomplete_expired","dbName":null}],"dbName":"subscription_status"},"BillingCycle":{"values":[{"name":"monthly","dbName":null},{"name":"yearly","dbName":null}],"dbName":"billing_cycle"},"UsageType":{"values":[{"name":"file_upload","dbName":null},{"name":"chat_message","dbName":null},{"name":"document_export","dbName":null},{"name":"ai_processing","dbName":null},{"name":"quiz_generation","dbName":null},{"name":"battle_match","dbName":null},{"name":"ai_tutor_session","dbName":null}],"dbName":"usage_type"},"Provider":{"values":[{"name":"gemini","dbName":null},{"name":"openai","dbName":null},{"name":"anthropic","dbName":null},{"name":"llamaparse","dbName":null},{"name":"openrouter","dbName":null}],"dbName":null,"documentation":"Provider enum for AI key management"},"QuestionType":{"values":[{"name":"MCQ","dbName":null},{"name":"TRUE_FALSE","dbName":null},{"name":"FILL_IN_BLANK","dbName":null},{"name":"SHORT_ANSWER","dbName":null},{"name":"LONG_ANSWER","dbName":null}],"dbName":null},"QuizStatus":{"values":[{"name":"IN_PROGRESS","dbName":null},{"name":"COMPLETED","dbName":null},{"name":"ABANDONED","dbName":null}],"dbName":null},"BattleStatus":{"values":[{"name":"WAITING","dbName":null},{"name":"STARTING","dbName":null},{"name":"IN_PROGRESS","dbName":null},{"name":"COMPLETED","dbName":null},{"name":"ABANDONED","dbName":null},{"name":"EXPIRED","dbName":null}],"dbName":null}},"types":{}}'),_(r.Prisma,O.runtimeDataModel),O.engineWasm=void 0,O.compilerWasm=void 0;let{warnEnvConflicts:x}=e.r(272574);x({rootEnvPath:O.relativeEnvPaths.rootEnvPath&&T.resolve(O.dirname,O.relativeEnvPaths.rootEnvPath),schemaEnvPath:O.relativeEnvPaths.schemaEnvPath&&T.resolve(O.dirname,O.relativeEnvPaths.schemaEnvPath)}),r.PrismaClient=l(O),Object.assign(r,R),T.join("/ROOT/src/generated/prisma","libquery_engine-darwin-arm64.dylib.node"),T.join(process.cwd(),"src/generated/prisma/libquery_engine-darwin-arm64.dylib.node"),T.join("/ROOT/src/generated/prisma","libquery_engine-linux-musl-openssl-3.0.x.so.node"),T.join(process.cwd(),"src/generated/prisma/libquery_engine-linux-musl-openssl-3.0.x.so.node"),T.join("/ROOT/src/generated/prisma","libquery_engine-rhel-openssl-1.0.x.so.node"),T.join(process.cwd(),"src/generated/prisma/libquery_engine-rhel-openssl-1.0.x.so.node"),T.join("/ROOT/src/generated/prisma","libquery_engine-rhel-openssl-3.0.x.so.node"),T.join(process.cwd(),"src/generated/prisma/libquery_engine-rhel-openssl-3.0.x.so.node"),T.join("/ROOT/src/generated/prisma","schema.prisma"),T.join(process.cwd(),"src/generated/prisma/schema.prisma")},489997,e=>{"use strict";let t,r;async function a(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}let i=null;async function n(){if("phase-production-build"===process.env.NEXT_PHASE)return;i||(i=a());let e=await i;if(null==e?void 0:e.register)try{await e.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}async function s(...e){let t=await a();try{var r;await (null==t||null==(r=t.onRequestError)?void 0:r.call(t,...e))}catch(e){console.error("Error in instrumentation.onRequestError:",e)}}let o=null;class l extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class u extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class d extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let c="_N_T_",f={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function p(e){var t,r,a,i,n,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,n=!1;l();)if(","===(r=e.charAt(o))){for(a=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(n=!0,o=i,s.push(e.substring(t,a)),t=o):o=a+1}else o+=1;(!n||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function h(e){let t={},r=[];if(e)for(let[a,i]of e.entries())"set-cookie"===a.toLowerCase()?(r.push(...p(i)),t[a]=1===r.length?r[0]:r):t[a]=i;return t}function m(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...f,GROUP:{builtinReact:[f.reactServerComponents,f.actionBrowser],serverOnly:[f.reactServerComponents,f.actionBrowser,f.instrument,f.middleware],neutralTarget:[f.apiNode,f.apiEdge],clientOnly:[f.serverSideRendering,f.appPagesBrowser],bundled:[f.reactServerComponents,f.actionBrowser,f.serverSideRendering,f.appPagesBrowser,f.shared,f.instrument,f.middleware],appPages:[f.reactServerComponents,f.serverSideRendering,f.appPagesBrowser,f.actionBrowser]}});let g=Symbol("response"),y=Symbol("passThrough"),v=Symbol("waitUntil");class b{constructor(e,t){this[y]=!1,this[v]=t?{kind:"external",function:t}:{kind:"internal",promises:[]}}respondWith(e){this[g]||(this[g]=Promise.resolve(e))}passThroughOnException(){this[y]=!0}waitUntil(e){if("external"===this[v].kind)return(0,this[v].function)(e);this[v].promises.push(e)}}class _ extends b{constructor(e){var t;super(e.request,null==(t=e.context)?void 0:t.waitUntil),this.sourcePage=e.page}get request(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function w(e){return e.replace(/\/$/,"")||"/"}function E(e){let t=e.indexOf("#"),r=e.indexOf("?"),a=r>-1&&(t<0||r<t);return a||t>-1?{pathname:e.substring(0,a?r:t),query:a?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function S(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:a,hash:i}=E(e);return`${t}${r}${a}${i}`}function R(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:a,hash:i}=E(e);return`${r}${t}${a}${i}`}function T(e,t){if("string"!=typeof e)return!1;let{pathname:r}=E(e);return r===t||r.startsWith(t+"/")}let O=new WeakMap;function P(e,t){let r;if(!t)return{pathname:e};let a=O.get(t);a||(a=t.map(e=>e.toLowerCase()),O.set(t,a));let i=e.split("/",2);if(!i[1])return{pathname:e};let n=i[1].toLowerCase(),s=a.indexOf(n);return s<0?{pathname:e}:(r=t[s],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let x=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function I(e,t){return new URL(String(e).replace(x,"localhost"),t&&String(t).replace(x,"localhost"))}let A=Symbol("NextURLInternal");class k{constructor(e,t,r){let a,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(a=t,i=r||{}):i=r||t||{},this[A]={url:I(e,a??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,a,i;let n=function(e,t){let{basePath:r,i18n:a,trailingSlash:i}=t.nextConfig??{},n={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):i};r&&T(n.pathname,r)&&(n.pathname=function(e,t){if(!T(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}(n.pathname,r),n.basePath=r);let s=n.pathname;if(n.pathname.startsWith("/_next/data/")&&n.pathname.endsWith(".json")){let e=n.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");n.buildId=e[0],s="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(n.pathname=s)}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(n.pathname):P(n.pathname,a.locales);n.locale=e.detectedLocale,n.pathname=e.pathname??n.pathname,!e.detectedLocale&&n.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(s):P(s,a.locales)).detectedLocale&&(n.locale=e.detectedLocale)}return n}(this[A].url.pathname,{nextConfig:this[A].options.nextConfig,parseData:!0,i18nProvider:this[A].options.i18nProvider}),s=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[A].url,this[A].options.headers);this[A].domainLocale=this[A].options.i18nProvider?this[A].options.i18nProvider.detectDomainLocale(s):function(e,t,r){if(e){for(let a of(r&&(r=r.toLowerCase()),e))if(t===a.domain?.split(":",1)[0].toLowerCase()||r===a.defaultLocale.toLowerCase()||a.locales?.some(e=>e.toLowerCase()===r))return a}}(null==(t=this[A].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,s);let o=(null==(r=this[A].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[A].options.nextConfig)||null==(a=i.i18n)?void 0:a.defaultLocale);this[A].url.pathname=n.pathname,this[A].defaultLocale=o,this[A].basePath=n.basePath??"",this[A].buildId=n.buildId,this[A].locale=n.locale??o,this[A].trailingSlash=n.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,a){if(!t||t===r)return e;let i=e.toLowerCase();return!a&&(T(i,"/api")||T(i,`/${t.toLowerCase()}`))?e:S(e,`/${t}`)}((e={basePath:this[A].basePath,buildId:this[A].buildId,defaultLocale:this[A].options.forceLocale?void 0:this[A].defaultLocale,locale:this[A].locale,pathname:this[A].url.pathname,trailingSlash:this[A].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=w(t)),e.buildId&&(t=R(S(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=S(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:R(t,"/"):w(t)}formatSearch(){return this[A].url.search}get buildId(){return this[A].buildId}set buildId(e){this[A].buildId=e}get locale(){return this[A].locale??""}set locale(e){var t,r;if(!this[A].locale||!(null==(r=this[A].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[A].locale=e}get defaultLocale(){return this[A].defaultLocale}get domainLocale(){return this[A].domainLocale}get searchParams(){return this[A].url.searchParams}get host(){return this[A].url.host}set host(e){this[A].url.host=e}get hostname(){return this[A].url.hostname}set hostname(e){this[A].url.hostname=e}get port(){return this[A].url.port}set port(e){this[A].url.port=e}get protocol(){return this[A].url.protocol}set protocol(e){this[A].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[A].url=I(e),this.analyze()}get origin(){return this[A].url.origin}get pathname(){return this[A].url.pathname}set pathname(e){this[A].url.pathname=e}get hash(){return this[A].url.hash}set hash(e){this[A].url.hash=e}get search(){return this[A].url.search}set search(e){this[A].url.search=e}get password(){return this[A].url.password}set password(e){this[A].url.password=e}get username(){return this[A].url.username}set username(e){this[A].url.username=e}get basePath(){return this[A].basePath}set basePath(e){this[A].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new k(String(this),this[A].options)}}var C,D,N,q,U,L,j,M,V,F,$,G,B=e.i(709254);let W=Symbol("internal request");class J extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);m(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const a=new k(r,{headers:h(this.headers),nextConfig:t.nextConfig});this[W]={cookies:new B.RequestCookies(this.headers),nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[W].cookies}get nextUrl(){return this[W].nextUrl}get page(){throw new u}get ua(){throw new d}get url(){return this[W].url}}class H{static get(e,t,r){let a=Reflect.get(e,t,r);return"function"==typeof a?a.bind(e):a}static set(e,t,r,a){return Reflect.set(e,t,r,a)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}let K=Symbol("internal response"),z=new Set([301,302,303,307,308]);function Q(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[a,i]of e.request.headers)t.set("x-middleware-request-"+a,i),r.push(a);t.set("x-middleware-override-headers",r.join(","))}}class X extends Response{constructor(e,t={}){super(e,t);const r=this.headers,a=new Proxy(new B.ResponseCookies(r),{get(e,a,i){switch(a){case"delete":case"set":return(...i)=>{let n=Reflect.apply(e[a],e,i),s=new Headers(r);return n instanceof B.ResponseCookies&&r.set("x-middleware-set-cookie",n.getAll().map(e=>(0,B.stringifyCookie)(e)).join(",")),Q(t,s),n};default:return H.get(e,a,i)}}});this[K]={cookies:a,url:t.url?new k(t.url,{headers:h(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[K].cookies}static json(e,t){let r=Response.json(e,t);return new X(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!z.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let a="object"==typeof t?t:{},i=new Headers(null==a?void 0:a.headers);return i.set("Location",m(e)),new X(null,{...a,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",m(e)),Q(t,r),new X(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),Q(e,t),new X(null,{...e,headers:t})}}function Y(e,t){let r="string"==typeof t?new URL(t):t,a=new URL(e,t),i=a.origin===r.origin;return{url:i?a.toString().slice(r.origin.length):a.toString(),isRelative:i}}let Z="next-router-prefetch",ee=["rsc","next-router-state-tree",Z,"next-hmr-refresh","next-router-segment-prefetch"],et="_rsc";class er extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new er}}class ea extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,a){if("symbol"==typeof r)return H.get(t,r,a);let i=r.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==n)return H.get(t,n,a)},set(t,r,a,i){if("symbol"==typeof r)return H.set(t,r,a,i);let n=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===n);return H.set(t,s??r,a,i)},has(t,r){if("symbol"==typeof r)return H.has(t,r);let a=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===a);return void 0!==i&&H.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return H.deleteProperty(t,r);let a=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===a);return void 0===i||H.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return er.callable;default:return H.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new ea(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,a]of this.entries())e.call(t,a,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}var ei=e.i(556704);class en extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new en}}class es{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return en.callable;default:return H.get(e,t,r)}}})}}let eo=Symbol.for("next.mutated.cookies");class el{static wrap(e,t){let r=new B.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let a=[],i=new Set,n=()=>{let e=ei.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),a=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of a){let r=new B.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},s=new Proxy(r,{get(e,t,r){switch(t){case eo:return a;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),s}finally{n()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),s}finally{n()}};default:return H.get(e,t,r)}}});return s}}function eu(e,t){if("action"!==e.phase)throw new en}var ed=((C=ed||{}).handleRequest="BaseServer.handleRequest",C.run="BaseServer.run",C.pipe="BaseServer.pipe",C.getStaticHTML="BaseServer.getStaticHTML",C.render="BaseServer.render",C.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",C.renderToResponse="BaseServer.renderToResponse",C.renderToHTML="BaseServer.renderToHTML",C.renderError="BaseServer.renderError",C.renderErrorToResponse="BaseServer.renderErrorToResponse",C.renderErrorToHTML="BaseServer.renderErrorToHTML",C.render404="BaseServer.render404",C),ec=((D=ec||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",D.loadComponents="LoadComponents.loadComponents",D),ef=((N=ef||{}).getRequestHandler="NextServer.getRequestHandler",N.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",N.getServer="NextServer.getServer",N.getServerRequestHandler="NextServer.getServerRequestHandler",N.createServer="createServer.createServer",N),ep=((q=ep||{}).compression="NextNodeServer.compression",q.getBuildId="NextNodeServer.getBuildId",q.createComponentTree="NextNodeServer.createComponentTree",q.clientComponentLoading="NextNodeServer.clientComponentLoading",q.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",q.generateStaticRoutes="NextNodeServer.generateStaticRoutes",q.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",q.generatePublicRoutes="NextNodeServer.generatePublicRoutes",q.generateImageRoutes="NextNodeServer.generateImageRoutes.route",q.sendRenderResult="NextNodeServer.sendRenderResult",q.proxyRequest="NextNodeServer.proxyRequest",q.runApi="NextNodeServer.runApi",q.render="NextNodeServer.render",q.renderHTML="NextNodeServer.renderHTML",q.imageOptimizer="NextNodeServer.imageOptimizer",q.getPagePath="NextNodeServer.getPagePath",q.getRoutesManifest="NextNodeServer.getRoutesManifest",q.findPageComponents="NextNodeServer.findPageComponents",q.getFontManifest="NextNodeServer.getFontManifest",q.getServerComponentManifest="NextNodeServer.getServerComponentManifest",q.getRequestHandler="NextNodeServer.getRequestHandler",q.renderToHTML="NextNodeServer.renderToHTML",q.renderError="NextNodeServer.renderError",q.renderErrorToHTML="NextNodeServer.renderErrorToHTML",q.render404="NextNodeServer.render404",q.startResponse="NextNodeServer.startResponse",q.route="route",q.onProxyReq="onProxyReq",q.apiResolver="apiResolver",q.internalFetch="internalFetch",q),eh=((U=eh||{}).startServer="startServer.startServer",U),em=((L=em||{}).getServerSideProps="Render.getServerSideProps",L.getStaticProps="Render.getStaticProps",L.renderToString="Render.renderToString",L.renderDocument="Render.renderDocument",L.createBodyResult="Render.createBodyResult",L),eg=((j=eg||{}).renderToString="AppRender.renderToString",j.renderToReadableStream="AppRender.renderToReadableStream",j.getBodyResult="AppRender.getBodyResult",j.fetch="AppRender.fetch",j),ey=((M=ey||{}).executeRoute="Router.executeRoute",M),ev=((V=ev||{}).runHandler="Node.runHandler",V),eb=((F=eb||{}).runHandler="AppRouteRouteHandlers.runHandler",F),e_=(($=e_||{}).generateMetadata="ResolveMetadata.generateMetadata",$.generateViewport="ResolveMetadata.generateViewport",$),ew=((G=ew||{}).execute="Middleware.execute",G);let eE=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),eS=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);function eR(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}let eT=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(80317)}catch(r){t=e.r(331387)}let{context:eO,propagation:eP,trace:ex,SpanStatusCode:eI,SpanKind:eA,ROOT_CONTEXT:ek}=t;class eC extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let eD=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof eC&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:eI.ERROR,message:null==t?void 0:t.message})),e.end()},eN=new Map,eq=t.createContextKey("next.rootSpanId"),eU=0,eL={set(e,t,r){e.push({key:t,value:r})}},ej=(r=new class e{getTracerInstance(){return ex.getTracer("next.js","0.0.1")}getContext(){return eO}getTracePropagationData(){let e=eO.active(),t=[];return eP.inject(e,t,eL),t}getActiveScopeSpan(){return ex.getSpan(null==eO?void 0:eO.active())}withPropagatedContext(e,t,r){let a=eO.active();if(ex.getSpanContext(a))return t();let i=eP.extract(a,e,r);return eO.with(i,t)}trace(...e){let[t,r,a]=e,{fn:i,options:n}="function"==typeof r?{fn:r,options:{}}:{fn:a,options:{...r}},s=n.spanName??t;if(!eE.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||n.hideSpan)return i();let o=this.getSpanContext((null==n?void 0:n.parentSpan)??this.getActiveScopeSpan());o||(o=(null==eO?void 0:eO.active())??ek);let l=o.getValue(eq),u="number"!=typeof l||!eN.has(l),d=eU++;return n.attributes={"next.span_name":s,"next.span_type":t,...n.attributes},eO.with(o.setValue(eq,d),()=>this.getTracerInstance().startActiveSpan(s,n,e=>{let r;eT&&t&&eS.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let a=!1,s=()=>{!a&&(a=!0,eN.delete(d),r&&performance.measure(`${eT}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(u&&eN.set(d,new Map(Object.entries(n.attributes??{}))),i.length>1)try{return i(e,t=>eD(e,t))}catch(t){throw eD(e,t),t}finally{s()}try{let t=i(e);if(eR(t))return t.then(t=>(e.end(),t)).catch(t=>{throw eD(e,t),t}).finally(s);return e.end(),s(),t}catch(t){throw eD(e,t),s(),t}}))}wrap(...e){let t=this,[r,a,i]=3===e.length?e:[e[0],{},e[1]];return eE.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=a;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let n=arguments.length-1,s=arguments[n];if("function"!=typeof s)return t.trace(r,e,()=>i.apply(this,arguments));{let a=t.getContext().bind(eO.active(),s);return t.trace(r,e,(e,t)=>(arguments[n]=function(e){return null==t||t(e),a.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,a=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,a)}getSpanContext(e){return e?ex.setSpan(eO.active(),e):void 0}getRootSpanAttributes(){let e=eO.active().getValue(eq);return eN.get(e)}setRootSpanAttribute(e,t){let r=eO.active().getValue(eq),a=eN.get(r);a&&!a.has(e)&&a.set(e,t)}},()=>r),eM="__prerender_bypass";Symbol("__next_preview_data"),Symbol(eM);class eV{constructor(e,t,r,a){var i;const n=e&&function(e,t){let r=ea.from(e.headers);return{isOnDemandRevalidate:r.get("x-prerender-revalidate")===t.previewModeId,revalidateOnlyGenerated:r.has("x-prerender-revalidate-if-generated")}}(t,e).isOnDemandRevalidate,s=null==(i=r.get(eM))?void 0:i.value;this._isEnabled=!!(!n&&s&&e&&s===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=a}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:eM,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:eM,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function eF(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],a=new Headers;for(let e of p(r))a.append("set-cookie",e);for(let e of new B.ResponseCookies(a).getAll())t.set(e)}}var e$=e.i(832319),eG=e.i(447413);class eB extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}e.i(951187),process.env.NEXT_PRIVATE_DEBUG_CACHE&&((e,...t)=>{console.log(`use-cache: ${e}`,...t)}),Symbol.for("@next/cache-handlers");let eW=Symbol.for("@next/cache-handlers-map"),eJ=Symbol.for("@next/cache-handlers-set"),eH=globalThis;function eK(){if(eH[eW])return eH[eW].entries()}async function ez(e,t){if(!e)return t();let r=eQ(e);try{return await t()}finally{var a,i;let t,n,s=(a=r,i=eQ(e),t=new Set(a.pendingRevalidatedTags.map(e=>{let t="object"==typeof e.profile?JSON.stringify(e.profile):e.profile||"";return`${e.tag}:${t}`})),n=new Set(a.pendingRevalidateWrites),{pendingRevalidatedTags:i.pendingRevalidatedTags.filter(e=>{let r="object"==typeof e.profile?JSON.stringify(e.profile):e.profile||"";return!t.has(`${e.tag}:${r}`)}),pendingRevalidates:Object.fromEntries(Object.entries(i.pendingRevalidates).filter(([e])=>!(e in a.pendingRevalidates))),pendingRevalidateWrites:i.pendingRevalidateWrites.filter(e=>!n.has(e))});await eY(e,s)}}function eQ(e){return{pendingRevalidatedTags:e.pendingRevalidatedTags?[...e.pendingRevalidatedTags]:[],pendingRevalidates:{...e.pendingRevalidates},pendingRevalidateWrites:e.pendingRevalidateWrites?[...e.pendingRevalidateWrites]:[]}}async function eX(e,t,r){if(0===e.length)return;let a=function(){if(eH[eJ])return eH[eJ].values()}(),i=[],n=new Map;for(let t of e){let e,r=t.profile;for(let[t]of n)if("string"==typeof t&&"string"==typeof r&&t===r||"object"==typeof t&&"object"==typeof r&&JSON.stringify(t)===JSON.stringify(r)||t===r){e=t;break}let a=e||r;n.has(a)||n.set(a,[]),n.get(a).push(t.tag)}for(let[e,o]of n){let n;if(e){let t;if("object"==typeof e)t=e;else if("string"==typeof e){var s;if(!(t=null==r||null==(s=r.cacheLifeProfiles)?void 0:s[e]))throw Object.defineProperty(Error(`Invalid profile provided "${e}" must be configured under cacheLife in next.config or be "max"`),"__NEXT_ERROR_CODE",{value:"E873",enumerable:!1,configurable:!0})}t&&(n={expire:t.expire})}for(let t of a||[])e?i.push(null==t.updateTags?void 0:t.updateTags.call(t,o,n)):i.push(null==t.updateTags?void 0:t.updateTags.call(t,o));t&&i.push(t.revalidateTag(o,n))}await Promise.all(i)}async function eY(e,t){let r=(null==t?void 0:t.pendingRevalidatedTags)??e.pendingRevalidatedTags??[],a=(null==t?void 0:t.pendingRevalidates)??e.pendingRevalidates??{},i=(null==t?void 0:t.pendingRevalidateWrites)??e.pendingRevalidateWrites??[];return Promise.all([eX(r,e.incrementalCache,e),...Object.values(a),...i])}let eZ=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e0{disable(){throw eZ}getStore(){}run(){throw eZ}exit(){throw eZ}enterWith(){throw eZ}static bind(e){return e}}let e1="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;var e2=e.i(324725);class e4{constructor({waitUntil:e,onClose:t,onTaskError:r}){this.workUnitStores=new Set,this.waitUntil=e,this.onClose=t,this.onTaskError=r,this.callbackQueue=new eG.default,this.callbackQueue.pause()}after(e){if(eR(e))this.waitUntil||e5(),this.waitUntil(e.catch(e=>this.reportTaskError("promise",e)));else if("function"==typeof e)this.addCallback(e);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(e){var t;this.waitUntil||e5();let r=e$.workUnitAsyncStorage.getStore();r&&this.workUnitStores.add(r);let a=e2.afterTaskAsyncStorage.getStore(),i=a?a.rootTaskSpawnPhase:null==r?void 0:r.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let n=(t=async()=>{try{await e2.afterTaskAsyncStorage.run({rootTaskSpawnPhase:i},()=>e())}catch(e){this.reportTaskError("function",e)}},e1?e1.bind(t):e0.bind(t));this.callbackQueue.add(n)}async runCallbacksOnClose(){return await new Promise(e=>this.onClose(e)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let e of this.workUnitStores)e.phase="after";let e=ei.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new eB("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return ez(e,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(e,t){if(console.error("promise"===e?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",t),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,t)}catch(e){console.error(Object.defineProperty(new eB("`onTaskError` threw while handling an error thrown from an `after` task",{cause:e}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function e5(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function e6(e){let t,r={then:(a,i)=>(t||(t=e()),t.then(e=>{r.value=e}).catch(()=>{}),t.then(a,i))};return r}class e9{onClose(e){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",e),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function e3(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let e8=Symbol.for("@next/request-context");async function e7(e,t,r){let a=new Set;for(let t of(e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let a=r.slice(0,e).join("/");a&&(a.endsWith("/page")||a.endsWith("/route")||(a=`${a}${!a.endsWith("/")?"/":""}layout`),t.push(a))}}return t})(e))t=`${c}${t}`,a.add(t);if(t.pathname&&(!r||0===r.size)){let e=`${c}${t.pathname}`;a.add(e)}a.has(`${c}/`)&&a.add(`${c}/index`),a.has(`${c}/index`)&&a.add(`${c}/`);let i=Array.from(a);return{tags:i,expirationsByCacheKind:function(e){let t=new Map,r=eK();if(r)for(let[a,i]of r)"getExpiration"in i&&t.set(a,e6(async()=>i.getExpiration(e)));return t}(i)}}class te extends J{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let tt={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},tr=(e,t)=>ej().withPropagatedContext(e.headers,t,tt),ta=!1;async function ti(t){var r,a,i,s;let l,u,d,c,f;!function(){if(!ta&&(ta=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:t,wrapRequestHandler:r}=e.r(376532);t(),tr=r(tr)}}(),await (!o&&(o=n()),o);let p=void 0!==globalThis.__BUILD_MANIFEST;t.request.url=t.request.url.replace(/\.rsc($|\?)/,"$1");let h=t.bypassNextUrl?new URL(t.request.url):new k(t.request.url,{headers:t.request.headers,nextConfig:t.request.nextConfig});for(let e of[...h.searchParams.keys()]){let t=h.searchParams.getAll(e),r=function(e){for(let t of["nxtP","nxtI"])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}(e);if(r){for(let e of(h.searchParams.delete(r),t))h.searchParams.append(r,e);h.searchParams.delete(e)}}let m=process.env.__NEXT_BUILD_ID||"";"buildId"in h&&(m=h.buildId||"",h.buildId="");let g=function(e){let t=new Headers;for(let[r,a]of Object.entries(e))for(let e of Array.isArray(a)?a:[a])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}(t.request.headers),y=g.has("x-nextjs-data"),b="1"===g.get("rsc");y&&"/index"===h.pathname&&(h.pathname="/");let w=new Map;if(!p)for(let e of ee){let t=g.get(e);null!==t&&(w.set(e,t),g.delete(e))}let E=h.searchParams.get(et),S=new te({page:t.page,input:((c=(d="string"==typeof h)?new URL(h):h).searchParams.delete(et),d?c.toString():c).toString(),init:{body:t.request.body,headers:g,method:t.request.method,nextConfig:t.request.nextConfig,signal:t.request.signal}});y&&Object.defineProperty(S,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&t.IncrementalCache&&(globalThis.__incrementalCache=new t.IncrementalCache({CurCacheHandler:t.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:t.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:e3()})}));let R=t.request.waitUntil??(null==(r=null==(f=globalThis[e8])?void 0:f.get())?void 0:r.waitUntil),T=new _({request:S,page:t.page,context:R?{waitUntil:R}:void 0});if((l=await tr(S,()=>{if("/middleware"===t.page||"/src/middleware"===t.page||"/proxy"===t.page||"/src/proxy"===t.page){let e=T.waitUntil.bind(T),r=new e9;return ej().trace(ew.execute,{spanName:`middleware ${S.method}`,attributes:{"http.target":S.nextUrl.pathname,"http.method":S.method}},async()=>{try{var a,i,n,s,o,l;let d=e3(),c=await e7("/",S.nextUrl,null),f=(o=S.nextUrl,l=e=>{u=e},function(e,t,r,a,i,n,s,o,l,u,d,c){function f(e){r&&r.setHeader("Set-Cookie",e)}let p={};return{type:"request",phase:e,implicitTags:n,url:{pathname:a.pathname,search:a.search??""},rootParams:i,get headers(){return p.headers||(p.headers=function(e){let t=ea.from(e);for(let e of ee)t.delete(e);return ea.seal(t)}(t.headers)),p.headers},get cookies(){if(!p.cookies){let e=new B.RequestCookies(ea.from(t.headers));eF(t,e),p.cookies=es.seal(e)}return p.cookies},set cookies(value){p.cookies=value},get mutableCookies(){if(!p.mutableCookies){var h,m;let e,a=(h=t.headers,m=s||(r?f:void 0),e=new B.RequestCookies(ea.from(h)),el.wrap(e,m));eF(t,a),p.mutableCookies=a}return p.mutableCookies},get userspaceMutableCookies(){if(!p.userspaceMutableCookies){var g;let e;g=this,p.userspaceMutableCookies=e=new Proxy(g.mutableCookies,{get(t,r,a){switch(r){case"delete":return function(...r){return eu(g,"cookies().delete"),t.delete(...r),e};case"set":return function(...r){return eu(g,"cookies().set"),t.set(...r),e};default:return H.get(t,r,a)}}})}return p.userspaceMutableCookies},get draftMode(){return p.draftMode||(p.draftMode=new eV(l,t,this.cookies,this.mutableCookies)),p.draftMode},renderResumeDataCache:null,isHmrRefresh:u,serverComponentsHmrCache:d||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",S,void 0,o,{},c,l,null,d,!1,void 0,null)),p=function({page:e,renderOpts:t,isPrefetchRequest:r,buildId:a,previouslyRevalidatedTags:i,nonce:n}){var s;let o=!t.shouldWaitOnAllReady&&!t.supportsDynamicResponse&&!t.isDraftMode&&!t.isPossibleServerAction,l=t.dev??!1,u=l||o&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),d={isStaticGeneration:o,page:e,route:(s=e.split("/").reduce((e,t,r,a)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===a.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?s:`/${s}`,incrementalCache:t.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:t.cacheLifeProfiles,isBuildTimePrerendering:t.nextExport,hasReadableErrorStacks:t.hasReadableErrorStacks,fetchCache:t.fetchCache,isOnDemandRevalidate:t.isOnDemandRevalidate,isDraftMode:t.isDraftMode,isPrefetchRequest:r,buildId:a,reactLoadableManifest:(null==t?void 0:t.reactLoadableManifest)||{},assetPrefix:(null==t?void 0:t.assetPrefix)||"",nonce:n,afterContext:function(e){let{waitUntil:t,onClose:r,onAfterTaskError:a}=e;return new e4({waitUntil:t,onClose:r,onTaskError:a})}(t),cacheComponentsEnabled:t.cacheComponents,dev:l,previouslyRevalidatedTags:i,refreshTagsByCacheKind:function(){let e=new Map,t=eK();if(t)for(let[r,a]of t)"refreshTags"in a&&e.set(r,e6(async()=>a.refreshTags()));return e}(),runInCleanSnapshot:e1?e1.snapshot():function(e,...t){return e(...t)},shouldTrackFetchMetrics:u};return t.store=d,d}({page:"/",renderOpts:{cacheLifeProfiles:null==(i=t.request.nextConfig)||null==(a=i.experimental)?void 0:a.cacheLife,cacheComponents:!1,experimental:{isRoutePPREnabled:!1,authInterrupts:!!(null==(s=t.request.nextConfig)||null==(n=s.experimental)?void 0:n.authInterrupts)},supportsDynamicResponse:!0,waitUntil:e,onClose:r.onClose.bind(r),onAfterTaskError:void 0},isPrefetchRequest:"1"===S.headers.get(Z),buildId:m??"",previouslyRevalidatedTags:[]});return await ei.workAsyncStorage.run(p,()=>e$.workUnitAsyncStorage.run(f,t.handler,S,T))}finally{setTimeout(()=>{r.dispatchClose()},0)}})}return t.handler(S,T)}))&&!(l instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});l&&u&&l.headers.set("set-cookie",u);let O=null==l?void 0:l.headers.get("x-middleware-rewrite");if(l&&O&&(b||!p)){let e=new k(O,{forceLocale:!0,headers:t.request.headers,nextConfig:t.request.nextConfig});p||e.host!==S.nextUrl.host||(e.buildId=m||e.buildId,l.headers.set("x-middleware-rewrite",String(e)));let{url:r,isRelative:n}=Y(e.toString(),h.toString());!p&&y&&l.headers.set("x-nextjs-rewrite",r);let o=!n&&(null==(s=t.request.nextConfig)||null==(i=s.experimental)||null==(a=i.clientParamParsingOrigins)?void 0:a.some(t=>new RegExp(t).test(e.origin)));b&&(n||o)&&(h.pathname!==e.pathname&&l.headers.set("x-nextjs-rewritten-path",e.pathname),h.search!==e.search&&l.headers.set("x-nextjs-rewritten-query",e.search.slice(1)))}if(l&&O&&b&&E){let e=new URL(O);e.searchParams.has(et)||(e.searchParams.set(et,E),l.headers.set("x-middleware-rewrite",e.toString()))}let P=null==l?void 0:l.headers.get("Location");if(l&&P&&!p){let e=new k(P,{forceLocale:!1,headers:t.request.headers,nextConfig:t.request.nextConfig});l=new Response(l.body,l),e.host===h.host&&(e.buildId=m||e.buildId,l.headers.set("Location",e.toString())),y&&(l.headers.delete("Location"),l.headers.set("x-nextjs-redirect",Y(e.toString(),h.toString()).url))}let x=l||X.next(),I=x.headers.get("x-middleware-override-headers"),A=[];if(I){for(let[e,t]of w)x.headers.set(`x-middleware-request-${e}`,t),A.push(e);A.length>0&&x.headers.set("x-middleware-override-headers",I+","+A.join(","))}return{response:x,waitUntil:("internal"===T[v].kind?Promise.all(T[v].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:S.fetchMetrics}}var tn=e.i(955207),ts=e.i(469420),to=e.i(149350);async function tl(e){let t=e.nextUrl.pathname;if(["/","/pricing","/register","/api/auth/register","/api/subscriptions/webhook"].some(e=>t===e||t.startsWith(e))||t.startsWith("/api/auth"))return tn.NextResponse.next();let r=await (0,ts.getToken)({req:e,secret:process.env.NEXTAUTH_SECRET}),a="/login"===t,i=t.startsWith("/app"),n=t.startsWith("/admin");if(a&&r)if(r.role===to.UserRole.admin)return tn.NextResponse.redirect(new URL("/admin",e.url));else return tn.NextResponse.redirect(new URL("/app/chat",e.url));return i&&!r||n&&!r?tn.NextResponse.redirect(new URL("/login",e.url)):n&&r&&r.role!==to.UserRole.admin?tn.NextResponse.redirect(new URL("/app",e.url)):tn.NextResponse.next()}e.s(["config",0,{matcher:["/app/:path*","/admin/:path*","/login","/register","/api/:path*"]},"proxy",()=>tl],322685);var tu=e.i(322685);Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401});let td={...tu},tc="/proxy",tf=td.proxy||td.default;if("function"!=typeof tf)throw new class extends Error{constructor(e){super(e),this.stack=""}}(`The Proxy file "${tc}" must export a function named \`proxy\` or a default function.`);function tp(e){return ti({...e,page:tc,handler:async(...e)=>{try{return await tf(...e)}catch(i){let t=e[0],r=new URL(t.url),a=r.pathname+r.search;throw await s(i,{path:a,method:t.method,headers:Object.fromEntries(t.headers.entries())},{routerKind:"Pages Router",routePath:"/proxy",routeType:"proxy",revalidateReason:void 0}),i}}})}e.s(["default",()=>tp],489997)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__90c3807b._.js.map