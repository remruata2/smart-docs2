module.exports=[751770,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(437479),e=a.i(50944),f=a.i(823292);class g{static async detectChapters(a){let b=[],c=[],d=null;for(let b of a){let a=b.text||b.md||"",e=this.findChapterMarker(a);e&&(null===d||null!==e.number&&e.number>d)&&(c.push({page:b.page,title:e.title,chapterNum:e.number}),d=e.number)}if(0===c.length)return[{id:"detected-chapter-1",title:"Complete Textbook",startPage:a[0]?.page||1,endPage:a[a.length-1]?.page||a.length,content:a.map(a=>a.md||a.text).join("\n\n"),previewText:this.extractPreview(a[0]?.md||a[0]?.text||""),chapterNumber:null}];for(let d=0;d<c.length;d++){let e=c[d],f=c[d+1],g=e.page,h=f?f.page-1:a[a.length-1].page,i=a.filter(a=>a.page>=g&&a.page<=h).map(a=>a.md||a.text).join("\n\n");b.push({id:`detected-chapter-${d+1}`,title:e.title,startPage:g,endPage:h,content:i,previewText:this.extractPreview(i),chapterNumber:e.chapterNum})}return b}static findChapterMarker(a){let b=a.trim(),c=b.match(/(?:^|[\r\n]+)(?:(?:.*?)[\r\n]+){0,6}\s*(?:CHAPTER|Chapter)\s+(\d+)\s*[\r\n]+\s*([^\r\n]{3,100})(?:[\r\n]+\s*([^\r\n]{3,100}))?[\r\n]+([\s\S]{50,})/i);if(c){let a=this.parseChapterNumber(c[1]),b=c[2].trim(),d=c[3]?.trim();c[4],b.length>100||/[.]$/.test(b);let e=b;if(d){let a=d.length<60,b=/^[a-z]/.test(d),c=/^(?:and|of|the|in|on|at|to|for|with)\b/i.test(d);(a||b||c)&&(e+=" "+d)}if(!/^[A-Z\s]+\d+$/.test(e))return{title:e,number:a}}let d=b.match(/^(?:Chapter|CHAPTER|Ch\.?)\s+(\d+|One|Two|Three|Four|Five|Six|Seven|Eight|Nine|Ten|Eleven|Twelve|[IVX]+)\s*\n\s*([A-Z][^\n]{3,100})/i);if(d){let a=this.parseChapterNumber(d[1]),b=d[2].trim();return/^[A-Z\s]+\d+$/.test(b)?null:((b=b.replace(/\s+/g," ").trim()).length>100&&(b=b.substring(0,97)+"..."),{title:b,number:a})}let e=b.match(/^(?:Chapter|CHAPTER|Ch\.?)\s+(\d+|One|Two|Three|Four|Five|Six|Seven|Eight|Nine|Ten|Eleven|Twelve|[IVX]+)\s*[:\.\-–—\s]+\s*([A-Z][^\n]{3,100})\n([\s\S]{200,})/i);if(e){let a=this.parseChapterNumber(e[1]),b=e[2]?.trim()||"";return/^[A-Z\s]+\d+$/.test(b)?null:((!b||b.length<3)&&(b=`Chapter ${a||e[1]}`),(b=b.replace(/\s+/g," ").trim()).length>100&&(b=b.substring(0,97)+"..."),{title:b,number:a})}let f=b.match(/^(?:Unit|UNIT)\s+(\d+)\s*[:–-]\s*(.+?)\n([\s\S]{200,})/i);if(f){let a=this.parseChapterNumber(f[1]),b=f[2]?.trim()||"";return(b=b.replace(/\s+/g," ").trim()).length>100&&(b=b.substring(0,97)+"..."),{title:b,number:a}}let g=b.match(/^(?:CHAPTER|Chapter)\s+(\d+|[IVX]+)\s*\n([\s\S]{200,})/i);if(g){let a=this.parseChapterNumber(g[1]);return{title:`Chapter ${a||g[1]}`,number:a}}return null}static parseChapterNumber(a){let b=a.match(/\d+/);if(b)return parseInt(b[0]);let c={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10},d=a.toLowerCase();if(c[d])return c[d];let e=a.match(/^[IVX]+$/i);return e?this.romanToInt(e[0].toUpperCase()):null}static romanToInt(a){let b={I:1,V:5,X:10,L:50,C:100},c=0;for(let d=0;d<a.length;d++){let e=b[a[d]],f=b[a[d+1]];f&&e<f?c-=e:c+=e}return c}static extractPreview(a){let b=a.replace(/#+\s/g,"").replace(/\*\*/g,"").replace(/\*/g,"").replace(/\n+/g," ").trim();return b.substring(0,200)+(b.length>200?"...":"")}static mergeChapters(a,b){return{id:a.id,title:`${a.title} & ${b.title}`,startPage:a.startPage,endPage:b.endPage,content:`${a.content}

${b.content}`,previewText:this.extractPreview(`${a.content}

${b.content}`),chapterNumber:a.chapterNumber}}static splitChapter(a,b,c){let d=c.filter(c=>c.page>=a.startPage&&c.page<b),e=c.filter(c=>c.page>=b&&c.page<=a.endPage),f=d.map(a=>a.md||a.text).join("\n\n"),g=e.map(a=>a.md||a.text).join("\n\n");return[{id:`${a.id}-part1`,title:`${a.title} (Part 1)`,startPage:a.startPage,endPage:b-1,content:f,previewText:this.extractPreview(f),chapterNumber:a.chapterNumber},{id:`${a.id}-part2`,title:`${a.title} (Part 2)`,startPage:b,endPage:a.endPage,content:g,previewText:this.extractPreview(g),chapterNumber:a.chapterNumber?a.chapterNumber+1:null}]}}let h={easy:{MCQ:20,TRUE_FALSE:20,FILL_IN_BLANK:20,SHORT_ANSWER:10,LONG_ANSWER:10},medium:{MCQ:20,TRUE_FALSE:20,FILL_IN_BLANK:20,SHORT_ANSWER:10,LONG_ANSWER:10},hard:{MCQ:15,TRUE_FALSE:15,FILL_IN_BLANK:10,SHORT_ANSWER:10,LONG_ANSWER:10}};function i({onChange:a}){let[d,e]=(0,c.useState)(h),[f,g]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a(d)},[d,a]);let i=Object.values(d).reduce((a,b)=>a+Object.values(b).reduce((a,b)=>a+b,0),0);return(0,b.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>g(!f),className:"flex items-center justify-between w-full text-left",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Question Bank Configuration"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Auto-generate ",i," questions per chapter"]})]}),(0,b.jsx)("span",{className:"text-indigo-600 text-sm font-medium",children:f?"Hide":"Customize"})]}),f&&(0,b.jsxs)("div",{className:"mt-4 space-y-6",children:[["easy","medium","hard"].map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:[a," Difficulty"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:["MCQ","TRUE_FALSE","FILL_IN_BLANK","SHORT_ANSWER","LONG_ANSWER"].map(c=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] text-gray-500 mb-1",children:c.replace(/_/g," ")}),(0,b.jsx)("input",{type:"number",min:"0",max:"100",value:d[a][c]||0,onChange:b=>{var d;return d=parseInt(b.target.value)||0,void e(b=>({...b,[a]:{...b[a],[c]:d}}))},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-xs border p-1"})]},c))})]},a)),(0,b.jsx)("div",{className:"text-xs text-gray-500 italic border-t pt-2",children:"* Questions will be generated in the background after chapter processing is complete."})]})]})}function j({boards:h,programs:j,subjects:k}){let l=(0,e.useRouter)(),[m,n]=(0,c.useState)("individual"),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(null),I=q?k.filter(a=>a.program.id===q):k;async function J(){if(!u)return void f.toast.error("Please select a textbook PDF");x(!0);try{let a=new FormData;a.append("file",u);let b=await fetch("/api/extract-pdf-text",{method:"POST",body:a});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to extract PDF text")}let{pages:c}=await b.json(),d=await g.detectChapters(c);B(c),z(d),f.toast.success(`Detected ${d.length} chapter(s) - Ready to save!`)}catch(a){f.toast.error(a.message||"Failed to analyze textbook"),console.error("Textbook analysis error:",a)}finally{x(!1)}}async function K(a){if(a.preventDefault(),0===s.length)return void f.toast.error("Please select at least one PDF file");if(s.filter(a=>!a.subjectId).length>0)return void f.toast.error("Please select a subject for all files");p(!0);let b=0,c=0;for(let a=0;a<s.length;a++){let e=s[a];t(b=>{let c=[...b];return c[a]={...c[a],status:"uploading"},c});try{let f=new FormData;f.append("file",e.file),f.append("title",e.title),f.append("subjectId",e.subjectId),e.chapterNumber&&f.append("chapterNumber",e.chapterNumber),e.accessibleBoards.length>0&&e.accessibleBoards.forEach(a=>{f.append("accessibleBoards",a)}),G&&f.append("questionConfig",JSON.stringify(G));let g=await (0,d.ingestChapterAsync)(f);g.success?(b++,t(b=>{let c=[...b];return c[a]={...c[a],status:"success"},c})):(c++,t(b=>{let c=[...b];return c[a]={...c[a],status:"error",error:g.error},c}))}catch(d){c++;let b=d instanceof Error?d.message:"Unknown error";t(c=>{let d=[...c];return d[a]={...d[a],status:"error",error:b},d})}}b>0&&f.toast.success(`Started processing ${b} chapter(s).`),c>0&&f.toast.error(`Failed to upload ${c} chapter(s).`),p(!1),b>0&&0===c&&setTimeout(()=>{l.push("/admin/chapters"),l.refresh()},1e3)}async function L(b){if(b.preventDefault(),!C)return void f.toast.error("Please select a subject");if(0===y.length)return void f.toast.error("No chapters detected. Please analyze the textbook first.");p(!0);try{let b=new FormData;b.append("subjectId",C),b.append("chapters",JSON.stringify(y)),b.append("fullPages",JSON.stringify(A)),E.length>0&&E.forEach(a=>{b.append("accessibleBoards",a)}),u&&b.append("file",u),G&&b.append("questionConfig",JSON.stringify(G));let{batchCreateChaptersAsync:c}=await a.A(361758),d=await c(b);d.success?(f.toast.success(d.message||`Created ${y.length} chapters - Processing in background`),l.push("/admin/chapters"),l.refresh()):(f.toast.error(d.error||"Failed to create chapters"),p(!1))}catch(a){f.toast.error(a.message||"Failed to create chapters"),p(!1)}}return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Upload Mode"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"individual"===m,onChange:()=>n("individual"),className:"w-4 h-4 text-indigo-600"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Individual Chapters (up to 5 files)"})]}),(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"textbook"===m,onChange:()=>n("textbook"),className:"w-4 h-4 text-indigo-600"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Whole Textbook (auto-split)"})]})]})]}),"individual"===m&&(0,b.jsxs)("form",{onSubmit:K,className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Program (Optional)"}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value?parseInt(a.target.value):""),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2",children:[(0,b.jsx)("option",{value:"",children:"All Programs"}),j.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.board.name,a.institution?` - ${a.institution.name}`:"",")"]},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PDF Files *",s.length>0&&(0,b.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",s.filter(a=>"success"===a.status).length,"/",s.length," uploaded)"]})]}),(0,b.jsx)("input",{type:"file",accept:".pdf",multiple:!0,onChange:function(a){let b=a.target.files;if(!b||0===b.length)return void t([]);if(b.length>5){f.toast.error("Maximum 5 files allowed per upload"),a.target.value="";return}let c=Array.from(b).filter(a=>a.size>0x6400000);if(c.length>0){f.toast.error(`${c.length} file(s) too large. Maximum size is 100MB.`),a.target.value="";return}t(Array.from(b).map(a=>({file:a,status:"pending",title:a.name.replace(/\.pdf$/i,""),subjectId:"",chapterNumber:"",accessibleBoards:[]})))},disabled:o,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 disabled:opacity-50"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Upload up to 5 PDF files (max 100MB each)."})]}),s.length>0&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900",children:"Files to Upload"}),s.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 border rounded-md bg-gray-50 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.file.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[(a.file.size/1024/1024).toFixed(2)," MB"]})]}),"pending"!==a.status&&(0,b.jsx)("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${"uploading"===a.status?"bg-blue-100 text-blue-800":"success"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.status})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title *"}),(0,b.jsx)("input",{type:"text",value:a.title,onChange:a=>{let b=[...s];b[c].title=a.target.value,t(b)},disabled:o,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm border p-2"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Chapter Number"}),(0,b.jsx)("input",{type:"number",value:a.chapterNumber,onChange:a=>{let b=[...s];b[c].chapterNumber=a.target.value,t(b)},disabled:o,placeholder:"Optional",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm border p-2"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Subject *"}),(0,b.jsxs)("select",{value:a.subjectId,onChange:a=>{let b=[...s];b[c].subjectId=a.target.value,t(b)},disabled:o,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm border p-2",children:[(0,b.jsx)("option",{value:"",children:"Select Subject"}),I.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.program.name," - ",a.program.board.name,")"]},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accessible Boards"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Hold Ctrl/Cmd to select multiple."}),(0,b.jsxs)("select",{multiple:!0,value:a.accessibleBoards,onChange:a=>{let b=Array.from(a.target.selectedOptions,a=>a.value),d=[...s];d[c].accessibleBoards=b,t(d)},disabled:o,className:"block w-full rounded-md border-gray-300 shadow-sm text-sm border p-2 h-24",children:[(0,b.jsx)("option",{value:"GLOBAL",children:"GLOBAL (All Boards)"}),h.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),a.error&&(0,b.jsxs)("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: ",a.error]})]},c))]}),(0,b.jsx)(i,{onChange:H}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>l.back(),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:o||0===s.length,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Ingesting...":`Ingest ${s.length} Chapter(s)`})]})]}),"textbook"===m&&(0,b.jsxs)("form",{onSubmit:L,className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Textbook PDF *"}),(0,b.jsx)("input",{type:"file",accept:".pdf",onChange:a=>{let b=a.target.files?.[0];if(b){if(b.size>524288e3){f.toast.error("File too large. Maximum size is 500MB."),a.target.value="";return}v(b),z([])}},disabled:o||w,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Upload a complete textbook PDF (max 500MB). System will auto-detect chapters."})]}),u&&0===y.length&&(0,b.jsx)("div",{children:w?(0,b.jsx)("div",{className:"w-full border border-blue-200 rounded-lg p-6 bg-blue-50",children:(0,b.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Analyzing Textbook..."}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Processing PDF with LlamaParse AI"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"This may take 1-3 minutes for large files. Please wait..."})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0s"}}),(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})}):(0,b.jsx)("button",{type:"button",onClick:J,disabled:w,className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:"Analyze & Detect Chapters"})}),y.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-medium text-gray-900 mb-4",children:["Detected ",y.length," Chapter(s)"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:y.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("span",{className:"text-xs font-semibold text-gray-500",children:["Chapter ",c+1]}),(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void z(a=>a.filter(a=>a.id!==b))},className:"text-red-600 hover:text-red-800 text-xs",children:"Delete"})]}),(0,b.jsx)("input",{type:"text",value:a.title,onChange:b=>{var c,d;return c=a.id,d={title:b.target.value},void z(a=>a.map(a=>a.id===c?{...a,...d}:a))},className:"w-full text-sm font-medium border rounded px-2 py-1"}),(0,b.jsxs)("div",{className:"text-xs text-gray-600",children:["Pages ",a.startPage,"-",a.endPage]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 line-clamp-3",children:a.previewText})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),(0,b.jsxs)("select",{value:C,onChange:a=>D(a.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm border p-2",children:[(0,b.jsx)("option",{value:"",children:"Select Subject"}),k.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.program.name," - ",a.program.board.name,")"]},a.id))]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"All detected chapters will be created under this subject."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accessible Boards"}),(0,b.jsxs)("select",{multiple:!0,value:E,onChange:a=>{F(Array.from(a.target.selectedOptions,a=>a.value))},className:"block w-full rounded-md border-gray-300 shadow-sm text-sm border p-2 h-24",children:[(0,b.jsx)("option",{value:"GLOBAL",children:"GLOBAL (All Boards)"}),h.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"applies to all chapters in this textbook."})]}),(0,b.jsx)(i,{onChange:H}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{z([]),v(null)},disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Start Over"}),(0,b.jsx)("button",{type:"submit",disabled:o||!C,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating...":`Create ${y.length} Chapters`})]})]})]})]})}a.s(["default",()=>j],751770)}];

//# sourceMappingURL=src_app_admin_chapters_new_chapter-ingest-form_tsx_62ac2647._.js.map