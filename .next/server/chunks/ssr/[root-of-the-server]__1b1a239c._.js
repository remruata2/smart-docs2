module.exports=[750227,(a,b,c)=>{b.exports=a.x("node:path",()=>require("node:path"))},59639,(a,b,c)=>{b.exports=a.x("node:process",()=>require("node:process"))},405050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(120611),g=a.r(1722),h=a.r(738783)},767552,a=>{"use strict";let b=(0,a.i(170106).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>b],767552)},356558,a=>{"use strict";var b=a.i(572131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},47349,(a,b,c)=>{"use strict";var d=a.r(572131);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},487610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},692759,182434,452495,a=>{"use strict";var b=a.i(170106);let c=(0,b.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>c],692759);let d=(0,b.default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);a.s(["Bot",()=>d],182434);let e=(0,b.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>e],452495)},705151,a=>{"use strict";let b=(0,a.i(170106).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],705151)},857764,(a,b,c)=>{b.exports=a.x("node:url",()=>require("node:url"))},462711,651212,316552,a=>{"use strict";var b=a.i(750227);a.s(["minpath",()=>b.default],462711);var c=a.i(59639);a.s(["minproc",()=>c.default],651212);var d=a.i(857764);a.s(["urlToPath",()=>d.fileURLToPath],316552)},104720,a=>{"use strict";let b=(0,a.i(170106).default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],104720)},786304,a=>{"use strict";var b=a.i(187924),c=a.i(811011),d=a.i(400187),e=a.i(368114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},74192,a=>{"use strict";var b=a.i(423364);function c(){return{type:"break"}}function d(){return function(a){(0,b.findAndReplace)(a,[/\r?\n|\r/g,c])}}a.s(["default",()=>d],74192)},655918,a=>{"use strict";var b=a.i(187924),c=a.i(572131);function d({imageUrl:a,boundingBox:d,pageNumber:e,onClose:f,layoutItems:g,chunkContent:h,title:i}){let j,[k,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{l(!1)},[a]);let m=a=>{if(!a||4!==a.length)return null;let[b,c,d,e]=a;return b>1||c>1||d>1||e>1?[Math.max(0,Math.min(1,b/595)),Math.max(0,Math.min(1,c/842)),Math.max(0,Math.min(1,d/595)),Math.max(0,Math.min(1,e/842))]:[b,c,d,e]},n=(()=>{if(g&&g.length>0&&h){let a=h.toLowerCase().trim(),b=null;for(let c of g){let d=c.text.toLowerCase().trim();if(!d)continue;let e=0;(a.includes(d)||d.includes(a))&&(e+=100);let f=a.split(/\s+/).filter(a=>a.length>2),g=d.split(/\s+/).filter(a=>a.length>2);e+=10*f.filter(a=>g.includes(a)).length+2*((a,b)=>{let c=0;for(let d=0;d<a.length;d++)for(let e=0;e<b.length;e++){let f=0;for(;d+f<a.length&&e+f<b.length&&a[d+f]===b[e+f];)f++;c=Math.max(c,f)}return c})(a,d),(!b||e>b.score)&&(b={item:c,score:e})}if(b&&b.score>20)return m(b.item.bbox)}return m(d)})();return(0,b.jsxs)("div",{className:"flex flex-col h-full bg-gray-50 border-l border-gray-200 shadow-xl w-full max-w-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-b border-gray-200",children:[(0,b.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:i||"Evidence"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Page ",e]})]}),(0,b.jsx)("button",{onClick:f,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close evidence viewer",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,b.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto p-4 relative flex justify-center",children:(0,b.jsxs)("div",{className:"relative shadow-lg border border-gray-200 bg-white inline-block",children:[!k&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),(0,b.jsx)("img",{src:a,alt:`Page ${e}`,className:"max-w-full h-auto block",style:{maxHeight:"calc(100vh - 150px)"},onLoad:()=>l(!0)}),k&&n&&(j=n[3]>.5,(0,b.jsx)("div",{className:"absolute border-2 border-yellow-500 mix-blend-multiply transition-all duration-300",style:{left:`${100*n[0]}%`,top:`${100*n[1]}%`,width:`${100*n[2]}%`,height:`${100*n[3]}%`,backgroundColor:`rgba(254, 240, 138, ${j?.15:.3})`,borderColor:`rgba(234, 179, 8, ${j?.5:1})`},children:(0,b.jsx)("div",{className:"absolute -top-6 left-0 bg-yellow-500 text-white text-xs px-1.5 py-0.5 rounded shadow-sm whitespace-nowrap",children:"Citation"})}))]})})]})}a.s(["EvidenceViewer",()=>d])},493042,a=>{a.v(a=>Promise.resolve().then(()=>a(33926)))},447303,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_dompurify_dist_purify_es_mjs_08294729._.js"].map(b=>a.l(b))).then(()=>b(57262)))},498523,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_60bf91f7._.js"].map(b=>a.l(b))).then(()=>b(757058)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1b1a239c._.js.map