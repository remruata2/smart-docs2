module.exports=[767701,a=>{"use strict";var b=a.i(187924),c=a.i(50944),d=a.i(572131);function e({name:a,options:e,placeholder:f,className:g=""}){let h=(0,c.useRouter)(),i=(0,c.useSearchParams)(),j=i.get(a)||"",k=(0,d.useCallback)(b=>{let c=b.target.value,d=new URLSearchParams(i.toString());c?d.set(a,c):d.delete(a),h.push(`?${d.toString()}`)},[a,h,i]);return(0,b.jsxs)("select",{name:a,value:j,onChange:k,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2 ${g}`,children:[(0,b.jsx)("option",{value:"",children:f}),e.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})}a.s(["default",()=>e])},88374,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(823292);function f({chapters:a,onDelete:f}){let[g,h]=(0,c.useState)(new Set),[i,j]=(0,c.useTransition)(),k=(0,d.useRouter)(),l=a.some(a=>"PENDING"===a.processing_status||"PROCESSING"===a.processing_status);(0,c.useEffect)(()=>{if(!l)return;let a=setInterval(()=>{k.refresh()},5e3);return()=>clearInterval(a)},[l,k]);let m=async()=>{0===g.size?e.toast.error("No chapters selected"):confirm(`Delete ${g.size} selected chapter(s)?`)&&j(async()=>{try{await f(Array.from(g)),e.toast.success(`Deleted ${g.size} chapter(s)`),h(new Set),k.refresh()}catch(a){e.toast.error(a.message||"Failed to delete chapters")}})};return(0,b.jsxs)("div",{children:[l&&(0,b.jsxs)("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-blue-600 border-t-transparent rounded-full"}),(0,b.jsxs)("span",{className:"text-sm text-blue-900",children:[a.filter(a=>"PROCESSING"===a.processing_status).length," chapter(s) processing... Auto-refreshing every 5 seconds"]})]}),g.size>0&&(0,b.jsxs)("div",{className:"mb-4 bg-indigo-50 border border-indigo-200 rounded-lg p-4 flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-indigo-900",children:[g.size," chapter(s) selected"]}),(0,b.jsx)("button",{onClick:m,disabled:i,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 disabled:opacity-50 text-sm font-medium",children:i?"Deleting...":"Delete Selected"})]}),(0,b.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,b.jsxs)("ul",{className:"divide-y divide-gray-200",children:[(0,b.jsx)("li",{className:"bg-gray-50 border-b-2 border-gray-300",children:(0,b.jsxs)("div",{className:"px-4 py-3 flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.size===a.length&&a.length>0,onChange:()=>{g.size===a.length?h(new Set):h(new Set(a.map(a=>a.id.toString())))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,b.jsxs)("label",{className:"ml-3 text-sm font-medium text-gray-700",children:["Select All (",a.length,")"]})]})}),a.map(a=>(0,b.jsx)("li",{className:"hover:bg-gray-50 transition",children:(0,b.jsxs)("div",{className:"px-4 py-4 sm:px-6 flex items-start gap-4",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.has(a.id.toString()),onChange:()=>{var b;let c;return b=a.id.toString(),void((c=new Set(g)).has(b)?c.delete(b):c.add(b),h(c))},onClick:a=>a.stopPropagation(),className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,b.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>k.push(`/admin/chapters/${a.id}`),children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-indigo-600",children:a.title}),function(a){switch(a){case"PENDING":return(0,b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"ðŸŸ¡ Pending"});case"PROCESSING":return(0,b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 animate-pulse",children:"ðŸ”µ Processing"});case"COMPLETED":return(0,b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"ðŸŸ¢ Ready"});case"FAILED":return(0,b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"ðŸ”´ Failed"});default:return null}}(a.processing_status),a.is_global&&(0,b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Global"}),(0,b.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${a.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.is_active?"Active":"Inactive"})]})}),(0,b.jsxs)("div",{className:"mt-2 sm:flex sm:justify-between",children:[(0,b.jsxs)("div",{className:"sm:flex",children:[(0,b.jsxs)("p",{className:"flex items-center text-sm text-gray-500 mr-6",children:["Subject: ",a.subject.name]}),(0,b.jsxs)("p",{className:"flex items-center text-sm text-gray-500 mr-6",children:["Program: ",a.subject.program.name]}),(0,b.jsxs)("p",{className:"flex items-center text-sm text-gray-500 mr-6",children:["Board: ",a.subject.program.board.name]})]}),(0,b.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[(0,b.jsxs)("p",{className:"mr-4",children:["Chunks: ",a._count.chunks]}),(0,b.jsxs)("p",{children:["Pages: ",a._count.pages]})]})]}),"FAILED"===a.processing_status&&a.error_message&&(0,b.jsxs)("div",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: ",a.error_message]})]})]})},a.id)),0===a.length&&(0,b.jsx)("li",{className:"px-4 py-4 text-center text-gray-500",children:"No chapters found."})]})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=src_f5436d15._.js.map