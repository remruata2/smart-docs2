{"version":3,"sources":["../../../../src/app/admin/boards/board-form.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/admin/boards/board-status-toggle.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/admin/boards/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/boards/board-form.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/boards/board-form.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/boards/board-status-toggle.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/boards/board-status-toggle.tsx\",\n    \"default\",\n);\n","import { prisma } from \"@/lib/prisma\";\nimport { redirect } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/auth-options\";\nimport { isAdmin } from \"@/lib/auth\";\nimport BoardForm from \"./board-form\";\nimport BoardStatusToggle from \"./board-status-toggle\";\n\nexport default async function BoardsPage() {\n    const session = await getServerSession(authOptions);\n    if (!session?.user || !isAdmin((session.user as any).role)) {\n        redirect(\"/\");\n    }\n\n    const boards = await prisma.board.findMany({\n        include: {\n            country: true,\n            _count: {\n                select: { institutions: true, programs: true },\n            },\n        },\n        orderBy: { created_at: \"desc\" },\n    });\n\n    const countries = await prisma.country.findMany({\n        where: { is_active: true }\n    });\n\n    return (\n        <div className=\"container mx-auto py-10\">\n            <div className=\"flex justify-between items-center mb-8\">\n                <h1 className=\"text-3xl font-bold\">Education Boards</h1>\n            </div>\n\n            {/* Add Board Form */}\n            <BoardForm countries={countries} />\n\n            {/* Boards List */}\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n                <ul className=\"divide-y divide-gray-200\">\n                    {boards.map((board) => (\n                        <li key={board.id}>\n                            <Link\n                                href={`/admin/institutions?boardId=${board.id}`}\n                                className=\"block hover:bg-gray-50 transition\"\n                            >\n                                <div className=\"px-4 py-4 sm:px-6\">\n                                    <div className=\"flex items-center justify-between\">\n                                        <div className=\"flex items-center\">\n                                            <span className=\"text-sm font-medium text-indigo-600 truncate\">\n                                                {board.name} ({board.id})\n                                            </span>\n                                            {board.type && (\n                                                <span className=\"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800\">\n                                                    {board.type}\n                                                </span>\n                                            )}\n                                            <span className={`ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${board.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\n                                                {board.is_active ? 'Active' : 'Inactive'}\n                                            </span>\n                                        </div>\n                                        <div className=\"ml-2 flex-shrink-0 flex\">\n                                            <BoardStatusToggle boardId={board.id} isActive={board.is_active} />\n                                        </div>\n                                    </div>\n                                    <div className=\"mt-2 sm:flex sm:justify-between\">\n                                        <div className=\"sm:flex\">\n                                            <p className=\"flex items-center text-sm text-gray-500 mr-6\">\n                                                Country: {board.country.name}\n                                            </p>\n                                            {board.state && (\n                                                <p className=\"flex items-center text-sm text-gray-500 mr-6\">\n                                                    State: {board.state}\n                                                </p>\n                                            )}\n                                        </div>\n                                        <div className=\"mt-2 flex items-center text-sm text-gray-500 sm:mt-0\">\n                                            <p className=\"mr-4\">Institutions: {board._count.institutions}</p>\n                                            <p>Programs: {board._count.programs}</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </Link>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}