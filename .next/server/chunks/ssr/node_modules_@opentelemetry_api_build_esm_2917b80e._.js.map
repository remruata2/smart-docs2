{"version":3,"sources":["../../../../node_modules/%40opentelemetry/api/src/context/NoopContextManager.ts","../../../../node_modules/%40opentelemetry/api/src/context/context.ts","../../../../node_modules/%40opentelemetry/api/src/internal/semver.ts","../../../../node_modules/%40opentelemetry/api/src/version.ts","../../../../node_modules/%40opentelemetry/api/src/internal/global-utils.ts","../../../../node_modules/%40opentelemetry/api/src/platform/node/globalThis.ts","../../../../node_modules/%40opentelemetry/api/src/trace/status.ts","../../../../node_modules/%40opentelemetry/api/src/trace/trace_flags.ts","../../../../node_modules/%40opentelemetry/api/src/trace/ProxyTracer.ts","../../../../node_modules/%40opentelemetry/api/src/trace/invalid-span-constants.ts","../../../../node_modules/%40opentelemetry/api/src/diag/internal/logLevelLogger.ts","../../../../node_modules/%40opentelemetry/api/src/trace/NoopTracer.ts","../../../../node_modules/%40opentelemetry/api/src/trace/context-utils.ts","../../../../node_modules/%40opentelemetry/api/src/trace/spancontext-utils.ts","../../../../node_modules/%40opentelemetry/api/src/trace/ProxyTracerProvider.ts","../../../../node_modules/%40opentelemetry/api/src/trace-api.ts","../../../../node_modules/%40opentelemetry/api/src/api/trace.ts","../../../../node_modules/%40opentelemetry/api/src/diag/types.ts","../../../../node_modules/%40opentelemetry/api/src/trace/NonRecordingSpan.ts","../../../../node_modules/%40opentelemetry/api/src/trace/NoopTracerProvider.ts","../../../../node_modules/%40opentelemetry/api/src/diag/ComponentLogger.ts","../../../../node_modules/%40opentelemetry/api/src/api/context.ts","../../../../node_modules/%40opentelemetry/api/src/api/diag.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ROOT_CONTEXT } from './context';\nimport * as types from './types';\n\nexport class NoopContextManager implements types.ContextManager {\n  active(): types.Context {\n    return ROOT_CONTEXT;\n  }\n\n  with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    _context: types.Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    return fn.call(thisArg, ...args);\n  }\n\n  bind<T>(_context: types.Context, target: T): T {\n    return target;\n  }\n\n  enable(): this {\n    return this;\n  }\n\n  disable(): this {\n    return this;\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from './types';\n\n/** Get a key to uniquely identify a context value */\nexport function createContextKey(description: string) {\n  // The specification states that for the same input, multiple calls should\n  // return different keys. Due to the nature of the JS dependency management\n  // system, this creates problems where multiple versions of some package\n  // could hold different keys for the same property.\n  //\n  // Therefore, we use Symbol.for which returns the same key for the same input.\n  return Symbol.for(description);\n}\n\nclass BaseContext implements Context {\n  private _currentContext!: Map<symbol, unknown>;\n\n  /**\n   * Construct a new context which inherits values from an optional parent context.\n   *\n   * @param parentContext a context from which to inherit values\n   */\n  constructor(parentContext?: Map<symbol, unknown>) {\n    // for minification\n    const self = this;\n\n    self._currentContext = parentContext ? new Map(parentContext) : new Map();\n\n    self.getValue = (key: symbol) => self._currentContext.get(key);\n\n    self.setValue = (key: symbol, value: unknown): Context => {\n      const context = new BaseContext(self._currentContext);\n      context._currentContext.set(key, value);\n      return context;\n    };\n\n    self.deleteValue = (key: symbol): Context => {\n      const context = new BaseContext(self._currentContext);\n      context._currentContext.delete(key);\n      return context;\n    };\n  }\n\n  /**\n   * Get a value from the context.\n   *\n   * @param key key which identifies a context value\n   */\n  public getValue!: (key: symbol) => unknown;\n\n  /**\n   * Create a new context which inherits from this context and has\n   * the given key set to the given value.\n   *\n   * @param key context key for which to set the value\n   * @param value value to set for the given key\n   */\n  public setValue!: (key: symbol, value: unknown) => Context;\n\n  /**\n   * Return a new context which inherits from this context but does\n   * not contain a value for the given key.\n   *\n   * @param key context key for which to clear a value\n   */\n  public deleteValue!: (key: symbol) => Context;\n}\n\n/** The root context is used as the default parent context when there is no active context */\nexport const ROOT_CONTEXT: Context = new BaseContext();\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { VERSION } from '../version';\n\nconst re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;\n\n/**\n * Create a function to test an API version to see if it is compatible with the provided ownVersion.\n *\n * The returned function has the following semantics:\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param ownVersion version which should be checked against\n */\nexport function _makeCompatibilityCheck(\n  ownVersion: string\n): (globalVersion: string) => boolean {\n  const acceptedVersions = new Set<string>([ownVersion]);\n  const rejectedVersions = new Set<string>();\n\n  const myVersionMatch = ownVersion.match(re);\n  if (!myVersionMatch) {\n    // we cannot guarantee compatibility so we always return noop\n    return () => false;\n  }\n\n  const ownVersionParsed = {\n    major: +myVersionMatch[1],\n    minor: +myVersionMatch[2],\n    patch: +myVersionMatch[3],\n    prerelease: myVersionMatch[4],\n  };\n\n  // if ownVersion has a prerelease tag, versions must match exactly\n  if (ownVersionParsed.prerelease != null) {\n    return function isExactmatch(globalVersion: string): boolean {\n      return globalVersion === ownVersion;\n    };\n  }\n\n  function _reject(v: string) {\n    rejectedVersions.add(v);\n    return false;\n  }\n\n  function _accept(v: string) {\n    acceptedVersions.add(v);\n    return true;\n  }\n\n  return function isCompatible(globalVersion: string): boolean {\n    if (acceptedVersions.has(globalVersion)) {\n      return true;\n    }\n\n    if (rejectedVersions.has(globalVersion)) {\n      return false;\n    }\n\n    const globalVersionMatch = globalVersion.match(re);\n    if (!globalVersionMatch) {\n      // cannot parse other version\n      // we cannot guarantee compatibility so we always noop\n      return _reject(globalVersion);\n    }\n\n    const globalVersionParsed = {\n      major: +globalVersionMatch[1],\n      minor: +globalVersionMatch[2],\n      patch: +globalVersionMatch[3],\n      prerelease: globalVersionMatch[4],\n    };\n\n    // if globalVersion has a prerelease tag, versions must match exactly\n    if (globalVersionParsed.prerelease != null) {\n      return _reject(globalVersion);\n    }\n\n    // major versions must match\n    if (ownVersionParsed.major !== globalVersionParsed.major) {\n      return _reject(globalVersion);\n    }\n\n    if (ownVersionParsed.major === 0) {\n      if (\n        ownVersionParsed.minor === globalVersionParsed.minor &&\n        ownVersionParsed.patch <= globalVersionParsed.patch\n      ) {\n        return _accept(globalVersion);\n      }\n\n      return _reject(globalVersion);\n    }\n\n    if (ownVersionParsed.minor <= globalVersionParsed.minor) {\n      return _accept(globalVersion);\n    }\n\n    return _reject(globalVersion);\n  };\n}\n\n/**\n * Test an API version to see if it is compatible with this API.\n *\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param version version of the API requesting an instance of the global API\n */\nexport const isCompatible = _makeCompatibilityCheck(VERSION);\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const VERSION = '1.9.0';\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MeterProvider } from '../metrics/MeterProvider';\nimport { ContextManager } from '../context/types';\nimport { DiagLogger } from '../diag/types';\nimport { _globalThis } from '../platform';\nimport { TextMapPropagator } from '../propagation/TextMapPropagator';\nimport type { TracerProvider } from '../trace/tracer_provider';\nimport { VERSION } from '../version';\nimport { isCompatible } from './semver';\n\nconst major = VERSION.split('.')[0];\nconst GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\n  `opentelemetry.js.api.${major}`\n);\n\nconst _global = _globalThis as OTelGlobal;\n\nexport function registerGlobal<Type extends keyof OTelGlobalAPI>(\n  type: Type,\n  instance: OTelGlobalAPI[Type],\n  diag: DiagLogger,\n  allowOverride = false\n): boolean {\n  const api = (_global[GLOBAL_OPENTELEMETRY_API_KEY] = _global[\n    GLOBAL_OPENTELEMETRY_API_KEY\n  ] ?? {\n    version: VERSION,\n  });\n\n  if (!allowOverride && api[type]) {\n    // already registered an API of this type\n    const err = new Error(\n      `@opentelemetry/api: Attempted duplicate registration of API: ${type}`\n    );\n    diag.error(err.stack || err.message);\n    return false;\n  }\n\n  if (api.version !== VERSION) {\n    // All registered APIs must be of the same version exactly\n    const err = new Error(\n      `@opentelemetry/api: Registration of version v${api.version} for ${type} does not match previously registered API v${VERSION}`\n    );\n    diag.error(err.stack || err.message);\n    return false;\n  }\n\n  api[type] = instance;\n  diag.debug(\n    `@opentelemetry/api: Registered a global for ${type} v${VERSION}.`\n  );\n\n  return true;\n}\n\nexport function getGlobal<Type extends keyof OTelGlobalAPI>(\n  type: Type\n): OTelGlobalAPI[Type] | undefined {\n  const globalVersion = _global[GLOBAL_OPENTELEMETRY_API_KEY]?.version;\n  if (!globalVersion || !isCompatible(globalVersion)) {\n    return;\n  }\n  return _global[GLOBAL_OPENTELEMETRY_API_KEY]?.[type];\n}\n\nexport function unregisterGlobal(type: keyof OTelGlobalAPI, diag: DiagLogger) {\n  diag.debug(\n    `@opentelemetry/api: Unregistering a global for ${type} v${VERSION}.`\n  );\n  const api = _global[GLOBAL_OPENTELEMETRY_API_KEY];\n\n  if (api) {\n    delete api[type];\n  }\n}\n\ntype OTelGlobal = {\n  [GLOBAL_OPENTELEMETRY_API_KEY]?: OTelGlobalAPI;\n};\n\ntype OTelGlobalAPI = {\n  version: string;\n\n  diag?: DiagLogger;\n  trace?: TracerProvider;\n  context?: ContextManager;\n  metrics?: MeterProvider;\n  propagation?: TextMapPropagator;\n};\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins\nexport const _globalThis = typeof globalThis === 'object' ? globalThis : global;\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport interface SpanStatus {\n  /** The status code of this message. */\n  code: SpanStatusCode;\n  /** A developer-facing error message. */\n  message?: string;\n}\n\n/**\n * An enumeration of status codes.\n */\nexport enum SpanStatusCode {\n  /**\n   * The default status.\n   */\n  UNSET = 0,\n  /**\n   * The operation has been validated by an Application developer or\n   * Operator to have completed successfully.\n   */\n  OK = 1,\n  /**\n   * The operation contains an error.\n   */\n  ERROR = 2,\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum TraceFlags {\n  /** Represents no flag set. */\n  NONE = 0x0,\n  /** Bit to represent whether trace is sampled in trace flags. */\n  SAMPLED = 0x1 << 0,\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\nimport { NoopTracer } from './NoopTracer';\nimport { Span } from './span';\nimport { SpanOptions } from './SpanOptions';\nimport { Tracer } from './tracer';\nimport { TracerOptions } from './tracer_options';\n\nconst NOOP_TRACER = new NoopTracer();\n\n/**\n * Proxy tracer provided by the proxy tracer provider\n */\nexport class ProxyTracer implements Tracer {\n  // When a real implementation is provided, this will be it\n  private _delegate?: Tracer;\n\n  constructor(\n    private _provider: TracerDelegator,\n    public readonly name: string,\n    public readonly version?: string,\n    public readonly options?: TracerOptions\n  ) {}\n\n  startSpan(name: string, options?: SpanOptions, context?: Context): Span {\n    return this._getTracer().startSpan(name, options, context);\n  }\n\n  startActiveSpan<F extends (span: Span) => unknown>(\n    _name: string,\n    _options: F | SpanOptions,\n    _context?: F | Context,\n    _fn?: F\n  ): ReturnType<F> {\n    const tracer = this._getTracer();\n    return Reflect.apply(tracer.startActiveSpan, tracer, arguments);\n  }\n\n  /**\n   * Try to get a tracer from the proxy tracer provider.\n   * If the proxy tracer provider has no delegate, return a noop tracer.\n   */\n  private _getTracer() {\n    if (this._delegate) {\n      return this._delegate;\n    }\n\n    const tracer = this._provider.getDelegateTracer(\n      this.name,\n      this.version,\n      this.options\n    );\n\n    if (!tracer) {\n      return NOOP_TRACER;\n    }\n\n    this._delegate = tracer;\n    return this._delegate;\n  }\n}\n\nexport interface TracerDelegator {\n  getDelegateTracer(\n    name: string,\n    version?: string,\n    options?: TracerOptions\n  ): Tracer | undefined;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanContext } from './span_context';\nimport { TraceFlags } from './trace_flags';\n\nexport const INVALID_SPANID = '0000000000000000';\nexport const INVALID_TRACEID = '00000000000000000000000000000000';\nexport const INVALID_SPAN_CONTEXT: SpanContext = {\n  traceId: INVALID_TRACEID,\n  spanId: INVALID_SPANID,\n  traceFlags: TraceFlags.NONE,\n};\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagLogFunction, DiagLogger, DiagLogLevel } from '../types';\n\nexport function createLogLevelDiagLogger(\n  maxLevel: DiagLogLevel,\n  logger: DiagLogger\n): DiagLogger {\n  if (maxLevel < DiagLogLevel.NONE) {\n    maxLevel = DiagLogLevel.NONE;\n  } else if (maxLevel > DiagLogLevel.ALL) {\n    maxLevel = DiagLogLevel.ALL;\n  }\n\n  // In case the logger is null or undefined\n  logger = logger || {};\n\n  function _filterFunc(\n    funcName: keyof DiagLogger,\n    theLevel: DiagLogLevel\n  ): DiagLogFunction {\n    const theFunc = logger[funcName];\n\n    if (typeof theFunc === 'function' && maxLevel >= theLevel) {\n      return theFunc.bind(logger);\n    }\n    return function () {};\n  }\n\n  return {\n    error: _filterFunc('error', DiagLogLevel.ERROR),\n    warn: _filterFunc('warn', DiagLogLevel.WARN),\n    info: _filterFunc('info', DiagLogLevel.INFO),\n    debug: _filterFunc('debug', DiagLogLevel.DEBUG),\n    verbose: _filterFunc('verbose', DiagLogLevel.VERBOSE),\n  };\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContextAPI } from '../api/context';\nimport { Context } from '../context/types';\nimport { getSpanContext, setSpan } from '../trace/context-utils';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { Span } from './span';\nimport { isSpanContextValid } from './spancontext-utils';\nimport { SpanOptions } from './SpanOptions';\nimport { SpanContext } from './span_context';\nimport { Tracer } from './tracer';\n\nconst contextApi = ContextAPI.getInstance();\n\n/**\n * No-op implementations of {@link Tracer}.\n */\nexport class NoopTracer implements Tracer {\n  // startSpan starts a noop span.\n  startSpan(\n    name: string,\n    options?: SpanOptions,\n    context = contextApi.active()\n  ): Span {\n    const root = Boolean(options?.root);\n    if (root) {\n      return new NonRecordingSpan();\n    }\n\n    const parentFromContext = context && getSpanContext(context);\n\n    if (\n      isSpanContext(parentFromContext) &&\n      isSpanContextValid(parentFromContext)\n    ) {\n      return new NonRecordingSpan(parentFromContext);\n    } else {\n      return new NonRecordingSpan();\n    }\n  }\n\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    opts: SpanOptions | undefined,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    opts: SpanOptions | undefined,\n    ctx: Context | undefined,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    arg2?: F | SpanOptions,\n    arg3?: F | Context,\n    arg4?: F\n  ): ReturnType<F> | undefined {\n    let opts: SpanOptions | undefined;\n    let ctx: Context | undefined;\n    let fn: F;\n\n    if (arguments.length < 2) {\n      return;\n    } else if (arguments.length === 2) {\n      fn = arg2 as F;\n    } else if (arguments.length === 3) {\n      opts = arg2 as SpanOptions | undefined;\n      fn = arg3 as F;\n    } else {\n      opts = arg2 as SpanOptions | undefined;\n      ctx = arg3 as Context | undefined;\n      fn = arg4 as F;\n    }\n\n    const parentContext = ctx ?? contextApi.active();\n    const span = this.startSpan(name, opts, parentContext);\n    const contextWithSpanSet = setSpan(parentContext, span);\n\n    return contextApi.with(contextWithSpanSet, fn, undefined, span);\n  }\n}\n\nfunction isSpanContext(spanContext: any): spanContext is SpanContext {\n  return (\n    typeof spanContext === 'object' &&\n    typeof spanContext['spanId'] === 'string' &&\n    typeof spanContext['traceId'] === 'string' &&\n    typeof spanContext['traceFlags'] === 'number'\n  );\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContextKey } from '../context/context';\nimport { Context } from '../context/types';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { ContextAPI } from '../api/context';\n\n/**\n * span key\n */\nconst SPAN_KEY = createContextKey('OpenTelemetry Context Key SPAN');\n\n/**\n * Return the span if one exists\n *\n * @param context context to get span from\n */\nexport function getSpan(context: Context): Span | undefined {\n  return (context.getValue(SPAN_KEY) as Span) || undefined;\n}\n\n/**\n * Gets the span from the current context, if one exists.\n */\nexport function getActiveSpan(): Span | undefined {\n  return getSpan(ContextAPI.getInstance().active());\n}\n\n/**\n * Set the span on a context\n *\n * @param context context to use as parent\n * @param span span to set active\n */\nexport function setSpan(context: Context, span: Span): Context {\n  return context.setValue(SPAN_KEY, span);\n}\n\n/**\n * Remove current span stored in the context\n *\n * @param context context to delete span from\n */\nexport function deleteSpan(context: Context): Context {\n  return context.deleteValue(SPAN_KEY);\n}\n\n/**\n * Wrap span context in a NoopSpan and set as span in a new\n * context\n *\n * @param context context to set active span on\n * @param spanContext span context to be wrapped\n */\nexport function setSpanContext(\n  context: Context,\n  spanContext: SpanContext\n): Context {\n  return setSpan(context, new NonRecordingSpan(spanContext));\n}\n\n/**\n * Get the span context of the span if it exists.\n *\n * @param context context to get values from\n */\nexport function getSpanContext(context: Context): SpanContext | undefined {\n  return getSpan(context)?.spanContext();\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPANID, INVALID_TRACEID } from './invalid-span-constants';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\n\nconst VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;\nconst VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;\n\nexport function isValidTraceId(traceId: string): boolean {\n  return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;\n}\n\nexport function isValidSpanId(spanId: string): boolean {\n  return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;\n}\n\n/**\n * Returns true if this {@link SpanContext} is valid.\n * @return true if this {@link SpanContext} is valid.\n */\nexport function isSpanContextValid(spanContext: SpanContext): boolean {\n  return (\n    isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId)\n  );\n}\n\n/**\n * Wrap the given {@link SpanContext} in a new non-recording {@link Span}\n *\n * @param spanContext span context to be wrapped\n * @returns a new non-recording {@link Span} with the provided context\n */\nexport function wrapSpanContext(spanContext: SpanContext): Span {\n  return new NonRecordingSpan(spanContext);\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Tracer } from './tracer';\nimport { TracerProvider } from './tracer_provider';\nimport { ProxyTracer } from './ProxyTracer';\nimport { NoopTracerProvider } from './NoopTracerProvider';\nimport { TracerOptions } from './tracer_options';\n\nconst NOOP_TRACER_PROVIDER = new NoopTracerProvider();\n\n/**\n * Tracer provider which provides {@link ProxyTracer}s.\n *\n * Before a delegate is set, tracers provided are NoOp.\n *   When a delegate is set, traces are provided from the delegate.\n *   When a delegate is set after tracers have already been provided,\n *   all tracers already provided will use the provided delegate implementation.\n */\nexport class ProxyTracerProvider implements TracerProvider {\n  private _delegate?: TracerProvider;\n\n  /**\n   * Get a {@link ProxyTracer}\n   */\n  getTracer(name: string, version?: string, options?: TracerOptions): Tracer {\n    return (\n      this.getDelegateTracer(name, version, options) ??\n      new ProxyTracer(this, name, version, options)\n    );\n  }\n\n  getDelegate(): TracerProvider {\n    return this._delegate ?? NOOP_TRACER_PROVIDER;\n  }\n\n  /**\n   * Set the delegate tracer provider\n   */\n  setDelegate(delegate: TracerProvider) {\n    this._delegate = delegate;\n  }\n\n  getDelegateTracer(\n    name: string,\n    version?: string,\n    options?: TracerOptions\n  ): Tracer | undefined {\n    return this._delegate?.getTracer(name, version, options);\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { TraceAPI } from './api/trace';\n/** Entrypoint for trace API */\nexport const trace = TraceAPI.getInstance();\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { ProxyTracerProvider } from '../trace/ProxyTracerProvider';\nimport {\n  isSpanContextValid,\n  wrapSpanContext,\n} from '../trace/spancontext-utils';\nimport { Tracer } from '../trace/tracer';\nimport { TracerProvider } from '../trace/tracer_provider';\nimport {\n  deleteSpan,\n  getActiveSpan,\n  getSpan,\n  getSpanContext,\n  setSpan,\n  setSpanContext,\n} from '../trace/context-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'trace';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Tracing API\n */\nexport class TraceAPI {\n  private static _instance?: TraceAPI;\n\n  private _proxyTracerProvider = new ProxyTracerProvider();\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Trace API */\n  public static getInstance(): TraceAPI {\n    if (!this._instance) {\n      this._instance = new TraceAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current global tracer.\n   *\n   * @returns true if the tracer provider was successfully registered, else false\n   */\n  public setGlobalTracerProvider(provider: TracerProvider): boolean {\n    const success = registerGlobal(\n      API_NAME,\n      this._proxyTracerProvider,\n      DiagAPI.instance()\n    );\n    if (success) {\n      this._proxyTracerProvider.setDelegate(provider);\n    }\n    return success;\n  }\n\n  /**\n   * Returns the global tracer provider.\n   */\n  public getTracerProvider(): TracerProvider {\n    return getGlobal(API_NAME) || this._proxyTracerProvider;\n  }\n\n  /**\n   * Returns a tracer from the global tracer provider.\n   */\n  public getTracer(name: string, version?: string): Tracer {\n    return this.getTracerProvider().getTracer(name, version);\n  }\n\n  /** Remove the global tracer provider */\n  public disable() {\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n    this._proxyTracerProvider = new ProxyTracerProvider();\n  }\n\n  public wrapSpanContext = wrapSpanContext;\n\n  public isSpanContextValid = isSpanContextValid;\n\n  public deleteSpan = deleteSpan;\n\n  public getSpan = getSpan;\n\n  public getActiveSpan = getActiveSpan;\n\n  public getSpanContext = getSpanContext;\n\n  public setSpan = setSpan;\n\n  public setSpanContext = setSpanContext;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type DiagLogFunction = (message: string, ...args: unknown[]) => void;\n\n/**\n * Defines an internal diagnostic logger interface which is used to log internal diagnostic\n * messages, you can set the default diagnostic logger via the {@link DiagAPI} setLogger function.\n * API provided implementations include :-\n * - a No-Op {@link createNoopDiagLogger}\n * - a {@link DiagLogLevel} filtering wrapper {@link createLogLevelDiagLogger}\n * - a general Console {@link DiagConsoleLogger} version.\n */\nexport interface DiagLogger {\n  /** Log an error scenario that was not expected and caused the requested operation to fail. */\n  error: DiagLogFunction;\n\n  /**\n   * Log a warning scenario to inform the developer of an issues that should be investigated.\n   * The requested operation may or may not have succeeded or completed.\n   */\n  warn: DiagLogFunction;\n\n  /**\n   * Log a general informational message, this should not affect functionality.\n   * This is also the default logging level so this should NOT be used for logging\n   * debugging level information.\n   */\n  info: DiagLogFunction;\n\n  /**\n   * Log a general debug message that can be useful for identifying a failure.\n   * Information logged at this level may include diagnostic details that would\n   * help identify a failure scenario.\n   * For example: Logging the order of execution of async operations.\n   */\n  debug: DiagLogFunction;\n\n  /**\n   * Log a detailed (verbose) trace level logging that can be used to identify failures\n   * where debug level logging would be insufficient, this level of tracing can include\n   * input and output parameters and as such may include PII information passing through\n   * the API. As such it is recommended that this level of tracing should not be enabled\n   * in a production environment.\n   */\n  verbose: DiagLogFunction;\n}\n\n/**\n * Defines the available internal logging levels for the diagnostic logger, the numeric values\n * of the levels are defined to match the original values from the initial LogLevel to avoid\n * compatibility/migration issues for any implementation that assume the numeric ordering.\n */\nexport enum DiagLogLevel {\n  /** Diagnostic Logging level setting to disable all logging (except and forced logs) */\n  NONE = 0,\n\n  /** Identifies an error scenario */\n  ERROR = 30,\n\n  /** Identifies a warning scenario */\n  WARN = 50,\n\n  /** General informational log message */\n  INFO = 60,\n\n  /** General debug log message */\n  DEBUG = 70,\n\n  /**\n   * Detailed trace level logging should only be used for development, should only be set\n   * in a development environment.\n   */\n  VERBOSE = 80,\n\n  /** Used to set the logging level to include all logging */\n  ALL = 9999,\n}\n\n/**\n * Defines options for ComponentLogger\n */\nexport interface ComponentLoggerOptions {\n  namespace: string;\n}\n\nexport interface DiagLoggerOptions {\n  /**\n   * The {@link DiagLogLevel} used to filter logs sent to the logger.\n   *\n   * @defaultValue DiagLogLevel.INFO\n   */\n  logLevel?: DiagLogLevel;\n\n  /**\n   * Setting this value to `true` will suppress the warning message normally emitted when registering a logger when another logger is already registered.\n   */\n  suppressOverrideMessage?: boolean;\n}\n\nexport interface DiagLoggerApi {\n  /**\n   * Set the global DiagLogger and DiagLogLevel.\n   * If a global diag logger is already set, this will override it.\n   *\n   * @param logger - The {@link DiagLogger} instance to set as the default logger.\n   * @param options - A {@link DiagLoggerOptions} object. If not provided, default values will be set.\n   * @returns `true` if the logger was successfully registered, else `false`\n   */\n  setLogger(logger: DiagLogger, options?: DiagLoggerOptions): boolean;\n\n  /**\n   *\n   * @param logger - The {@link DiagLogger} instance to set as the default logger.\n   * @param logLevel - The {@link DiagLogLevel} used to filter logs sent to the logger. If not provided it will default to {@link DiagLogLevel.INFO}.\n   * @returns `true` if the logger was successfully registered, else `false`\n   */\n  setLogger(logger: DiagLogger, logLevel?: DiagLogLevel): boolean;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Exception } from '../common/Exception';\nimport { TimeInput } from '../common/Time';\nimport { SpanAttributes } from './attributes';\nimport { INVALID_SPAN_CONTEXT } from './invalid-span-constants';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\nimport { SpanStatus } from './status';\nimport { Link } from './link';\n\n/**\n * The NonRecordingSpan is the default {@link Span} that is used when no Span\n * implementation is available. All operations are no-op including context\n * propagation.\n */\nexport class NonRecordingSpan implements Span {\n  constructor(\n    private readonly _spanContext: SpanContext = INVALID_SPAN_CONTEXT\n  ) {}\n\n  // Returns a SpanContext.\n  spanContext(): SpanContext {\n    return this._spanContext;\n  }\n\n  // By default does nothing\n  setAttribute(_key: string, _value: unknown): this {\n    return this;\n  }\n\n  // By default does nothing\n  setAttributes(_attributes: SpanAttributes): this {\n    return this;\n  }\n\n  // By default does nothing\n  addEvent(_name: string, _attributes?: SpanAttributes): this {\n    return this;\n  }\n\n  addLink(_link: Link): this {\n    return this;\n  }\n\n  addLinks(_links: Link[]): this {\n    return this;\n  }\n\n  // By default does nothing\n  setStatus(_status: SpanStatus): this {\n    return this;\n  }\n\n  // By default does nothing\n  updateName(_name: string): this {\n    return this;\n  }\n\n  // By default does nothing\n  end(_endTime?: TimeInput): void {}\n\n  // isRecording always returns false for NonRecordingSpan.\n  isRecording(): boolean {\n    return false;\n  }\n\n  // By default does nothing\n  recordException(_exception: Exception, _time?: TimeInput): void {}\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NoopTracer } from './NoopTracer';\nimport { Tracer } from './tracer';\nimport { TracerOptions } from './tracer_options';\nimport { TracerProvider } from './tracer_provider';\n\n/**\n * An implementation of the {@link TracerProvider} which returns an impotent\n * Tracer for all calls to `getTracer`.\n *\n * All operations are no-op.\n */\nexport class NoopTracerProvider implements TracerProvider {\n  getTracer(\n    _name?: string,\n    _version?: string,\n    _options?: TracerOptions\n  ): Tracer {\n    return new NoopTracer();\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getGlobal } from '../internal/global-utils';\nimport { ComponentLoggerOptions, DiagLogger, DiagLogFunction } from './types';\n\n/**\n * Component Logger which is meant to be used as part of any component which\n * will add automatically additional namespace in front of the log message.\n * It will then forward all message to global diag logger\n * @example\n * const cLogger = diag.createComponentLogger({ namespace: '@opentelemetry/instrumentation-http' });\n * cLogger.debug('test');\n * // @opentelemetry/instrumentation-http test\n */\nexport class DiagComponentLogger implements DiagLogger {\n  private _namespace: string;\n\n  constructor(props: ComponentLoggerOptions) {\n    this._namespace = props.namespace || 'DiagComponentLogger';\n  }\n\n  public debug(...args: any[]): void {\n    return logProxy('debug', this._namespace, args);\n  }\n\n  public error(...args: any[]): void {\n    return logProxy('error', this._namespace, args);\n  }\n\n  public info(...args: any[]): void {\n    return logProxy('info', this._namespace, args);\n  }\n\n  public warn(...args: any[]): void {\n    return logProxy('warn', this._namespace, args);\n  }\n\n  public verbose(...args: any[]): void {\n    return logProxy('verbose', this._namespace, args);\n  }\n}\n\nfunction logProxy(\n  funcName: keyof DiagLogger,\n  namespace: string,\n  args: any\n): void {\n  const logger = getGlobal('diag');\n  // shortcut if logger not set\n  if (!logger) {\n    return;\n  }\n\n  args.unshift(namespace);\n  return logger[funcName](...(args as Parameters<DiagLogFunction>));\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NoopContextManager } from '../context/NoopContextManager';\nimport { Context, ContextManager } from '../context/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'context';\nconst NOOP_CONTEXT_MANAGER = new NoopContextManager();\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Context API\n */\nexport class ContextAPI {\n  private static _instance?: ContextAPI;\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Context API */\n  public static getInstance(): ContextAPI {\n    if (!this._instance) {\n      this._instance = new ContextAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current context manager.\n   *\n   * @returns true if the context manager was successfully registered, else false\n   */\n  public setGlobalContextManager(contextManager: ContextManager): boolean {\n    return registerGlobal(API_NAME, contextManager, DiagAPI.instance());\n  }\n\n  /**\n   * Get the currently active context\n   */\n  public active(): Context {\n    return this._getContextManager().active();\n  }\n\n  /**\n   * Execute a function with an active context\n   *\n   * @param context context to be active during function execution\n   * @param fn function to execute in a context\n   * @param thisArg optional receiver to be used for calling fn\n   * @param args optional arguments forwarded to fn\n   */\n  public with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    context: Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    return this._getContextManager().with(context, fn, thisArg, ...args);\n  }\n\n  /**\n   * Bind a context to a target function or event emitter\n   *\n   * @param context context to bind to the event emitter or function. Defaults to the currently active context\n   * @param target function or event emitter to bind\n   */\n  public bind<T>(context: Context, target: T): T {\n    return this._getContextManager().bind(context, target);\n  }\n\n  private _getContextManager(): ContextManager {\n    return getGlobal(API_NAME) || NOOP_CONTEXT_MANAGER;\n  }\n\n  /** Disable and remove the global context manager */\n  public disable() {\n    this._getContextManager().disable();\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagComponentLogger } from '../diag/ComponentLogger';\nimport { createLogLevelDiagLogger } from '../diag/internal/logLevelLogger';\nimport {\n  ComponentLoggerOptions,\n  DiagLogFunction,\n  DiagLogger,\n  DiagLoggerApi,\n  DiagLogLevel,\n} from '../diag/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\n\nconst API_NAME = 'diag';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry internal\n * diagnostic API\n */\nexport class DiagAPI implements DiagLogger, DiagLoggerApi {\n  private static _instance?: DiagAPI;\n\n  /** Get the singleton instance of the DiagAPI API */\n  public static instance(): DiagAPI {\n    if (!this._instance) {\n      this._instance = new DiagAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Private internal constructor\n   * @private\n   */\n  private constructor() {\n    function _logProxy(funcName: keyof DiagLogger): DiagLogFunction {\n      return function (...args) {\n        const logger = getGlobal('diag');\n        // shortcut if logger not set\n        if (!logger) return;\n        return logger[funcName](...args);\n      };\n    }\n\n    // Using self local variable for minification purposes as 'this' cannot be minified\n    const self = this;\n\n    // DiagAPI specific functions\n\n    const setLogger: DiagLoggerApi['setLogger'] = (\n      logger,\n      optionsOrLogLevel = { logLevel: DiagLogLevel.INFO }\n    ) => {\n      if (logger === self) {\n        // There isn't much we can do here.\n        // Logging to the console might break the user application.\n        // Try to log to self. If a logger was previously registered it will receive the log.\n        const err = new Error(\n          'Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation'\n        );\n        self.error(err.stack ?? err.message);\n        return false;\n      }\n\n      if (typeof optionsOrLogLevel === 'number') {\n        optionsOrLogLevel = {\n          logLevel: optionsOrLogLevel,\n        };\n      }\n\n      const oldLogger = getGlobal('diag');\n      const newLogger = createLogLevelDiagLogger(\n        optionsOrLogLevel.logLevel ?? DiagLogLevel.INFO,\n        logger\n      );\n      // There already is an logger registered. We'll let it know before overwriting it.\n      if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {\n        const stack = new Error().stack ?? '<failed to generate stacktrace>';\n        oldLogger.warn(`Current logger will be overwritten from ${stack}`);\n        newLogger.warn(\n          `Current logger will overwrite one already registered from ${stack}`\n        );\n      }\n\n      return registerGlobal('diag', newLogger, self, true);\n    };\n\n    self.setLogger = setLogger;\n\n    self.disable = () => {\n      unregisterGlobal(API_NAME, self);\n    };\n\n    self.createComponentLogger = (options: ComponentLoggerOptions) => {\n      return new DiagComponentLogger(options);\n    };\n\n    self.verbose = _logProxy('verbose');\n    self.debug = _logProxy('debug');\n    self.info = _logProxy('info');\n    self.warn = _logProxy('warn');\n    self.error = _logProxy('error');\n  }\n\n  public setLogger!: DiagLoggerApi['setLogger'];\n  /**\n   *\n   */\n  public createComponentLogger!: (\n    options: ComponentLoggerOptions\n  ) => DiagLogger;\n\n  // DiagLogger implementation\n  public verbose!: DiagLogFunction;\n  public debug!: DiagLogFunction;\n  public info!: DiagLogFunction;\n  public warn!: DiagLogFunction;\n  public error!: DiagLogFunction;\n\n  /**\n   * Unregister the global logger and return to Noop\n   */\n  public disable!: () => void;\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]}