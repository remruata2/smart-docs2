{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../src/components/admin/FilterSelect.tsx","../../../../src/app/admin/subjects/subject-form.tsx","../../../../src/app/actions/data%3A271c02%20%3Ctext/javascript%3E","../../../../src/app/actions/data%3Aef5233%20%3Ctext/javascript%3E","../../../../src/app/admin/subjects/subject-status-toggle.tsx"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","'use client';\n\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useCallback } from \"react\";\n\ninterface FilterSelectProps {\n    name: string;\n    options: { value: string; label: string }[];\n    placeholder: string;\n    className?: string;\n}\n\nexport default function FilterSelect({ name, options, placeholder, className = \"\" }: FilterSelectProps) {\n    const router = useRouter();\n    const searchParams = useSearchParams();\n    const currentValue = searchParams.get(name) || \"\";\n\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLSelectElement>) => {\n        const value = e.target.value;\n        const params = new URLSearchParams(searchParams.toString());\n\n        if (value) {\n            params.set(name, value);\n        } else {\n            params.delete(name);\n        }\n\n        router.push(`?${params.toString()}`);\n    }, [name, router, searchParams]);\n\n    return (\n        <select\n            name={name}\n            value={currentValue}\n            onChange={handleChange}\n            className={`block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2 ${className}`}\n        >\n            <option value=\"\">{placeholder}</option>\n            {options.map(opt => (\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\n            ))}\n        </select>\n    );\n}\n","'use client';\n\nimport { useState } from \"react\";\nimport { createSubject } from \"@/app/actions/admin-extended\";\n\ninterface Program {\n    id: number;\n    name: string;\n    board: {\n        name: string;\n    };\n}\n\nexport default function SubjectForm({ programs }: { programs: Program[] }) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    async function handleSubmit(formData: FormData) {\n        setIsLoading(true);\n        setError(null);\n\n        try {\n            await createSubject(formData);\n            const form = document.getElementById(\"create-subject-form\") as HTMLFormElement;\n            form?.reset();\n        } catch (err: any) {\n            setError(err.message || \"Failed to create subject\");\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow mb-8\">\n            <h2 className=\"text-xl font-semibold mb-4\">Add New Subject</h2>\n            {error && (\n                <div className=\"mb-4 bg-red-50 border-l-4 border-red-400 p-4\">\n                    <p className=\"text-sm text-red-700\">{error}</p>\n                </div>\n            )}\n            <form id=\"create-subject-form\" action={handleSubmit} className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Program</label>\n                    <select name=\"programId\" required className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\">\n                        <option value=\"\">Select Program</option>\n                        {programs.map(p => (\n                            <option key={p.id} value={p.id}>{p.name} ({p.board.name})</option>\n                        ))}\n                    </select>\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Subject Name</label>\n                    <input type=\"text\" name=\"name\" required className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\" placeholder=\"Physics\" />\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Code (Optional)</label>\n                    <input type=\"text\" name=\"code\" className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\" placeholder=\"PHY\" />\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Term/Semester (Optional)</label>\n                    <input type=\"text\" name=\"term\" className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\" placeholder=\"Semester 1\" />\n                </div>\n                <button type=\"submit\" disabled={isLoading} className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50\">\n                    {isLoading ? \"Adding...\" : \"Add Subject\"}\n                </button>\n            </form>\n        </div>\n    );\n}\n","/* __next_internal_action_entry_do_not_use__ [{\"4036ae74671c144c1f1fc8ad293cfe56861e33fbaf\":\"createSubject\"},\"src/app/actions/admin-extended.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var createSubject=/*#__PURE__*/createServerReference(\"4036ae74671c144c1f1fc8ad293cfe56861e33fbaf\",callServer,void 0,findSourceMapURL,\"createSubject\");","/* __next_internal_action_entry_do_not_use__ [{\"60270951ac790cbf12e5a9a1ec82ad4c28b3a4ba25\":\"updateSubjectStatus\"},\"src/app/actions/admin-extended.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updateSubjectStatus=/*#__PURE__*/createServerReference(\"60270951ac790cbf12e5a9a1ec82ad4c28b3a4ba25\",callServer,void 0,findSourceMapURL,\"updateSubjectStatus\");","'use client';\n\nimport { updateSubjectStatus } from \"@/app/actions/admin-extended\";\nimport { useState } from \"react\";\n\nexport default function SubjectStatusToggle({\n    subjectId,\n    isActive\n}: {\n    subjectId: number;\n    isActive: boolean;\n}) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    async function handleToggle(e: React.MouseEvent) {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsLoading(true);\n        try {\n            await updateSubjectStatus(subjectId, !isActive);\n        } catch (error) {\n            console.error(\"Failed to toggle status\", error);\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    return (\n        <button\n            onClick={handleToggle}\n            disabled={isLoading}\n            className=\"text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50\"\n        >\n            {isLoading ? \"Updating...\" : (isActive ? 'Deactivate' : 'Activate')}\n        </button>\n    );\n}\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"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","ignoreList":[0]}