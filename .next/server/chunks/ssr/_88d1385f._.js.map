{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../node_modules/%40radix-ui/react-label/dist/index.mjs","../../../../src/components/ui/label.tsx","../../../../node_modules/lucide-react/src/icons/trash-2.ts","../../../../node_modules/lucide-react/src/icons/pencil.ts","../../../../src/components/ui/table.tsx","../../../../src/components/auth/RoleGuard.tsx","../../../../node_modules/lucide-react/src/icons/circle-plus.ts","../../../../src/app/admin/settings/ai-models/AiModelsClient.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('loader-circle', __iconNode);\n\nexport default LoaderCircle;\n","\"use client\";\n\n// src/label.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Label\";\nvar Label = React.forwardRef((props, forwardedRef) => {\n  return /* @__PURE__ */ jsx(\n    Primitive.label,\n    {\n      ...props,\n      ref: forwardedRef,\n      onMouseDown: (event) => {\n        const target = event.target;\n        if (target.closest(\"button, input, select, textarea\")) return;\n        props.onMouseDown?.(event);\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }\n    }\n  );\n});\nLabel.displayName = NAME;\nvar Root = Label;\nexport {\n  Label,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n  ['path', { d: 'm15 5 4 4', key: '1mk7zo' }],\n];\n\n/**\n * @component @name Pencil\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KICA8cGF0aCBkPSJtMTUgNSA0IDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pencil\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pencil = createLucideIcon('pencil', __iconNode);\n\nexport default Pencil;\n","\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","\"use client\";\n\nimport { useSession } from \"next-auth/react\";\nimport { useRouter, usePathname, useSearchParams } from \"next/navigation\";\nimport { useEffect, useState, useCallback } from \"react\";\nimport { AlertCircle, Loader2 } from \"lucide-react\";\n\n// Import UserRole directly from Prisma\n\ninterface RoleGuardProps {\n\t/** The content to render if the user is authorized */\n\tchildren: React.ReactNode;\n\t/** The minimum role required to access the content */\n\trequiredRole: \"admin\" | \"institution\";\n\t/** Whether to allow admin access (admins bypass role checks) */\n\tallowAdmin?: boolean;\n\t/** Where to redirect if the user is not authorized */\n\tredirectTo?: string;\n\t/** Custom unauthorized content to render instead of redirecting */\n\tunauthorizedContent?: React.ReactNode;\n\t/** Whether to show loading state */\n\tshowLoading?: boolean;\n}\n\n/**\n * A component that renders its children only if the user has the required role.\n * If not, it will either redirect to the login page or show an unauthorized message.\n */\nconst RoleGuard = ({\n\tchildren,\n\trequiredRole,\n\tallowAdmin = true,\n\tredirectTo = \"/unauthorized\",\n\tunauthorizedContent,\n\tshowLoading = true,\n}: RoleGuardProps) => {\n\tconst { data: session, status } = useSession();\n\tconst router = useRouter();\n\tconst pathname = usePathname();\n\tconst searchParams = useSearchParams();\n\tconst [isChecking, setIsChecking] = useState(true);\n\tconst [error, setError] = useState<string | null>(null);\n\n\tconst checkAccess = useCallback(async () => {\n\t\tif (status === \"loading\") return;\n\n\t\ttry {\n\t\t\tsetIsChecking(true);\n\t\t\tsetError(null);\n\n\t\t\t// If user is not authenticated, redirect to login\n\t\t\tif (status === \"unauthenticated\" || !session?.user) {\n\t\t\t\tconst callbackUrl = encodeURIComponent(`${pathname}?${searchParams}`);\n\t\t\t\trouter.push(`/login?callbackUrl=${callbackUrl}`);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get user role from session\n\t\t\tconst userRole = session?.user?.role;\n\n\t\t\t// If no role found, deny access\n\t\t\tif (!userRole) {\n\t\t\t\tconsole.warn(\"User role not found in session\");\n\t\t\t\tif (redirectTo) {\n\t\t\t\t\trouter.push(redirectTo);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tsetError(\"User role not found. Please try logging in again.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Check if user has the required role or is admin (if allowed)\n\t\t\tconst hasAccess =\n\t\t\t\t(allowAdmin && userRole === \"admin\") ||\n\t\t\t\t(requiredRole === \"institution\" &&\n\t\t\t\t\t(userRole === \"institution\" || userRole === \"admin\")) ||\n\t\t\t\t(requiredRole === \"admin\" && userRole === \"admin\");\n\n\t\t\tif (!hasAccess) {\n\t\t\t\tconst errorMsg = `You don't have permission to access this page. Required role: ${requiredRole}`;\n\n\t\t\t\tif (redirectTo) {\n\t\t\t\t\trouter.push(redirectTo);\n\t\t\t\t} else {\n\t\t\t\t\tsetError(errorMsg);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Error checking access:\", err);\n\t\t\tsetError(\"An error occurred while checking your permissions.\");\n\t\t} finally {\n\t\t\tsetIsChecking(false);\n\t\t}\n\t}, [\n\t\tstatus,\n\t\tsession,\n\t\trequiredRole,\n\t\tallowAdmin,\n\t\tredirectTo,\n\t\trouter,\n\t\tpathname,\n\t\tsearchParams,\n\t]);\n\n\tuseEffect(() => {\n\t\tcheckAccess();\n\t}, [checkAccess]);\n\n\t// Show loading state\n\tif (isChecking && showLoading) {\n\t\treturn (\n\t\t\t<div className=\"flex flex-col items-center justify-center min-h-[200px] gap-4 p-8\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"relative\n          h-12 w-12\n          flex items-center justify-center\n          rounded-full\n          bg-primary/10\n          text-primary\n          animate-pulse\n        \"\n\t\t\t\t>\n\t\t\t\t\t<Loader2 className=\"h-6 w-6 animate-spin\" />\n\t\t\t\t</div>\n\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\tVerifying permissions...\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Show error message if there was an error and we're not redirecting\n\tif (error && !redirectTo) {\n\t\treturn (\n\t\t\t<div className=\"container mx-auto p-6 max-w-2xl\">\n\t\t\t\t<div className=\"border border-destructive/20 bg-destructive/5 rounded-lg overflow-hidden\">\n\t\t\t\t\t<div className=\"p-6 space-y-4\">\n\t\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t\t<div className=\"flex-shrink-0 h-5 w-5 text-destructive\">\n\t\t\t\t\t\t\t\t<AlertCircle className=\"h-5 w-5\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-1.5\">\n\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-medium text-foreground\">\n\t\t\t\t\t\t\t\t\tAccess Denied\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">{error}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex justify-end pt-2\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => window.history.back()}\n\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors h-9 px-4 py-2 border border-destructive/20 text-destructive hover:bg-destructive/10 hover:text-destructive\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tGo Back\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Show custom unauthorized content if provided\n\tif (error && unauthorizedContent) {\n\t\treturn <>{unauthorizedContent}</>;\n\t}\n\n\t// If we get here, the user is authorized\n\treturn <>{children}</>;\n};\n\nexport default RoleGuard;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 12h8', key: '1wcyev' }],\n  ['path', { d: 'M12 8v8', key: 'napkw2' }],\n];\n\n/**\n * @component @name CirclePlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik0xMiA4djgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CirclePlus = createLucideIcon('circle-plus', __iconNode);\n\nexport default CirclePlus;\n","'use client';\n\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { RoleGuard } from '@/components/auth';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { toast } from 'sonner';\nimport {\n  Table,\n  TableHeader,\n  TableRow,\n  TableHead,\n  TableBody,\n  TableCell,\n} from '@/components/ui/table';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport { Loader2, Pencil, PlusCircle, Trash2 } from 'lucide-react';\n\ninterface AiModelItem {\n  id: number;\n  provider: string;\n  name: string;\n  label: string;\n  active: boolean;\n  priority: number;\n}\n\nconst emptyForm: Omit<AiModelItem, 'id'> = {\n  provider: 'gemini',\n  name: '',\n  label: '',\n  active: true,\n  priority: 0,\n};\n\nexport default function AiModelsClient() {\n  const [items, setItems] = useState<AiModelItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const loadSeq = useRef(0);\n\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [editingId, setEditingId] = useState<number | null>(null);\n  const [form, setForm] = useState<Omit<AiModelItem, 'id'>>(emptyForm);\n\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\n  const [deleteId, setDeleteId] = useState<number | null>(null);\n\n  const title = useMemo(() => (editingId ? 'Update Model' : 'Create Model'), [editingId]);\n\n  const load = async () => {\n    const seq = ++loadSeq.current;\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch('/api/admin/ai/models?mode=admin', { cache: 'no-store' });\n      if (!res.ok) throw new Error('Failed to load models');\n      const data = await res.json();\n      if (seq === loadSeq.current) {\n        setItems(Array.isArray(data.models) ? data.models : []);\n      }\n    } catch (e: any) {\n      console.error(e);\n      if (seq === loadSeq.current) setError(e?.message || 'Failed to load models');\n    } finally {\n      if (seq === loadSeq.current) setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  const openCreate = () => {\n    setEditingId(null);\n    setForm(emptyForm);\n    setIsDialogOpen(true);\n  };\n\n  const openEdit = (item: AiModelItem) => {\n    setEditingId(item.id);\n    setForm({ provider: item.provider, name: item.name, label: item.label, active: item.active, priority: item.priority });\n    setIsDialogOpen(true);\n  };\n\n  const handleSave = async () => {\n    const payload = { ...form, priority: Number(form.priority) || 0 };\n    if (!payload.provider || !payload.name || !payload.label) {\n      toast.error('Please fill in provider, name and label.');\n      return;\n    }\n    try {\n      if (editingId) {\n        const result = (await toast.promise(\n          (async () => {\n            const res = await fetch(`/api/admin/ai/models/${editingId}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(payload),\n            });\n            if (!res.ok) {\n              const err = await res.json().catch(() => ({}));\n              throw new Error(err?.error || 'Failed to update model');\n            }\n            return res.json();\n          })(),\n          {\n            loading: 'Updating model...',\n            success: 'Model updated',\n            error: 'Failed to update model',\n          }\n        )) as any;\n        const updated: AiModelItem | undefined = result?.model;\n        if (updated) {\n          setItems((prev) => prev.map((m) => (m.id === updated.id ? { ...m, ...updated } : m)));\n        } else {\n          // Fallback re-fetch if response shape differs\n          await load();\n        }\n      } else {\n        const result = (await toast.promise(\n          (async () => {\n            const res = await fetch('/api/admin/ai/models', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(payload),\n            });\n            if (!res.ok) {\n              const err = await res.json().catch(() => ({}));\n              throw new Error(err?.error || 'Failed to create model');\n            }\n            return res.json();\n          })(),\n          {\n            loading: 'Creating model...',\n            success: 'Model created',\n            error: 'Failed to create model',\n          }\n        )) as any;\n        const created: AiModelItem | undefined = result?.model;\n        if (created) {\n          setItems((prev) => [created, ...prev]);\n        } else {\n          // Fallback re-fetch if response shape differs\n          await load();\n        }\n      }\n      setIsDialogOpen(false);\n      // Background refresh to ensure ordering/consistency\n      load();\n    } catch (e) {\n      // handled by toast\n    }\n  };\n\n  const confirmDelete = (id: number) => {\n    setDeleteId(id);\n    setIsDeleteOpen(true);\n  };\n\n  const doDelete = async () => {\n    if (!deleteId) return;\n    // Capture snapshot for rollback across try/catch scope\n    let prevItems: AiModelItem[] | null = null;\n    try {\n      const idToDelete = deleteId as number;\n      // Optimistically remove immediately; rollback on error\n      prevItems = items;\n      setItems((cur) => cur.filter((m) => m.id !== idToDelete));\n      await toast.promise(\n        (async () => {\n          const res = await fetch(`/api/admin/ai/models/${idToDelete}`, { method: 'DELETE' });\n          if (!res.ok) {\n            const err = await res.json().catch(() => ({}));\n            throw new Error(err?.error || 'Failed to delete model');\n          }\n          return { ok: true };\n        })(),\n        {\n          loading: 'Deleting model...',\n          success: 'Model deleted',\n          error: 'Failed to delete model',\n        }\n      );\n      setIsDeleteOpen(false);\n      setDeleteId(null);\n      // Background refresh to ensure consistency\n      // small delay to avoid race with DB commit and avoid flicker\n      setTimeout(() => {\n        load();\n      }, 150);\n    } catch (e) {\n      // Rollback optimistic change on failure\n      if (prevItems) setItems(prevItems);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-48\">\n        <Loader2 className=\"h-6 w-6 animate-spin text-blue-500\" />\n        <span className=\"ml-2 text-gray-600\">Loading...</span>\n      </div>\n    );\n  }\n\n  return (\n    <RoleGuard requiredRole=\"admin\">\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"text-sm text-gray-500\">Manage available AI models per provider. Active models appear in selectors.</div>\n          <Button className=\"bg-indigo-600 hover:bg-indigo-700 text-white\" onClick={openCreate}>\n            <PlusCircle className=\"mr-2 h-4 w-4\" /> Create New Model\n          </Button>\n        </div>\n        <Table>\n          <TableHeader className=\"bg-gray-50\">\n            <TableRow>\n              <TableHead className=\"w-[120px]\">Provider</TableHead>\n              <TableHead className=\"w-[240px]\">Label</TableHead>\n              <TableHead className=\"w-[320px]\">Model Name</TableHead>\n              <TableHead className=\"w-[80px]\">Active</TableHead>\n              <TableHead className=\"w-[100px]\">Priority</TableHead>\n              <TableHead className=\"w-[140px] text-right\">Actions</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {items.map((m) => (\n              <TableRow key={m.id}>\n                <TableCell className=\"font-medium capitalize\">{m.provider}</TableCell>\n                <TableCell>{m.label}</TableCell>\n                <TableCell><code className=\"text-xs bg-gray-50 px-2 py-0.5 rounded border\">{m.name}</code></TableCell>\n                <TableCell>\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\n                    {m.active ? 'Yes' : 'No'}\n                  </span>\n                </TableCell>\n                <TableCell>{m.priority}</TableCell>\n                <TableCell className=\"text-right\">\n                  <Button variant=\"ghost\" size=\"sm\" className=\"mr-2\" onClick={() => openEdit(m)} title=\"Edit\">\n                    <Pencil className=\"h-5 w-5\" />\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-900\" onClick={() => confirmDelete(m.id)} title=\"Delete\">\n                    <Trash2 className=\"h-5 w-5\" />\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        {items.length === 0 && (\n          <p className=\"py-4 text-center text-sm text-gray-500\">No models found. Click \"Create New Model\" to add one.</p>\n        )}\n      </div>\n\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>{title}</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"provider\">Provider</Label>\n                <Input\n                  id=\"provider\"\n                  placeholder=\"gemini\"\n                  value={form.provider}\n                  onChange={(e) => setForm((f) => ({ ...f, provider: e.target.value.toLowerCase() }))}\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"name\">Model Name</Label>\n                <Input\n                  id=\"name\"\n                  placeholder=\"gemini-2.5-pro\"\n                  value={form.name}\n                  onChange={(e) => setForm((f) => ({ ...f, name: e.target.value }))}\n                />\n              </div>\n            </div>\n            <div>\n              <Label htmlFor=\"label\">Label</Label>\n              <Input\n                id=\"label\"\n                placeholder=\"Gemini 2.5 Pro\"\n                value={form.label}\n                onChange={(e) => setForm((f) => ({ ...f, label: e.target.value }))}\n              />\n            </div>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"priority\">Priority</Label>\n                <Input\n                  id=\"priority\"\n                  type=\"number\"\n                  value={form.priority}\n                  onChange={(e) => setForm((f) => ({ ...f, priority: Number(e.target.value) }))}\n                />\n              </div>\n              <div className=\"flex items-end\">\n                <label className=\"inline-flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 rounded border-gray-300\"\n                    checked={form.active}\n                    onChange={(e) => setForm((f) => ({ ...f, active: e.target.checked }))}\n                  />\n                  <span className=\"text-sm text-gray-700\">Active</span>\n                </label>\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>Cancel</Button>\n            <Button className=\"bg-indigo-600 hover:bg-indigo-700 text-white\" onClick={handleSave}>\n              {editingId ? 'Update Model' : 'Create Model'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <AlertDialog open={isDeleteOpen} onOpenChange={setIsDeleteOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete model?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This action cannot be undone. This will permanently delete the selected model.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setDeleteId(null)}>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={doDelete}>Delete</AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </RoleGuard>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,3,4,7]}