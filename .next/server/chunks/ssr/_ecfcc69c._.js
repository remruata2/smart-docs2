module.exports=[596221,a=>{"use strict";let b=(0,a.i(170106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],596221)},405050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(120611),g=a.r(1722),h=a.r(738783)},400210,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},114548,a=>{"use strict";let b=(0,a.i(170106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],114548)},964138,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(238246),f=a.i(905113),g=a.i(596221),h=a.i(400210),i=a.i(114548),j=a.i(405050),k=(0,j.createServerReference)("60b9effd6d50e5332c8594e05d04b0fd7a2da46152",j.callServer,void 0,j.findSourceMapURL,"updateUserAction"),l=a.i(823292);function m({user:a}){let[j,m]=(0,c.useState)({username:a.username,password:"",role:a.role,is_active:a.is_active}),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),r=(0,d.useRouter)();(0,c.useEffect)(()=>{m({username:a.username,password:"",role:a.role,is_active:a.is_active})},[a]);let s=a=>{let{name:b,value:c,type:d}=a.target;if("checkbox"===d){let c=a.target.checked;m({...j,[b]:c})}else m({...j,[b]:c})},t=async b=>{if(b.preventDefault(),q(null),o(!0),!j.username){q("Username is required."),o(!1);return}let c=await k(a.id,j);o(!1),c.success&&c.user?(l.toast.success("User updated successfully."),r.push(`/admin/users/${c.user.id}`)):(q(c.error||"Failed to update user. Please try again."),l.toast.error(c.error||"Failed to update user. Please try again."))};return(0,b.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(e.default,{href:`/admin/users/${a.id}`,className:"mr-4 text-gray-500 hover:text-gray-700",children:(0,b.jsx)(h.ArrowLeft,{className:"h-5 w-5"})}),(0,b.jsxs)("h1",{className:"text-2xl font-semibold text-gray-900",children:["Edit User: ",a.username]})]})}),(0,b.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,b.jsxs)("form",{onSubmit:t,children:[(0,b.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[p&&(0,b.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:p}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[(0,b.jsxs)("div",{className:"sm:col-span-4",children:[(0,b.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("input",{type:"text",name:"username",id:"username",value:j.username,onChange:s,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-base border-gray-300 rounded-md h-8 px-4"})})]}),(0,b.jsxs)("div",{className:"sm:col-span-4",children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password (leave blank to keep current)"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("input",{type:"password",name:"password",id:"password",value:j.password,onChange:s,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-base border-gray-300 rounded-md h-8 px-4"})})]}),(0,b.jsxs)("div",{className:"sm:col-span-3",children:[(0,b.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsxs)("select",{id:"role",name:"role",value:j.role,onChange:s,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full text-base border-gray-300 rounded-md h-8 px-4",children:[(0,b.jsx)("option",{value:f.UserRole.institution,children:"Institution"}),(0,b.jsx)("option",{value:f.UserRole.admin,children:"Admin"})]})})]}),(0,b.jsx)("div",{className:"sm:col-span-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{id:"is_active",name:"is_active",type:"checkbox",checked:j.is_active,onChange:s,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,b.jsx)("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})})]})]}),(0,b.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[(0,b.jsx)(e.default,{href:`/admin/users/${a.id}`,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mr-3",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Loader2,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Save,{className:"-ml-1 mr-3 h-5 w-5"}),"Save Changes"]})})]})]})})]})}a.s(["default",()=>m],964138)}];

//# sourceMappingURL=_ecfcc69c._.js.map