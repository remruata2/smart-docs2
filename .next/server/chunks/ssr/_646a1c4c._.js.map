{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../src/components/admin/FilterSelect.tsx","../../../../src/app/admin/programs/program-form.tsx","../../../../src/app/actions/data%3Ab2711b%20%3Ctext/javascript%3E","../../../../src/app/actions/data%3Ad34ec2%20%3Ctext/javascript%3E","../../../../src/app/admin/programs/program-status-toggle.tsx"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","'use client';\n\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useCallback } from \"react\";\n\ninterface FilterSelectProps {\n    name: string;\n    options: { value: string; label: string }[];\n    placeholder: string;\n    className?: string;\n}\n\nexport default function FilterSelect({ name, options, placeholder, className = \"\" }: FilterSelectProps) {\n    const router = useRouter();\n    const searchParams = useSearchParams();\n    const currentValue = searchParams.get(name) || \"\";\n\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLSelectElement>) => {\n        const value = e.target.value;\n        const params = new URLSearchParams(searchParams.toString());\n\n        if (value) {\n            params.set(name, value);\n        } else {\n            params.delete(name);\n        }\n\n        router.push(`?${params.toString()}`);\n    }, [name, router, searchParams]);\n\n    return (\n        <select\n            name={name}\n            value={currentValue}\n            onChange={handleChange}\n            className={`block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2 ${className}`}\n        >\n            <option value=\"\">{placeholder}</option>\n            {options.map(opt => (\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\n            ))}\n        </select>\n    );\n}\n","'use client';\n\nimport { useState } from \"react\";\nimport { createProgram } from \"@/app/actions/admin-extended\";\n\ninterface Board {\n    id: string;\n    name: string;\n}\n\ninterface Institution {\n    id: bigint;\n    name: string;\n    board_id: string;\n}\n\nexport default function ProgramForm({\n    boards,\n    institutions\n}: {\n    boards: Board[];\n    institutions: Institution[];\n}) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const [selectedBoard, setSelectedBoard] = useState<string>(\"\");\n\n    async function handleSubmit(formData: FormData) {\n        setIsLoading(true);\n        setError(null);\n\n        try {\n            await createProgram(formData);\n            const form = document.getElementById(\"create-program-form\") as HTMLFormElement;\n            form?.reset();\n            setSelectedBoard(\"\");\n        } catch (err: any) {\n            setError(err.message || \"Failed to create program\");\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    const filteredInstitutions = institutions.filter(i => !selectedBoard || i.board_id === selectedBoard);\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow mb-8\">\n            <h2 className=\"text-xl font-semibold mb-4\">Add New Program</h2>\n            {error && (\n                <div className=\"mb-4 bg-red-50 border-l-4 border-red-400 p-4\">\n                    <p className=\"text-sm text-red-700\">{error}</p>\n                </div>\n            )}\n            <form id=\"create-program-form\" action={handleSubmit} className=\"grid grid-cols-1 md:grid-cols-6 gap-4 items-end\">\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Board</label>\n                    <select\n                        name=\"boardId\"\n                        required\n                        value={selectedBoard}\n                        onChange={(e) => setSelectedBoard(e.target.value)}\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\"\n                    >\n                        <option value=\"\">Select Board</option>\n                        {boards.map(b => (\n                            <option key={b.id} value={b.id}>{b.name}</option>\n                        ))}\n                    </select>\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Name</label>\n                    <input type=\"text\" name=\"name\" required className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\" placeholder=\"Class 10\" />\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Institution (Optional)</label>\n                    <select name=\"institutionId\" className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\">\n                        <option value=\"\">Board-level</option>\n                        {filteredInstitutions.map(i => (\n                            <option key={i.id.toString()} value={i.id.toString()}>{i.name}</option>\n                        ))}\n                    </select>\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Code</label>\n                    <input type=\"text\" name=\"code\" className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\" placeholder=\"CLS10\" />\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Level</label>\n                    <select name=\"level\" className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\">\n                        <option value=\"\">Select Level</option>\n                        <option value=\"secondary\">Secondary</option>\n                        <option value=\"undergraduate\">Undergraduate</option>\n                        <option value=\"postgraduate\">Postgraduate</option>\n                        <option value=\"competitive\">Competitive</option>\n                        <option value=\"professional\">Professional</option>\n                    </select>\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Duration (years)</label>\n                    <input type=\"number\" name=\"durationYears\" min=\"1\" className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2\" />\n                </div>\n                <button type=\"submit\" disabled={isLoading} className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50\">\n                    {isLoading ? \"Adding...\" : \"Add Program\"}\n                </button>\n            </form>\n        </div>\n    );\n}\n","/* __next_internal_action_entry_do_not_use__ [{\"406ec6766ac7e38f196e7d2e8e24834202c8edc438\":\"createProgram\"},\"src/app/actions/admin-extended.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var createProgram=/*#__PURE__*/createServerReference(\"406ec6766ac7e38f196e7d2e8e24834202c8edc438\",callServer,void 0,findSourceMapURL,\"createProgram\");","/* __next_internal_action_entry_do_not_use__ [{\"60b51d934c9b21464d37daa94e3d54a8151fa2155b\":\"updateProgramStatus\"},\"src/app/actions/admin-extended.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updateProgramStatus=/*#__PURE__*/createServerReference(\"60b51d934c9b21464d37daa94e3d54a8151fa2155b\",callServer,void 0,findSourceMapURL,\"updateProgramStatus\");","'use client';\n\nimport { updateProgramStatus } from \"@/app/actions/admin-extended\";\nimport { useState } from \"react\";\n\nexport default function ProgramStatusToggle({\n    programId,\n    isActive\n}: {\n    programId: number;\n    isActive: boolean;\n}) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    async function handleToggle(e: React.MouseEvent) {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsLoading(true);\n        try {\n            await updateProgramStatus(programId, !isActive);\n        } catch (error) {\n            console.error(\"Failed to toggle status\", error);\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    return (\n        <button\n            onClick={handleToggle}\n            disabled={isLoading}\n            className=\"text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50\"\n        >\n            {isLoading ? \"Updating...\" : (isActive ? 'Deactivate' : 'Activate')}\n        </button>\n    );\n}\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"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","ignoreList":[0]}